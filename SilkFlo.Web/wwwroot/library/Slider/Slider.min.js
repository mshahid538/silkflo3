"use strict";function DelaneysSlider_MainById(n){if(!n){console.log(`DelaneysSlider_MainById: Element with id: ${n} missing`);return}const t=document.getElementById(n);DelaneysSlider_Main(t)}function DelaneysSlider_Main(n){if(!n){console.log("DelaneysSlider_Main: Element parameter missing.");return}const t=new DelaneysSlider(n)}class DelaneysSlider{constructor(n){this.Logging=!1;this.Main(n)}Main(n){if(!n){this.Log(`Element parameter missing.`);return}if(n.localName!=="div"){this.Log(`element.localName !== div, element.localName = ${n.localName}`);return}this.Elements={delaneysSlider:null,Container:null,OnValueChange:null,SVG:null,Slider:null,Progress:null,Button:null,ButtonPosition:0,Options:[],ClickZones:[],LabelContainer:null,Labels:[],Label:null,LabelWidth:null,GetHeight:function(){let n=DelaneysSlider.Settings.Button.Diameter+DelaneysSlider.Settings.Button.LineWeight;return n<DelaneysSlider.Settings.Bar.Height&&(n=DelaneysSlider.Settings.Bar.Height),n},GetSliderLeft:function(){return this.GetLabelWidth()/2},GetLabelWidth:function(){if(this.Labels.length===0)return 0;const t=this.Labels[0].getBoundingClientRect(),n=t.width;return this.LabelWidth=n,n},GetProgressLength:function(){if(!this.Label)return null;const n=this.Label.Sort,t=this.GetLabelWidth();return t*n},Add:function(n,t,i,r,u=false){const f=document.createElement(n);return f.setAttribute("DelaneysSlider-name",t),i&&f.setAttribute("class",i),f.style.userSelect="none",f.DelaneysSlider=this.delaneysSlider,u&&r.childNodes.length>0?r.insertBefore(f,r.childNodes[0]):r.appendChild(f),f},AddElements:function(n){if(this.delaneysSlider.Log("AddElements"),this.Container=n,this.Container.DelaneysSlider=this.delaneysSlider,this.Container.setAttribute("DelaneysSlider-name","container"),!this.delaneysSlider.IsReadOnly){this.OnValueChange=this.Container.getAttribute("onValueChange");const n=new MutationObserver(this.OnValueChangeHandler);n.observe(this.Container,{attributes:!0})}if(this.GetOptions(),this.AddLabels(),this.SliderContainer=this.Add("div","Delaney's Slider Container","",this.Container,!0),this.SliderContainer.setAttribute("style","position: relative;"),this.AddSlider(),this.AddProgress(),this.delaneysSlider.IsReadOnly||this.AddClickZones(),this.AddButton(),this.SetAnimation(),this.Container.hasAttribute("value")){const n=this.Container.getAttribute("value"),t=this.Labels.length;for(let i=0;i<t;i++){const t=this.Labels[i];if(t.id===n){this.Label=t;break}}this.SetButtonPosition()}},OnValueChangeHandler:function(n){n.forEach(function(n){if(n.target.DelaneysSlider.Elements.OnValueChange&&n.type==="attributes"&&n.attributeName==="value"){const t=n.target.DelaneysSlider.Elements.OnValueChange.split(";");for(let i=0;i<t.length;i++){const f=t[i].trim(),r=f.split("(");if(!(r.length<2)){const e=r[0];let u=r[1];u=u.replace(")","");const o=u.split(",");n.target.DelaneysSlider.ExecuteFunctionByName(e,o)}}}})},GetOptions:function(){if(this.delaneysSlider.Log("GetOptions"),this.Container.childNodes.length===0){this.Container.innerHTML="No options available";return}const i=this.Container.childNodes.length,n=this.Container.childNodes;let t=0;for(let r=0;r<i;r++)if(n[r].localName!==undefined){n[r].hasAttribute("selected")&&(this.Container.setAttribute("value",n[r].id),this.ButtonPosition=t);let u="";n[r].hasAttribute("Slider-Background")&&(u=n[r].getAttribute("Slider-Background"));let f="";n[r].hasAttribute("Slider-Colour")&&(f=n[r].getAttribute("Slider-Colour"));const e=n[r].innerHTML,i=Object.create({Content:null,Id:null,ProcessBackground:u,ButtonSliderColour:f});i.Content=e;(n[r].id!==undefined||n[r].id.length>0)&&(i.Id=n[r].id,this.Options.push(i),t++)}if(!this.Container.hasAttribute("value")&&this.Options.length>0&&this.Container.setAttribute("value",this.Options[0].Id),this.Container.innerHTML="",this.delaneysSlider.Log("this.Options = "+this.Options),this.Options.length===0){this.Container.innerHTML="No options available";return}},AddLabels:function(){this.LabelContainer=this.Add("div","Delaney's Slider Label Container","",this.Container);this.LabelContainer.setAttribute("style","display: flex;");const n=new ResizeObserver(this.Label_Resize);n.observe(this.LabelContainer);n.delaneysSlider=this.delaneysSlider;const t=this.Options.length,i=DelaneysSlider.Settings.Button.Diameter+DelaneysSlider.Settings.Unit;for(let n=0;n<t;n++){const t=this.Add("div",`'Delaney's Slider Label ${n}`,"",this.LabelContainer);let r="";this.delaneysSlider.IsReadOnly||(r="cursor: pointer; ");t.setAttribute("style",`display:flex; text-align: center; justify-content: center; ${r}user-select: none; margin-top: ${i};`);t.classList.add(DelaneysSlider.Settings.Label.Class);t.innerHTML=this.Options[n].Content;t.id=this.Options[n].Id;t.Sort=n;this.delaneysSlider.IsReadOnly||t.addEventListener("click",this.Label_Click);t.ButtonSliderColour=this.Options[n].ButtonSliderColour;t.ProcessBackground=this.Options[n].ProcessBackground;this.Options[n].IsSelected&&(this.Label=t);this.Labels.push(t)}this.Label===null&&(this.Label=this.Labels[0])},AddSlider:function(){const n=DelaneysSlider.Settings.Unit;let t=this.GetHeight()/2;t+=n;const r=DelaneysSlider.Settings.Bar.Height+n;let i=DelaneysSlider.Settings.Bar.Height/2;i+=n;this.Slider=this.Add("div","Delaney's Slider","delaneysSlider-bar",this.SliderContainer,!1);this.Slider.setAttribute("style","border-radius: "+i+" ; top: "+t+"; height: "+r+"; position: absolute;");this.Slider.classList.add("delaneysSlider-bar")},AddProgress:function(){const n=DelaneysSlider.Settings.Unit;let t=this.GetHeight()/2;t+=n;const r=this.GetSliderLeft()+n;let i=DelaneysSlider.Settings.Bar.Height/2;i+=n;const u=DelaneysSlider.Settings.Bar.Height+n;this.Progress=this.Add("div","Delaney's Slider Progress","delaneysSlider-bar",this.SliderContainer,!1);this.Progress.setAttribute("style","border-radius: "+i+" ; top: "+t+"; left: "+r+"; width: 0; height: "+u+"; position: absolute;")},AddClickZones:function(){const t=this.GetLabelWidth(),n=DelaneysSlider.Settings.Unit,i=this.Options.length,r=this.GetHeight();for(let u=0;u<i;u++){const f=t*u,i=this.Add("div","Delaney's Slider Click Zone "+u,"",this.SliderContainer,!1);i.style.position="absolute";i.style.left=f+n;i.style.top=0;i.style.width=t+n;i.style.height=r+n;i.addEventListener("click",this.Zone_Click);i.style.background="transparent";i.style.cursor="pointer";i.ButtonSliderColour=this.Options[u].ButtonSliderColour;i.ProcessBackground=this.Options[u].ProcessBackground;i.id=this.Options[u].Id;i.Sort=u;this.ClickZones.push(i)}},AddButton:function(){if(this.Labels.length!==0){const t=DelaneysSlider.Settings.Unit;let n=DelaneysSlider.Settings.Button.Diameter;const u=n/2;let i=this.GetSliderLeft()-u,r=DelaneysSlider.Settings.Bar.Height/2;r+=t;i+=t;n+=t;const f=this.Container.getAttribute("name");this.Button=this.Add("button","Delaney's Slider Button","delaneysSlider-btn",this.SliderContainer,!1);this.Button.name=`Button${f}`;const e=`left: 0; border: 2px solid; border-radius: ${n}; margin-top: ${r}; margin-left: ${i}; width: ${n}; height: ${n}; position: absolute;`;this.Button.setAttribute("style",e);this.Button.addEventListener("keydown",this.Button_KeyDown)}},SetAnimation:function(){this.Button!==null&&(this.Button.style.transition=DelaneysSlider.Settings.AnimationTime/1e3+"s",this.Progress.style.transition=DelaneysSlider.Settings.AnimationTime/1e3+"s")},SetButtonPosition:function(){if(this.Label!==undefined){const n=DelaneysSlider.Settings.Unit,r=this.GetSliderLeft(),u=DelaneysSlider.Settings.Button.Diameter,f=u/2;let t=r-f;t+=n;const i=this.GetProgressLength()+n;this.Progress.style.background=this.Label.ProcessBackground;this.Progress.style.width=i;this.Button.style.left=i;this.Button.style.marginLeft=t;this.Button.style.color=this.Label.ButtonSliderColour}},Button_KeyDown:function(n){const t=n.target.DelaneysSlider.Elements;let i=0;const r=t.Container.getAttribute("value");if(r!==undefined){const n=t.Labels.length;for(let u=0;u<n;u++){const n=t.Labels[u];if(n.id===r){i=u;break}}}if(n.key==="ArrowRight"&&i++,n.key==="ArrowLeft"&&i--,!(i<0)&&!(i>=t.length)){const u=t.Labels[i];t.SlideTo(u)}},Label_Click:function(){this.DelaneysSlider.Elements.SlideTo(this)},Zone_Click:function(){const n=Object.create({Sort:this.Sort,id:this.id,ProcessBackground:this.ProcessBackground,ButtonSliderColour:this.ButtonSliderColour});this.DelaneysSlider.Elements.SlideTo(n)},SlideTo:function(n){this.Label=n;this.Container.setAttribute("value",n.id);this.ButtonPosition=n.Sort;this.SetButtonPosition()},Label_Resize:function(){const n=DelaneysSlider.Settings.Unit,t=this.delaneysSlider.Elements.GetLabelWidth(),i=this.delaneysSlider.Elements.Options.length,u=t*(i-1)+n,r=t/2;this.delaneysSlider.Elements.Slider!==null&&(this.delaneysSlider.Elements.Slider.style.width=u,this.delaneysSlider.Elements.Slider.style.left=r+n,this.delaneysSlider.Elements.Progress.style.left=r+n);const f=this.delaneysSlider.Elements.ClickZones.length;for(let i=0;i<f;i++){const u=t*i,r=this.delaneysSlider.Elements.ClickZones[i];r.style.left=u+n;r.style.width=t+n}this.delaneysSlider.Elements.SetButtonPosition();const e=t*i;this.delaneysSlider.Elements.Container.style.width=e+n}};this.IsReadOnly=n.hasAttribute("isReadOnly")?!0:!1;this.Elements.delaneysSlider=this;this.Elements.AddElements(n)}Log(n){this.Logging&&console.log(`Delaney's Slider: ${n}`)}ExecuteFunctionByName(n,t){const u="DelaneysSlider.ExecuteFunctionByName";if(!n)return console.log(`${u}functionName parameter missing`),null;if(typeof eval(n)!="function")return console.log(`${u}functionName is not a function`),null;let i;if(t)if(typeof t=="object"&&t instanceof Array==!1){if(typeof t[n]!="function")throw t+"."+n+" is not a function";i=Array.prototype.slice.call(arguments,2)}else i=Array.prototype.slice.call(arguments,1),t=window;else t=window;const r=n.split("."),f=r.pop();for(let n=0;n<r.length;n++)t=t[r[n]];this.Log(`fn = ${f}`);for(let n=0;n<i[0].length;n++){let t=i[0][n];t=t.trim();t.length>0&&(t.substring(0,1)==='"'||t.substring(0,1)==="'")&&(t=t.substring(1,t.length));t.length>0&&(t.substring(t.length-1,t.length)==='"'||t.substring(t.length-1,t.length)==="'")&&(t=t.substring(0,t.length-1));i[0][n]=t}return this.Log(`context = ${t}`),this.Log(`args[0] = ${i[0]}`),t[f].apply(t,i[0])}}DelaneysSlider.Settings===undefined&&(DelaneysSlider.Settings={});DelaneysSlider.Settings={Classes:{Button:"delaneysSlider-btn",Bar:"delaneysSlider-bar"},Bar:{Height:12},Button:{Diameter:30,LineWeight:2},Label:{Class:"delaneysSlider-label"},Unit:"px",AnimationTime:500};