String.prototype.replaceAll=function(n,t){const i=this;return i.indexOf(n)===-1?i:i.replace(n,t).replaceAll(n,t)};String.prototype.Trim=function(){return this.replace(new RegExp("^s+|s+$","g"),"")};String.prototype.RTrim=function(){return this.replace(new RegExp("s+$"),"")};String.prototype.LTrim=function(){return this.replace(new RegExp("^s+"),"")};String.prototype.Reverse=function(){return this.split("").reverse().join("")};String.prototype.Left=function(n){const t=this;return n<=0?"":n>t.length?t:t.substring(0,n)};String.prototype.Right=function(n){let t=this;const i=t.length;return n<=0?"":n>i?t:t.substring(i,i-n)};String.prototype.ToPixel=function(){if(this.Right(2)==="vw"){const n=this.Left(this.length-2).trim(),t=parseInt(n);return document.documentElement.clientWidth/100*t}if(this.Right(2)==="vh"){const n=this.Left(this.length-2).trim(),t=parseInt(n);return document.documentElement.clientHeight/100*t}if(this.Right(2)==="px"){const n=this.Left(this.length-2).trim();return parseInt(n)}if(this.Right(3)==="rem"){const n=this.Left(this.length-3).trim(),t=parseInt(n);return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}};"use strict";var Delaney={};Delaney.UI||(Delaney.UI={});Delaney.UI.ToolTip={Element:null,Show:function(n,t){Delaney.UI.ToolTip.Element||(Delaney.UI.ToolTip.Element=document.createElement("div"),Delaney.UI.ToolTip.Element.style.position="absolute",Delaney.UI.ToolTip.Element.style.display="none",Delaney.UI.ToolTip.Element.id="tooltip",document.body.appendChild(Delaney.UI.ToolTip.Element));const i=Delaney.UI.ToolTip.Element;if(!i){console.log("Delaney.UI.ToolTip.Show: Generic Tooltip element is missing.");return}let u=0,f=15;t&&(t=t.replace(/{{/g,'"'),t=t.replace(/}}/g,'"'));i.innerHTML=t;i.style.display="block";const r=i.getBoundingClientRect();n.pageY+r.height+f>window.innerHeight&&(f=(r.height+10)*-1);n.pageX+r.width+u+40>window.innerWidth&&(u=r.width*-1);i.innerHTML=t;i.style.display="block";i.style.left=n.pageX+u+"px";i.style.top=n.pageY+f+"px"},ShowErrors:function(n,t,i){if(!t){console.log("Delaney.UI.ToolTip.ShowErrors: lines parameter is missing.");return}let r='<span class="text-danger" style="font-size: 0.8rem;">';const u=t.length;for(let n=0;n<u;n++)r+=t[n]+"<\/br>";r+="<\/span>";this.Show(n,r,i)},Hide:function(){const n=Delaney.UI.ToolTip.Element;n&&(n.style.display="none")}};Delaney.UI.Grid={Attribute:{Tag:"delaney-ui-grid",Height:"delaney-ui-height",Top:"delaney-ui-top",Bottom:"delaney-ui-bottom",StickyColumn:"delaney-ui-grid-sticky-column"},GetAttributes:function(n){let t=null;n.getAttribute(Delaney.UI.Grid.Attribute.Height)&&(t=n.getAttribute(Delaney.UI.Grid.Attribute.Height));let i=null;n.getAttribute(Delaney.UI.Grid.Attribute.Top)&&(i=n.getAttribute(Delaney.UI.Grid.Attribute.Top));let r=null;n.getAttribute(Delaney.UI.Grid.Attribute.Bottom)&&(r=n.getAttribute(Delaney.UI.Grid.Attribute.Bottom));let u=null;n.getAttribute(Delaney.UI.Grid.Attribute.StickyColumn)&&(u=parseInt(n.getAttribute(Delaney.UI.Grid.Attribute.StickyColumn)));return{Height:t,Top:i,Bottom:r,StickyColumn:u}},Create:function(n){const t="Delaney.UI.Grid.Create: ";let i;const r=`[${Delaney.UI.Grid.Attribute.Tag}]`;i=n?n.querySelectorAll(r):window.document.querySelectorAll(r);const u=i.length;for(let n=0;n<u;n++){const u={Attribute:null,TableHeader:null,TableBody:null,HeaderBar:null,HeaderCells:[],Rows:[]},f=i[n];if(u.Attribute=Delaney.UI.Grid.GetAttributes(f),f.localName!=="table"){console.log(t+"Element not a table (element: <"+f.localName+">)");continue}const e=f.querySelector("thead");if(!e){console.log(t+"thead missing");continue}e.Grid=u;const o=f.querySelector("tbody");if(!o){console.log(t+"tbody missing");continue}o.Grid=u;u.TableHeader=e;u.TableBody=o;const h=document.createElement("div");f.parentNode.insertBefore(h,f);h.setAttribute("delaney-ui-name","Grid Container");h.style.overflow="hidden";const y=Delaney.UI.Grid.AddElement("div","Grid Header",h);u.HeaderBar=y;const w=Delaney.UI.Grid.AddElement("div","Grid Header Content",y,"overflow: hidden;"),l=Delaney.UI.Grid.AddElement("table","Grid Header Table",w,"table-layout: fixed; width: unset; margin-bottom: 0;");l.appendChild(e);const r=Delaney.UI.Grid.AddElement("div","Content Container",h,"overflow: auto;");r.addEventListener("scroll",n=>{l.style.marginLeft=n.target.scrollLeft*-1+"px"});const a=Delaney.UI.Grid.AddElement("table","Grid Content Table",r,"width: unset;");a.appendChild(o);const p=f.getAttribute("class");l.setAttribute("class",p);a.setAttribute("class",p);const s=[];let c=e.children[0].children.length;for(let n=0;n<c;n++){const t=e.children[0].children[n];t.TableHeader=e;const i={Sort:{Ascending:null,Descending:null,NoSort:null}};if(t.innerHTML.trim().length>0){const s=t.innerHTML;t.innerHTML=`<div style="display: flex; align-items: center;">${s}</div>`;t.ColumnId=n;const h=t.children[0],o=Delaney.UI.Grid.AddElement("div","Sort Container",h,"display: flex; margin-left: 0.5rem;"),r=Delaney.UI.Grid.AddElement("div","Sort Ascending",o,"display: none;",Delaney.UI.Grid.Settings.Classes.Sort.Ascending),f=Delaney.UI.Grid.AddElement("div","Sort Descending",o,"display: none;",Delaney.UI.Grid.Settings.Classes.Sort.Descending),e=Delaney.UI.Grid.AddElement("div","No Sort",o,null,Delaney.UI.Grid.Settings.Classes.Sort.NoSort);r.Th=t;r.addEventListener("click",Delaney.UI.Grid.SortAscendingOnClick);i.Sort.Ascending=r;r.Grid=u;f.Th=t;f.addEventListener("click",Delaney.UI.Grid.SortDescendingOnClick);i.Sort.Descending=f;f.Grid=u;e.Th=t;e.addEventListener("click",Delaney.UI.Grid.NoSortOnClick);i.Sort.NoSort=e;e.Grid=u}t.style.whiteSpace||(t.style.whiteSpace="nowrap");e.TableBody=o;let h=t.getBoundingClientRect(),c=h.width,r=t.style.minWidth,f=null;r&&(f=r.ToPixel());n===u.Attribute.StickyColumn&&(t.style.position="sticky",t.style.left=0,t.style.zIndex=t.style.zIndex+1);const l={Element:t,Buttons:i};u.HeaderCells.push(l);t.Buttons=i;t.Grid=u;s.push({width:c,minWidth:f})}c=o.children.length;for(let n=0;n<c;n++){const t=o.children[n];u.Rows.push(t);const i=t.children.length;for(let r=0;r<i;r++){const i=t.children[r];i.style.whiteSpace||(i.style.whiteSpace="nowrap");const c=i.getBoundingClientRect();let o=c.width,h=i.style.minWidth;if(h){let n=h.ToPixel();s[r].minWidth>n&&(s[r].minWidth=n)}s[r].width<o&&(s[r].width=o);r===u.Attribute.StickyColumn&&(i.style.position="sticky",i.style.left=0,i.style.zIndex=i.style.zIndex+1);i.Th=e.children[0].children[r];i.ResizeColumnHeader=function(){const n=this.getBoundingClientRect();this.Th.style.width=n.width+"px"};i.Sort=n;const f=i.getAttribute("value");i.Value=f?isNaN(f)?f.toLowerCase():Number(f):""}}c=s.length;for(let n=0;n<c;n++){const i=u.HeaderCells[n].Element,t=s[n];t.minWidth?(i.style.minWidth=`${t.minWidth}px`,i.style.width=`${t.minWidth}px`):(i.style.minWidth=`${t.width}px`,i.style.width=`${t.width}px`)}c=o.children.length;for(let n=0;n<c;n++){const t=u.Rows[n];let i=t.children.length;for(let n=0;n<i;n++){const r=t.children[n],i=s[n];i.minWidth?(r.style.minWidth=`${i.minWidth}px`,r.style.width=`${i.minWidth}px`):(r.style.minWidth=`${i.width}px`,r.style.width=`${i.width}px`)}}r.Grid=u;r.TableHeader=e;r.TableBody=o;r.Reformat=function(){let n=r.Grid.Attribute.Height;if(n)r.style.height=n;else{const t=r.Grid.Attribute.Bottom;if(t){let i=r.Grid.Attribute.Top;if(i)i=i.ToPixel();else{const n=r.getBoundingClientRect();i=n.top}const u=window.innerHeight;n=u-i-t.ToPixel();r.style.height=n+"px"}}if(r.Grid.Rows.length>0){const n=r.Grid.Rows[0],t=n.children.length;for(let i=0;i<t;i++){const t=r.Grid.HeaderCells[i].Element,u=n.children[i],f=u.getBoundingClientRect();t.style.width=f.width+"px"}}const t=r.Grid.HeaderBar;if(r.scrollHeight===r.clientHeight)t.style.paddingRight="0";else{const n=r.offsetWidth-r.clientWidth+"px";t.style.paddingRight=n}};r.Reformat();l.style.width="";a.style.width="";f.id&&(h.id=f.id,l.id=f.id+".Header",a.id=f.id+".Content");const v=f.getAttribute("name");v&&(h.setAttribute("name",v),l.setAttribute("name",v+".Header"),a.setAttribute("name",v+".Content"));f.remove();window.addEventListener("resize",r.Reformat)}},NoSortOnClick:function(n){n.target.style.display="none";n.target.Th.Buttons.Sort.Ascending.style.display="block";Delaney.UI.Grid.SortAscending(n.target.Th);Delaney.UI.Grid.ResetSort(n.target.Th)},SortAscendingOnClick:function(n){n.target.style.display="none";n.target.Th.Buttons.Sort.Descending.style.display="block";Delaney.UI.Grid.SortDescending(n.target.Th);Delaney.UI.Grid.ResetSort(n.target.Th)},SortDescendingOnClick:function(n){n.target.style.display="none";n.target.Th.Buttons.Sort.NoSort.style.display="block";Delaney.UI.Grid.NoSort(n.target.Th);Delaney.UI.Grid.ResetSort(n.target.Th)},SortAscending:function(n){const r=n.TableHeader,t=r.TableBody,u=Array.from(t.children),i=u.sort((t,i)=>t.children[n.ColumnId].Value>i.children[n.ColumnId].Value?1:-1);t.innerHTML="";const f=i.length;for(let n=0;n<f;n++)t.appendChild(i[n])},SortDescending:function(n){const r=n.TableHeader,t=r.TableBody,u=Array.from(t.children),i=u.sort((t,i)=>t.children[n.ColumnId].Value<i.children[n.ColumnId].Value?1:-1);t.innerHTML="";const f=i.length;for(let n=0;n<f;n++)t.appendChild(i[n])},NoSort:function(n){const r=n.TableHeader,t=r.TableBody,u=Array.from(t.children),i=u.sort((t,i)=>t.children[n.ColumnId].Sort>i.children[n.ColumnId].Sort?1:-1);t.innerHTML="";const f=i.length;for(let n=0;n<f;n++)t.appendChild(i[n])},ResetSort:function(n){const t=n.parentNode,i=t.children.length;for(let r=0;r<i;r++){const i=t.children[r];if(i!==n&&i.Buttons){if(!i.Buttons.Sort)continue;i.Buttons.Sort.NoSort&&(i.Buttons.Sort.NoSort.style.display="block");i.Buttons.Sort.Ascending&&(i.Buttons.Sort.Ascending.style.display="none");i.Buttons.Sort.Descending&&(i.Buttons.Sort.Descending.style.display="none")}}},AddElement:function(n,t,i,r,u){if(!n)return console.log(`${"Delaney.UI.Grid.AddElement: "}type parameter missing`),null;const f=document.createElement(n);return f.setAttribute("delaney-ui-name",t),r&&f.setAttribute("style",r),u&&f.setAttribute("class",u),i&&i.appendChild(f),f}};Delaney.UI.Grid.Settings={Classes:{Sort:{Ascending:"grid-sort-ascending",Descending:"grid-sort-descending",NoSort:"grid-sort-nosort"}}};Date.prototype.AddDays=function(n){const t=new Date(this.valueOf());return t.setDate(t.getDate()+n),t};Delaney.UI.DatePicker={MainById:function(n,t){const i="Delaney.UI.DatePicker.MainById: ";if(!n){console.log(i+"inputId parameter missing");return}const r=document.getElementById(n);if(!r){console.log(`${i}Element with id "${n}" missing`);return}if(t){const n=document.getElementById(t);if(!n){console.log(`${i}Element with id "${t}" missing`);return}Delaney.UI.DatePicker.Main(r,n)}else Delaney.UI.DatePicker.Main(r,null)},Main:function(n,t,i){if(!n){console.log(`${"Delaney.UI.DatePicker.Main: "}elementInput parameter missing`);return}n.DatePicker=t?new Delaney.UI.DatePicker.Class(n,null,t,i):new Delaney.UI.DatePicker.Class(n,null,null,i)},MainRangeSelectorById:function(n,t,i,r){const u="Delaney.UI.DatePicker.MainRangeSelectorById: ";if(!n){console.log(u+"startId parameter missing");return}const f=document.getElementById(n);if(!f){console.log(`${u}Element with id "${n}" missing`);return}if(!t){console.log(u+"endId parameter missing");return}const e=document.getElementById(t);if(!e){console.log(`${u}Element with id "${t}" missing`);return}if(!i){console.log(u+"buttonId parameter missing");return}const o=document.getElementById(i);if(!o){console.log(`${u}Element with id "${i}" missing`);return}Delaney.UI.DatePicker.MainRangeSelector(f,e,o,r)},MainRangeSelector:function(n,t,i,r){const u="Delaney.UI.DatePicker.MainRangeSelector: ";if(!n){console.log(`${u}elementInputStart parameter missing`);return}if(!t){console.log(`${u}elementInputEnd parameter missing`);return}if(!i){console.log(`${u}elementButton parameter missing`);return}n.DatePicker=new Delaney.UI.DatePicker.Class(n,t,i,r)},UpdateStartDateById:function(n,t){const i="Delaney.UI.DatePicker.UpdateStartDateById: ";if(!n){console.log(`${i}source parameter missing`);return}if(!t){console.log(`${i}targetId parameter missing`);return}const r=document.getElementById(t);if(!r){console.log(`${i}Element with id ${t} missing`);return}Delaney.UI.DatePicker.UpdateStartDate(n,r)},UpdateStartDate:function(n,t){const i="Delaney.UI.DatePicker.UpdateStartDate: ";if(!n){console.log(`${i}source parameter missing`);return}if(!t){console.log(`${i}target parameter missing`);return}if(!t.DatePicker){console.log(`${i}DatePicker property missing`);return}if(n.DatePicker)t.DatePicker.Moments.StartDate=n.DatePicker.Moments.DateTime;else if(typeof n.value=="string"){const i=Delaney.UI.DatePicker.Moments.GetDate(n.value);i&&(t.DatePicker.Moments.StartDate=i)}},UpdateEndDateById:function(n,t){const i="Delaney.UI.DatePicker.UpdateEndDateById: ";if(!n){console.log(`${i}source parameter missing`);return}if(!t){console.log(`${i}targetId parameter missing`);return}const r=document.getElementById(t);if(!r){console.log(`${i}Element with id ${t} missing`);return}Delaney.UI.DatePicker.UpdateEndDate(n,r)},UpdateEndDate:function(n,t){const i="Delaney.UI.DatePicker.UpdateEndDate: ";if(!n){console.log(`${i}source parameter missing`);return}if(!t){console.log(`${i}target parameter missing`);return}if(!t.DatePicker){console.log(`${i}DatePicker property missing`);return}if(n.DatePicker)t.DatePicker.Moments.EndDate=n.DatePicker.Moments.DateTime;else if(typeof n.value=="string"){const i=Delaney.UI.DatePicker.Moments.GetDate(n.value);i&&(t.DatePicker.Moments.EndDate=i)}},CreateDatePickers:function(n){if(!n){console.log(`${"Delaney.UI.DatePicker.CreateDatePickers: "}targetElement parameter missing`);return}const t=n.querySelectorAll("[DatePicker]"),i=t.length;for(let n=0;n<i;n++){const i=t[n],u=i.parentElement,r=u.querySelector("[DatePicker-Button]");r?Delaney.UI.DatePicker.Main(i,r):Delaney.UI.DatePicker.Main(i)}},Moments:{Delimiter:"-",GetDays:function(n,t){return!n&&!t?0:n?t?parseInt((t-n)/864e5,10):0:0},CountCertainDays:function(n,t,i){if(!t||!i)return 0;const r=1+Math.round((i-t)/864e5),u=function(n,i){return n+Math.floor((r+(t.getDay()+6-i)%7)/7)};return n.reduce(u,0)},GetDate:function(n){if(!n)return null;const t=/\d{4}-\d\d-\d\d/.exec(n);return t?new Date(n+"T00:00:00"):null},GetNextSaturday:function(n){if(!n)return console.log(`${"Delaney.UI.DatePicker.Moments.GetNextSaturday: "}date parameter missing`),null;const t=new Date(n);for(t.setDate(n.getDate()+1);;){const n=t.getDay();if(n===6)return t;t.setDate(t.getDate()+1)}},GetPreviousSunday:function(n){if(!n)return console.log(`${"Delaney.UI.DatePicker.Moments.GetPreviousSunday: "}date parameter missing`),null;const t=new Date(n);for(t.setDate(n.getDate()-1);;){const n=t.getDay();if(n===0)return t;t.setDate(t.getDate()-1)}},CheckValue:function(n,t){if(n.charAt(0)!=="0"||n==="00"){let i=parseInt(n);(isNaN(i)||i<=0||i>t)&&(i=1);n=i>parseInt(t.toString().charAt(0))&&i.toString().length==1?"0"+i:i.toString()}return n}},Class:class{constructor(n,t,i,r){const u="Delaney.UI.DatePicker.Class.constructor: ";if(!n){console.log(`${u}elementInput parameter missing`);return}this.Mode="Day Picker";this.IsVisible=!1;this.IsRangeSelector=!1;r||(r=[1,2,3,4,5]);this.EnableDays=r;this.Elements={datePicker:null,TheFirst:null,Input:null,InputEnd:null,Button:null,CloseMe:null,Parent:null,Picker:null,PickerContainer:null,Toolbar:{datePicker:null,ButtonPrevious:null,ButtonMiddle:null,ButtonNext:null,Add:function(n){if(n===null){console.log("Delaney.UI.DatePicker.Elements.Toolbar.Add: container is null");return}if(!this.datePicker.Elements.DatePicker.Toolbar){const i=this.datePicker.Elements.Add("div","Date Picker Tool Bar",Delaney.UI.DatePicker.Settings.Classes.DatePicker.Toolbar,n);this.datePicker.Elements.DatePicker.Toolbar=i;i.style.width=this.datePicker.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Unit;i.style.display="flex";i.style.flexWrap="nowrap";i.style.marginTop=Delaney.UI.DatePicker.Settings.Picker.PaddingTop+Delaney.UI.DatePicker.Settings.Unit;i.style.marginRight=Delaney.UI.DatePicker.Settings.Picker.PaddingRight+Delaney.UI.DatePicker.Settings.Unit;i.style.marginLeft=Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Unit;let t=this.datePicker.Elements.Add("div","Button Previous",Delaney.UI.DatePicker.Settings.Classes.Toolbar.ButtonPrevious,i);this.datePicker.Elements.Toolbar.ButtonPrevious=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.style.cursor="pointer";t.addEventListener("click",this.datePicker.Elements.Previous_Click);t=this.datePicker.Elements.Add("div","Button Month",Delaney.UI.DatePicker.Settings.Classes.Toolbar.ButtonMiddle,i);this.datePicker.Elements.Toolbar.ButtonMiddle=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width*5+Delaney.UI.DatePicker.Settings.Unit;t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.cursor="pointer";t.style.justifyContent="center";t.addEventListener("click",this.datePicker.Elements.Middle_Click);t=this.datePicker.Elements.Add("div","Button Next",Delaney.UI.DatePicker.Settings.Classes.Toolbar.ButtonNext,i);this.datePicker.Elements.Toolbar.ButtonNext=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.style.cursor="pointer";t.addEventListener("click",this.datePicker.Elements.Next_Click)}},MoveDatePicker:function(n){this.datePicker.Elements.DatePicker.Months.Next.Element.style.display="flex";const i=(this.datePicker.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Picker.PaddingRight)*n,r=`matrix( 1, 0, 0, 1, ${i}, 0)`;let t;t=n===1?this.datePicker.Elements.DatePicker.Months.Previous.Element:this.datePicker.Elements.DatePicker.Months.Next.Element;t.style.transform=r;setTimeout(()=>{let t=this.datePicker.TheFirst;t=new Date(t.setMonth(t.getMonth()+n*-1));this.datePicker.TheFirst=t;this.datePicker.Elements.DatePicker.Months.Container.remove();this.datePicker.Elements.DatePicker.Months.Container=null;this.datePicker.Elements.DatePicker.AddMonthsContainer(this.datePicker.Elements.DatePicker.Container);this.datePicker.Moments.Populate(t);this.datePicker.Elements.Toolbar.ButtonMiddle.innerText=this.datePicker.Moments.GetMonthLong(t);console.log("theFirst: "+t)},Delaney.UI.DatePicker.Settings.AnimationTime)}},DatePicker:{datePicker:null,Container:null,Width:null,Toolbar:null,DayLabelBar:null,Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null,Months:{Container:null,datePicker:null,Previous:{Element:null,Days:[]},Current:{Element:null,Days:[]},Next:{Element:null,Days:[]},Add:function(n,t){const r={Element:null,Days:[]},i=this.datePicker.Elements.Add("div",t,Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelector,n),u=this.datePicker.Elements.DatePicker.Width+Delaney.UI.DatePicker.Settings.Unit;i.style.minWidth=u;i.style.maxWidth=u;i.style.height=Delaney.UI.DatePicker.Settings.Cell.Height*6+Delaney.UI.DatePicker.Settings.Unit;i.style.paddingRight=Delaney.UI.DatePicker.Settings.Picker.PaddingRight+Delaney.UI.DatePicker.Settings.Unit;i.style.paddingBottom=Delaney.UI.DatePicker.Settings.Picker.PaddingBottom+Delaney.UI.DatePicker.Settings.Unit;i.style.paddingLeft=Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Unit;i.style.display="flex";i.style.flexWrap="wrap";i.style.transition=Delaney.UI.DatePicker.Settings.AnimationTime/1e3+"s";const f=42;for(let n=0;n<f;n++){const t=this.datePicker.Elements.Add("div",`Day ${n}`,"",i);t.innerText=n;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.padding=0;t.style.margin=0;t.addEventListener("click",()=>{if(t.IsEnabled){const r=t.getAttribute("datePicker-date"),n=Delaney.UI.DatePicker.Moments.GetDate(r),i=this.datePicker.Moments.GetDisplayDate(n);if(this.datePicker.Moments.IsEqual(this.datePicker.Moments.DateTime,n)){this.datePicker.Elements.Input.value="";this.datePicker.Moments.DateTime=null;this.datePicker.IsRangeSelector&&(this.datePicker.Moments.EndDate=null,this.datePicker.Elements.InputEnd.value="");this.datePicker.Moments.StoreDateTime();this.datePicker.Moments.Populate(this.datePicker.TheFirst);this.datePicker.Elements.Input.dispatchEvent(new Event("input",{bubbles:!0}));return}if(this.datePicker.Moments.DateTime=n,this.datePicker.IsRangeSelector)if(this.datePicker.Moments.StartDate){const t=new Date(this.datePicker.Moments.StartDate);if(t<n)if(this.datePicker.Moments.EndDate&&n<this.datePicker.Moments.EndDate){const r=new Date(this.datePicker.Moments.EndDate),u=Delaney.UI.DatePicker.Moments.GetNextSaturday(t),f=Delaney.UI.DatePicker.Moments.GetPreviousSunday(r);if(u<r&&t<f){const n=u-t,i=r-f;n>i?r.setDate(r.getDate()-2):t.setDate(t.getDate()+2)}const e=n-t,o=r-n;e<o?this.datePicker.Elements.Input.value=i:this.datePicker.Elements.InputEnd.value=i}else this.datePicker.Elements.InputEnd.value=i;else n<t?this.datePicker.Elements.Input.value=i:(this.datePicker.Elements.InputEnd.value="",this.datePicker.Elements.Input.value="")}else this.datePicker.Elements.Input.value=i;else this.datePicker.Elements.Input.value=i;this.datePicker.Moments.StoreDateTime();const u=n.getMonth(),f=n.getFullYear(),e=new Date(f,u,1);this.datePicker.Moments.Populate(e);Delaney.UI.DatePicker.Settings.CloseOnSelect&&!this.datePicker.IsRangeSelector&&this.datePicker.CLose();this.datePicker.Elements.Input.dispatchEvent(new Event("input",{bubbles:!0}));this.datePicker.IsRangeSelector&&this.datePicker.Elements.InputEnd.dispatchEvent(new Event("input",{bubbles:!0}))}});r.Days.push(t)}return r.Element=i,r}},Add:function(n){if(n===null){console.log(`Delaney.UI.DatePicker.Elements.DatePicker.Add: container parameter missing`);return}if(!this.datePicker.Elements.DatePicker.Container){const t=this.datePicker.Elements.Add("div","Date Picker","",n);this.datePicker.Elements.DatePicker.Container=t;this.datePicker.Elements.Toolbar.Add(t);this.datePicker.Elements.DatePicker.AddDayLabelBar(t)}},AddDayLabelBar:function(n){if(n===null){console.log("Delaney.UI.DatePicker.Elements.DatePicker.AddDayLabelBar: container parameter missing");return}if(!this.datePicker.Elements.DatePicker.DayLabelBar){let i=this.datePicker.Elements.Add("div","Date Picker Day Label Bar",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayLabelBar,n);this.datePicker.Elements.DatePicker.DayLabelBar=i;i.style.width=this.datePicker.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Unit;i.style.display="flex";i.style.flexWrap="nowrap";i.style.marginRight=Delaney.UI.DatePicker.Settings.Picker.PaddingRight+Delaney.UI.DatePicker.Settings.Unit;i.style.marginLeft=Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Unit;let r="Mo",u="Monday",t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Monday,i);this.datePicker.Elements.DatePicker.Monday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="Tu";u="Tuesday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Tuesday,i);this.datePicker.Elements.DatePicker.Tuesday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="We";u="Wednesday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Wednesday,i);this.datePicker.Elements.DatePicker.Wednesday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="Th";u="Thursday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Thursday,i);this.datePicker.Elements.DatePicker.Thursday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="Fr";u="Friday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Friday,i);this.datePicker.Elements.DatePicker.Friday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="Sa";u="Saturday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Saturday,i);this.datePicker.Elements.DatePicker.Saturday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r;r="Su";u="Sunday";t=this.datePicker.Elements.Add("div",`Date Picker ${u}Label`,Delaney.UI.DatePicker.Settings.Classes.DatePicker.Sunday,i);this.datePicker.Elements.DatePicker.Sunday=t;t.style.width=Delaney.UI.DatePicker.Settings.Cell.Width+Delaney.UI.DatePicker.Settings.Unit;t.style.display="flex";t.style.alignItems="center";t.style.justifyContent="center";t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height+Delaney.UI.DatePicker.Settings.Unit;t.innerText=r}},AddMonthsContainer:function(n){if(n===null){console.log("Delaney.UI.DatePicker.Elements.DatePicker.AddMonthsContainer: container parameter missing");return}if(!this.datePicker.Elements.DatePicker.Months.Container){const t=this.datePicker.Elements.Add("div","Date Picker Months Container","",n);this.datePicker.Elements.DatePicker.Months.Container=t;t.style.height=Delaney.UI.DatePicker.Settings.Cell.Height*6+Delaney.UI.DatePicker.Settings.Unit;t.style.display="inline-flex";t.style.flexWrap="nowrap";t.style.gap="0";const r=this.datePicker.Elements.DatePicker.Width*-1+Delaney.UI.DatePicker.Settings.Unit;t.style.marginLeft=r;let i=this.datePicker.Elements.DatePicker.Months.Add(t,"Previous Month");this.datePicker.Elements.DatePicker.Months.Previous=i;i=this.datePicker.Elements.DatePicker.Months.Add(t,"Current Month");this.datePicker.Elements.DatePicker.Months.Current=i;i=this.datePicker.Elements.DatePicker.Months.Add(t,"Next Month");this.datePicker.Elements.DatePicker.Months.Next=i}},GetWidth:function(){let n=30;return Delaney.UI.DatePicker.Settings&&Delaney.UI.DatePicker.Settings.Cell&&Delaney.UI.DatePicker.Settings.Cell.Width&&(n=Delaney.UI.DatePicker.Settings.Cell.Width),n*7}},Add:function(n,t,i,r){const u=document.createElement(n);return u.setAttribute("datePicker-name",t),u.setAttribute("class",i),u.style.userSelect="none",u.DatePicker=this.datePicker,r.appendChild(u),u},AddPicker:function(){if(!this.datePicker.Elements.Picker){const n=document.createElement("div");n.setAttribute("datePicker-name","Picker");this.datePicker.Elements.Picker=n;n.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.Picker);this.datePicker.IsVisible?n.style.display="block":(n.style.display="none",n.style.position="absolute",n.style.zIndex="10000");n.style.overflow="hidden";const t=this.datePicker.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Picker.PaddingRight+2;n.style.width=t+Delaney.UI.DatePicker.Settings.Unit;const i=Delaney.UI.DatePicker.Settings.Cell.Height*8+Delaney.UI.DatePicker.Settings.Picker.PaddingTop+Delaney.UI.DatePicker.Settings.Picker.PaddingBottom+2;if(n.style.height=i+Delaney.UI.DatePicker.Settings.Unit,document.body.appendChild(n),this.datePicker.Geometry.Picker.Width=t,this.datePicker.Geometry.Picker.Height=i,this.datePicker.Elements.AddPickerContainer(n),this.datePicker.IsVisible){const n=this.datePicker.TheFirst;this.datePicker.Moments.Populate(n)}}},AddPickerContainer:function(n){if(n===null){console.log("Delaney.UI.DatePicker.Elements.AddPickerContainer: container parameter missing");return}if(!this.datePicker.Elements.PickerContainer){const t=this.Add("div","Picker Container","",n);this.datePicker.Elements.PickerContainer=t;this.datePicker.Elements.DatePicker.Add(t);this.datePicker.Elements.DatePicker.AddMonthsContainer(this.datePicker.Elements.DatePicker.Container)}},AddCloseMe:function(n){if(!this.datePicker.Elements.CloseMe){const t=this.Add("div","Close me click zone","",n);this.datePicker.Elements.CloseMe=t;t.style.position="fixed";t.style.top="0";t.style.left="0";t.style.width="100vw";t.style.height="100vh";t.style.zIndex="999";t.style.background="none";t.addEventListener("click",()=>{this.datePicker.CLose()})}},Previous_Click:function(){this.DatePicker.Mode==="Day Picker"&&this.DatePicker.Elements.Toolbar.MoveDatePicker(1)},Middle_Click:function(){},Next_Click:function(){this.DatePicker.Mode==="Day Picker"&&this.DatePicker.Elements.Toolbar.MoveDatePicker(-1)},Input_KeyDown:function(n){(n.keyCode===46||n.keyCode===8)&&(this.DatePicker.Elements.Input.value="",this.DatePicker.IsRangeSelector&&(this.datePicker.Moments.StartDate=null),this.DatePicker.Moments.StoreDateTime())},InputEnd_KeyDown:function(n){(n.keyCode===46||n.keyCode===8)&&(this.DatePicker.Elements.InputEnd.value="",this.DatePicker.IsRangeSelector&&(this.datePicker.Moments.EndDate=null),this.DatePicker.Moments.StoreDateTime())},OnInput:function(n){const r=10;n.target.type="text";let u=n.target.value;if(/[^0-9-]/g.test(u)){let t="";n.target.Output!==undefined&&(t=n.target.Output);n.target.value=t;return}const t=u.split(Delaney.UI.DatePicker.Moments.Delimiter).map(function(n){return n.replace(`/${Delaney.UI.DatePicker.Moments.Delimiter}/g`,"")});t[1]&&(t[1]=Delaney.UI.DatePicker.Moments.CheckValue(t[1],12));t[2]&&(t[2]=Delaney.UI.DatePicker.Moments.CheckValue(t[2],31));const f=t.map(function(n,t){return n.length===4&&t===0||n.length===2&&t===1?n+Delaney.UI.DatePicker.Moments.Delimiter:n});let i=f.join("").substr(0,r);n.target.Output===i&&i.length!==r&&(i=i.Left(i.length-1));n.target.Output=i;n.target.value=i},OnLostFocus:function(n){n.target.type="text";const r=n.target.value,t=r.split(Delaney.UI.DatePicker.Moments.Delimiter).map(function(n){return n.replace(/\D/g,"")});let i="";if(t.length===3){const r=t[0].length!==4?parseInt(t[0])+2e3:parseInt(t[0]),u=parseInt(t[1])-1,f=parseInt(t[2]),n=new Date(r,u,f);if(!isNaN(n)){const t=[n.getFullYear(),n.getMonth()+1,n.getDate()];i=t.map(function(n){return n=n.toString(),n.length===1?`0${n}`:n}).join(Delaney.UI.DatePicker.Moments.Delimiter)}}n.target.value=i}};this.Geometry={datePicker:null,Input:{Width:null,Height:null,Left:null,Top:null},Button:{Width:null,Height:null,Left:null,Top:null},Picker:{Width:null,Height:null,Left:null,Top:null},GetPositions:function(){if(this.datePicker.Elements){let n=this.datePicker.Elements.Input.getBoundingClientRect();this.datePicker.Geometry.Input={Width:n.width,Height:n.height,Left:n.left,Top:n.top};this.datePicker.IsVisible||(n=this.datePicker.Elements.Button.getBoundingClientRect(),this.datePicker.Geometry.Button={Width:n.width,Height:n.height,Left:n.left,Top:n.top});n=this.datePicker.Elements.Picker.getBoundingClientRect();this.datePicker.Geometry.Picker={Width:this.datePicker.Geometry.Picker.Width,Height:this.datePicker.Geometry.Picker.Height,Left:n.left,Top:n.top}}},SetPickerPosition:function(){const n="Delaney.UI.DatePicker.Geometry.SetPickerPosition: ";if(!this.datePicker.IsVisible){if(!this.datePicker.Geometry){console.log(`${n}Delaney.UI.DatePicker.Geometry missing`);return}if(!this.datePicker.Geometry.Picker){console.log(`${n}Delaney.UI.DatePicker.Geometry.Picker missing`);return}if(!this.datePicker.Geometry.Input){console.log(`${n}Delaney.UI.DatePicker.Geometry.Input missing`);return}const i=window.innerHeight;this.datePicker.Geometry.GetPositions();const r=this.datePicker.Geometry.Button.Left+this.datePicker.Geometry.Button.Width-this.datePicker.Geometry.Picker.Width+6;let t=(this.datePicker.Geometry.Picker.Top-this.datePicker.Geometry.Button.Top-this.datePicker.Geometry.Button.Height)*-1;i-this.datePicker.Geometry.Button.Top-this.datePicker.Geometry.Button.Height-this.datePicker.Geometry.Picker.Height<0&&(t-=this.datePicker.Geometry.Picker.Height);const u=`matrix( 1, 0, 0, 1, ${r}, ${t})`;this.datePicker.Elements.Picker.style.transform=u}}};this.Moments={datePicker:null,DateTime:null,StartDate:null,EndDate:null,DateTimeString:null,DateTimeStartString:null,DateTimeEndString:null,Locale:null,SetLocale:function(){if(this.Locale===null){if(Delaney.UI.DatePicker.Settings.Locale&&Delaney.UI.DatePicker.Settings.Locale.length>0){this.Locale=Delaney.UI.DatePicker.Settings.Locale;return}if(navigator.languages){this.Locale=navigator.languages[0];return}this.Locale=navigator.language}},StoreDateTime:function(){if(this.datePicker.IsRangeSelector&&(this.StartDate=Delaney.UI.DatePicker.Moments.GetDate(this.datePicker.Elements.Input.value),this.EndDate=Delaney.UI.DatePicker.Moments.GetDate(this.datePicker.Elements.InputEnd.value)),this.DateTime=Delaney.UI.DatePicker.Moments.GetDate(this.datePicker.Elements.Input.value),this.DateTime&&(!this.DateTimeString||this.DateTimeString!==this.datePicker.Elements.Input.value)){if(this.DateTimeString=this.datePicker.Elements.Input.value,isNaN(this.DateTime.getTime())){const n=new Date;this.DateTime=new Date(n.getFullYear(),n.getMonth(),n.getDate())}const n=this.DateTime.getMonth(),t=this.DateTime.getFullYear();this.datePicker.TheFirst=new Date(t,n,1)}},Populate:function(n){if(!n){console.log(`${u}theFirst parameter missing`);return}this.datePicker.Elements.Toolbar.ButtonMiddle.innerText=this.GetMonthLong(n);const t=new Date(n);t.setMonth(t.getMonth()-1);const i=new Date(n);i.setMonth(i.getMonth()+1);this.PopulateMonth(this.datePicker.Elements.DatePicker.Months.Previous,t);this.PopulateMonth(this.datePicker.Elements.DatePicker.Months.Current,n);this.PopulateMonth(this.datePicker.Elements.DatePicker.Months.Next,i)},PopulateMonth:function(n,t){const r="Delaney.UI.DatePicker.Moments.PopulateMonth: ";if(!n){console.log(`${r}monthProperty parameter missing`);return}if(!t){console.log(`${r}theFirst parameter missing`);return}if(!Delaney.UI.DatePicker.Settings){console.log(`${r}Delaney.UI.DatePicker.Settings missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayStart){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayStart missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayEnd){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayEnd missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeMiddle){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeMiddle missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayPrevious){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayPrevious missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayNext){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayNext missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelected){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelected missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.Today){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.Today missing`);return}if(!Delaney.UI.DatePicker.Settings.Classes.DatePicker.Day){console.log(`${r}Delaney.UI.DatePicker.Settings.Classes.DatePicker.Day missing`);return}const u=this.GetDay(t);if(u!==0){const n=new Date(t);n.setDate(n.getDate()-1)}const f=new Date(t);f.setMonth(f.getMonth()+1);const e=new Date(f);e.setDate(e.getDate()-1);let i=new Date(t);u!==0&&i.setDate(i.getDate()-u);const s=new Date,h=n.Days.length,o=t.getMonth();this.datePicker.Moments.StartDate&&this.DateTime&&this.DateTime.getTime()<this.datePicker.Moments.StartDate.getTime()&&(this.DateTime=this.datePicker.Moments.StartDate);this.datePicker.Moments.EndDate&&this.DateTime&&this.DateTime.getTime()>this.datePicker.Moments.EndDate.getTime()&&(this.DateTime=this.datePicker.Moments.EndDate);for(let t=0;t<h;t++){const r=n.Days[t],f=this.GetISODate(i);r.Date=i;r.innerText=i.getDate();r.setAttribute("datePicker-date",f);r.IsEnabled=!0;const u=i.getDay();if(this.datePicker.Moments.StartDate&&this.datePicker.Moments.DateTime&&r.Date.getTime()===this.datePicker.Moments.StartDate.getTime()&&this.datePicker.Moments.DateTime.getTime()!==r.Date.getTime())this.datePicker.Moments.DateTime?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayStart);else if(this.datePicker.Moments.EndDate&&this.datePicker.Moments.DateTime&&r.Date.getTime()===this.datePicker.Moments.EndDate.getTime()&&this.datePicker.Moments.DateTime.getTime()!==r.Date.getTime())this.datePicker.Moments.DateTime?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayEnd);else if(this.datePicker.Moments.StartDate&&!this.datePicker.IsRangeSelector&&r.Date.getTime()<this.datePicker.Moments.StartDate.getTime())r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled),r.IsEnabled=!1;else if(this.datePicker.Moments.EndDate&&!this.datePicker.IsRangeSelector&&r.Date.getTime()>this.datePicker.Moments.EndDate.getTime())r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled),r.IsEnabled=!1;else if(this.datePicker.Moments.StartDate&&this.datePicker.Moments.DateTime&&this.datePicker.Moments.StartDate.getTime()<i.getTime()&&i.getTime()<this.datePicker.Moments.DateTime.getTime()&&this.datePicker.Moments.StartDate.getTime()<this.datePicker.Moments.DateTime)this.IsEqual(this.datePicker.Moments.DateTime,i)&&r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd),this.IsEqual(this.datePicker.Moments.StartDate,i)?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart):(r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeMiddle),r.IsEnabled=this.datePicker.EnableDays.includes(u));else if(this.datePicker.Moments.EndDate&&this.datePicker.Moments.DateTime&&this.datePicker.Moments.EndDate.getTime()>i.getTime()&&i.getTime()>this.datePicker.Moments.DateTime.getTime()&&this.datePicker.Moments.EndDate.getTime()>this.datePicker.Moments.DateTime.getTime())r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeMiddle),r.IsEnabled=this.datePicker.EnableDays.includes(u);else if(i.getMonth()<o)r.IsEnabled=this.datePicker.EnableDays.includes(u),r.IsEnabled?this.IsEqual(this.DateTime,i)?this.datePicker.Moments.StartDate&&this.datePicker.Moments.StartDate.getTime()!==i.getTime()?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd):this.datePicker.Moments.EndDate&&this.datePicker.Moments.EndDate.getTime()!==i.getTime()?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelected):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayPrevious):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled);else if(i.getMonth()>o)r.IsEnabled=this.datePicker.EnableDays.includes(u),r.IsEnabled?this.IsEqual(this.DateTime,i)?this.datePicker.Moments.StartDate&&this.datePicker.Moments.StartDate.getTime()!==i.getTime()?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd):this.datePicker.Moments.EndDate&&this.datePicker.Moments.EndDate.getTime()!==i.getTime()?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelected):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayNext):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled);else if(this.IsEqual(this.DateTime,i)){if(this.datePicker.Moments.StartDate&&this.datePicker.Moments.StartDate.getTime()!==i.getTime())r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeEnd);else if(this.datePicker.Moments.EndDate&&this.datePicker.Moments.EndDate.getTime()!==i.getTime()){let n=Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStart;this.datePicker.IsRangeSelector&&Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStartToolTip.length>0&&(n+=" "+Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayRangeStartToolTip);r.setAttribute("class",n)}else r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DaySelected);r.IsEnabled=this.datePicker.EnableDays.includes(u)}else r.IsEnabled=this.datePicker.EnableDays.includes(u),r.IsEnabled?this.IsEqual(s,i)?r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.Today):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.Day):r.setAttribute("class",Delaney.UI.DatePicker.Settings.Classes.DatePicker.DayDisabled);i=new Date(i);i.setDate(i.getDate()+1)}},IsEqual:function(n,t){return!n||!t?!1:n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()?!0:!1},GetISODate:function(n){const t=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return t+"-"+i+"-"+r},GetISODateTime:function(n){const t=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),u=String(n.getHours()+1).padStart(2,"0"),f=String(n.getMinutes()).padStart(2,"0");return`${t}-${i}-${r}T${u}:${f}:${"00"}`},GetDisplayDate:function(n){let t="YYYY-MM-DD";const i=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),u=String(n.getDate()).padStart(2,"0"),f=String(n.getHours()+1).padStart(2,"0"),e=String(n.getMinutes()).padStart(2,"0"),o=n.getSeconds(),s=n.getMilliseconds();return t=t.replace("YYYY",i),t=t.replace("MM",r),t=t.replace("DD",u),t=t.replace("HH",f),t=t.replace("mm",e),t=t.replace("ss",o),t.replace("sss",s)},Now:function(){const n=Date.now();return new Date(n)},GetDay:function(n){const t=n.getDay();return t===0?6:t-1},GetMonthLong:function(n){return n.toLocaleString(this.Locale,{month:"long"})},GetMonthShort:function(n){return n.toLocaleString(this.Locale,{month:"short"})},GetMonthNarrow:function(n){return n.toLocaleString(this.Locale,{month:"narrow"})}};this.Main(n,t,i)}Main(n,t,i){const f="Delaney.UI.DatePicker.Main: ";if(!n){console.log(`${f}elementInput parameter missing`);return}if(n.localName!=="input"){console.log(`${f}elementInput not an input type`);return}if(t&&n.localName!=="input"){console.log(`${f}elementInputEnd not an input type`);return}const e=n.parentElement;if(i||(this.IsVisible=!0),t&&(this.IsRangeSelector=!0),i||i.localName==="button"||this.IsVisible){if(this.IsVisible||(i.DatePicker=this),this.Elements.datePicker=this,this.Elements.Toolbar.datePicker=this,this.Elements.DatePicker.datePicker=this,this.Elements.DatePicker.Months.datePicker=this,this.Elements.DatePicker.Width=this.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Picker.PaddingRight,this.Geometry.datePicker=this,this.Moments.datePicker=this,this.Elements.Parent=e,n.parentElement.style.display="flex",this.Elements.Input=n,this.Elements.InputEnd=t,n.addEventListener("input",this.Elements.OnInput),n.addEventListener("blur",this.Elements.OnLostFocus),this.IsRangeSelector&&(t.addEventListener("input",this.Elements.OnInput),t.addEventListener("blur",this.Elements.OnLostFocus)),this.IsRangeSelector){const i=Delaney.UI.DatePicker.Moments.GetDate(n.value),r=Delaney.UI.DatePicker.Moments.GetDate(t.value);r<i&&t.setAttribute("value","")}n.value&&n.value.length>12&&(n.value=n.value.substring(0,10));this.IsRangeSelector&&t.value&&t.value.length>12&&(t.value=t.value.substring(0,10));let r="datePicker-DateStart";if(n.hasAttribute(r)){const i=n.getAttribute(r),t=Delaney.UI.DatePicker.Moments.GetDate(i);this.Moments.StartDate=t?t:new Date;n.removeAttribute(r)}if(r="datePicker-StartDate",n.hasAttribute(r)){const i=n.getAttribute(r),t=Delaney.UI.DatePicker.Moments.GetDate(i);this.Moments.StartDate=t?t:new Date;n.removeAttribute(r)}if(r="datePicker-DateEnd",n.hasAttribute(r)){const i=n.getAttribute(r),t=Delaney.UI.DatePicker.Moments.GetDate(i);this.Moments.EndDate=t?t:new Date;n.removeAttribute(r)}if(r="datePicker-EndDate",n.hasAttribute(r)){const i=n.getAttribute(r),t=Delaney.UI.DatePicker.Moments.GetDate(i);this.Moments.EndDate=t?t:new Date;n.removeAttribute(r)}const u="0.25rem";n.style.paddingLeft=u;n.style.paddingRight=u;r="datePicker-StartDate";r="datePicker-DateEnd";r="datePicker-EndDate";this.IsVisible||(this.Elements.Input.classList.add("datePicker-input-remove-rounding"),this.Elements.Button=i,this.Elements.Button.setAttribute("type","button"),this.Elements.Button.addEventListener("click",function(){this.DatePicker.ToggleCalender()}));this.IsRangeSelector&&(this.Elements.InputEnd.style.paddingLeft=u,this.Elements.InputEnd.style.paddingRight=u,this.Elements.InputEnd.style.borderRadius=0);this.Moments.SetLocale();this.Moments.StoreDateTime();this.Elements.AddPicker();this.IsVisible&&(n.style.width=this.Elements.DatePicker.GetWidth()+Delaney.UI.DatePicker.Settings.Picker.PaddingLeft+Delaney.UI.DatePicker.Settings.Picker.PaddingRight+Delaney.UI.DatePicker.Settings.Unit)}}Reset(n,t){this.Moments.StartDate=Delaney.UI.DatePicker.Moments.GetDate(n);this.Moments.EndDate=Delaney.UI.DatePicker.Moments.GetDate(t)}ToggleCalender(){this.IsVisible||(this.Elements.Picker.style.display==="none"?(this.Elements.Picker.style.display="block",this.Geometry.SetPickerPosition(),this.Elements.AddCloseMe(this.Elements.Parent),this.Elements.Input.value?this.Moments.StoreDateTime():this.TheFirst||(this.TheFirst=this.Moments.Now()),this.Moments.Populate(this.TheFirst)):CLose())}CLose(){this.Elements.Picker.style.transform="";this.Elements.Picker.style.display="none";this.Elements.CloseMe.remove();this.Elements.CloseMe=null}SetDisplayMode(){console.log("SetReadOnlyMode");this.Elements.Button.style.display="none";this.Elements.Input.Class=this.Elements.Input.getAttribute("class");this.Elements.Input.setAttribute("class","");this.Elements.Input.Style=this.Elements.Input.getAttribute("style");this.Elements.Input.setAttribute("style","border: none; background: transparent; width: 120px");this.Elements.Input.setAttribute("disabled","disabled");this.IsRangeSelector&&(this.Elements.InputEnd.Class=this.Elements.InputEnd.getAttribute("class"),this.Elements.InputEnd.setAttribute("class",""),this.Elements.InputEnd.Style=this.Elements.InputEnd.getAttribute("style"),this.Elements.InputEnd.setAttribute("style","border: none; background: transparent; width: 120px"),this.Elements.InputEnd.setAttribute("disabled","disabled"))}SetEditMode(){console.log("SetEditMode");this.Elements.Button.style.display="";console.log(this.Elements.Input);this.Elements.Input.Class&&this.Elements.Input.setAttribute("class",this.Elements.Input.Class);this.Elements.Input.Style&&this.Elements.Input.setAttribute("style",this.Elements.Input.Style);this.Elements.Input.removeAttribute("disabled");this.IsRangeSelector&&(this.Elements.InputEnd.Class&&this.Elements.InputEnd.setAttribute("class",this.Elements.InputEnd.Class),this.Elements.InputEnd.Style&&this.Elements.InputEnd.setAttribute("style",this.Elements.InputEnd.Style),this.Elements.InputEnd.removeAttribute("disabled"))}}};Delaney.UI.DatePicker.Settings={Classes:{Toolbar:{ButtonPrevious:"btm btn-danger datePicker-btn-previous",ButtonMiddle:"btm btn-danger datePicker-btn-month",ButtonNext:"btm btn-danger  datePicker-btn-next"},Picker:"datePicker-picker",DatePicker:{Toolbar:"datePicker-toolBar",DayLabelBar:"datePicker-dayLabels",DaySelector:"datePicker-daySelector",Day:"btn btn-day",DayPrevious:"btn btn-day btn-dayPrevious",DayNext:"btn btn-day btn-dayNext",DayDisabled:"btn-dayDisabled",DayStart:"btn btn-day btn-danger",DayEnd:"btn btn-day btn-danger",DayRangeStart:"dayRangeStart",DayRangeMiddle:"dayRangeMiddle",DayRangeEnd:"dayRangeEnd",DayHighlight:"btn btn-day btn-highlight",DaySelected:"btn btn-day btn-danger",Today:"btn btn-outline-danger",Monday:"datePicker-Monday-Label",Tuesday:"datePicker-Tuesday-Label",Wednesday:"datePicker-Wednesday-Label",Thursday:"datePicker-Thursday-Label",Friday:"datePicker-Friday-Label",Saturday:"text-danger",Sunday:"text-danger",DayRangeStartToolTip:"toolTipRemoveText"}},Picker:{PaddingTop:12,PaddingRight:12,PaddingBottom:12,PaddingLeft:12},Cell:{Width:40,Height:40},Unit:"px",Locale:"en-GB",CloseOnSelect:!1,AnimationTime:500};