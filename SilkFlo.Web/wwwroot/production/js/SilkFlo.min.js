/*! @preserve
 * bootbox.js
 * version: 5.5.2
 * author: Nick Payne <nick@kurai.co.uk>
 * license: MIT
 * http://bootboxjs.com/
 */
function IsNumeric(n){let t=!0;return isNaN(n)?t=!1:(n===null||n===undefined||typeof n=="boolean"||typeof n=="function"||typeof n=="object"||n.length===0)&&(t=!1),t}function KeyPressPositiveIntegerOnly(n,t){n.which===189?n.preventDefault():n.which===69?n.preventDefault():n.which===190&&n.preventDefault();(n.keyCode<48||n.keyCode>57)&&n.keyCode!==46&&n.keyCode!==39&&n.keyCode!==37&&n.keyCode!==36&&n.keyCode!==35&&n.keyCode!==9&&n.keyCode!==8&&n.preventDefault();t&&t(n)}function KeyPressPositiveDecimalOnly(n,t){n.which===189?n.preventDefault():n.which===69&&n.preventDefault();(n.keyCode<48||n.keyCode>57)&&n.keyCode!==190&&n.keyCode!==46&&n.keyCode!==39&&n.keyCode!==37&&n.keyCode!==36&&n.keyCode!==35&&n.keyCode!==27&&n.keyCode!==13&&n.keyCode!==9&&n.keyCode!==8&&n.preventDefault();t&&t(n)}function Redirect(n){if(!n){console.log(`${"Redirect: "}url parameter missing`);return}console.log(n);window.location.href=n}function ToggleMobileMenuButton(){const n=document.getElementById("MobileMenuButton");n.classList.toggle("opened");n.setAttribute("aria-expanded",n.classList.contains("opened"))}function dateRangeClicked(){$(function(){$('input[name="daterange"]').daterangepicker({showDropdowns:!0,minYear:2010,maxDate:moment(),locale:{format:"DD-MM-YYYY",cancelLabel:"Clear"}},function(n,t){const i=document.getElementById("startDatepicker");i.value=n.format("MM/DD/YYYY");const r=document.getElementById("endDatepicker");r.value=t.format("MM/DD/YYYY")})});$("#exampleModalCenter").modal("show")}function closeFilterModal(){$("#exampleModalCenter").modal("hide")}function onRangeFilter(){var t=document.querySelectorAll('input[name="dateSpanRd"]'),n;let i;for(n=0;n<t.length;n++)if(t[n].checked){i=t[n].value;break}if(i=="DATERANGE"){const n=document.getElementById("startDatepicker");n.disabled=!1;const t=document.getElementById("endDatepicker");t.disabled=!1;const i=document.getElementById("daterange");i.disabled=!1}else{const n=document.getElementById("startDatepicker");n.disabled=!0;const t=document.getElementById("endDatepicker");t.disabled=!0;const i=document.getElementById("daterange");i.disabled=!0}}function applyAndAdjustFilteredDataIntoExistingView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$.when($.get("/api/Dashboard/GetTotalIdeas"+n),$.get("/api/Dashboard/GetTotalInBuild"+n),$.get("/api/Dashboard/GetTotalDeployed"+n),$.get("/api/Dashboard/GetTotalDeploymentBenefits"+n),$.get("/api/Dashboard/GetPipelineBenefitsByStage"+n)).done(function(n,t,i,r,u){var f,e;$("#totalIdeas").html(n[0]);$("#totalInBuild").html(t[0]);$("#totalDeployed").html(i[0]);$("#totalDeploymentBenefits").html(r[0]);f=document.getElementById("Chart.PipelineBenefitsByStage");$(f).empty();f.innerHTML=u[0];e=document.getElementById("quickFilter-loader");e.innerHTML="";$("#exampleModalCenter").modal("hide")});$.get("/api/Dashboard/GetAutomationProgramPerformance"+n,function(n){var t=document.getElementById("Chart.AutomationProgramPerformance");$(t).empty();t.innerHTML=n});$.get("/api/Business/Idea/GetSummary"+n,function(n){var t=document.getElementById("Business.Idea.Summary");$(t).empty();t.innerHTML=n})}function clearAllFiltersAndAdjustDataIntoExistingView(){$("#exampleModalCenter").modal("hide");reRenderFilterOptionModal();$("#totalIdeas").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#totalInBuild").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#totalDeployed").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#totalDeploymentBenefits").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#exampleModalCenter").modal("hide");$.when($.get("/api/Dashboard/GetTotalIdeas"),$.get("/api/Dashboard/GetTotalInBuild"),$.get("/api/Dashboard/GetTotalDeployed"),$.get("/api/Dashboard/GetTotalDeploymentBenefits"),$.get("/api/Dashboard/GetPipelineBenefitsByStage")).done(function(n,t,i,r,u){var f,e;$("#totalIdeas").html(n[0]);$("#totalInBuild").html(t[0]);$("#totalDeployed").html(i[0]);$("#totalDeploymentBenefits").html(r[0]);f=document.getElementById("Chart.PipelineBenefitsByStage");$(f).empty();f.innerHTML=u[0];e=document.getElementById("quickFilter-loader");e.innerHTML=""});$.get("/api/Dashboard/GetAutomationProgramPerformance",function(n){var t=document.getElementById("Chart.AutomationProgramPerformance");$(t).empty();t.innerHTML=n});$.get("/api/Business/Idea/GetSummary",function(n){var t=document.getElementById("Business.Idea.Summary");$(t).empty();t.innerHTML=n})}function reRenderFilterOptionModal(){var n=document.querySelector('[name="Dashboard.Performance.Content"]');$(n).empty();n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$.get("/api/Dashboard/Performance",function(n){var t=document.querySelector('[name="Dashboard.Performance.Content"]');$(t).empty();t.innerHTML=n})}function showWorkshopModal(){$(function(){$('input[name="daterange"]').daterangepicker({opens:"left",showDropdowns:!0,minYear:2010,maxDate:moment(),locale:{format:"DD-MM-YYYY",cancelLabel:"Clear"}},function(n,t){const i=document.getElementById("startDatepicker");i.value=n.format("MM/DD/YYYY");const r=document.getElementById("endDatepicker");r.value=t.format("MM/DD/YYYY")})});$("#workshopFilterModal").modal("show")}function hideWorkshopModal(){$("#workshopFilterModal").modal("hide")}function applyFiltersAndAdjustWorkshopCurrentView(){var t=window.location.href.split("/"),c,l,i,a;if(t&&t[t.length-1]=="Review"){applyFiltersAndAdjustWorkshopStatusView();return}if(t&&t[t.length-1]=="Assess"){applyFiltersAndAdjustWorkshopAssessView();return}if(t&&t[t.length-1]=="Decision"){applyFiltersAndAdjustWorkshopDecisionView();return}if(t&&t[t.length-1]=="Build"){applyFiltersAndAdjustWorkshopBuildView();return}if(t&&t[t.length-1]=="Deployed"){applyFiltersAndAdjustWorkshopDeployedView();return}const v=document.querySelectorAll('input[name="dateSpanRd"]');let r,n="";for(const n of v)if(n.checked){r=n.value;break}r&&(r=="DATERANGE"&&(c=document.getElementById("startDatepicker").value,l=document.getElementById("endDatepicker").value,n="?startDate="+c+"&endDate="+l),r=="WEEK"&&(n="?isWeekly=true"),r=="MONTH"&&(n="?isMonthly=true"),r=="YEAR"&&(n="?isYearly=true"));const y=document.querySelectorAll('input[name="ISListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&ideaSubmitters="+u.join(","):"?ideaSubmitters="+u.join(","));const p=document.querySelectorAll('input[name="POListCheckbox"]'),f=[];p.forEach(n=>{n.checked&&f.push(n.value)});f&&(n=n?n+"&processOwners="+f.join(","):"?processOwners="+f.join(","));const s=document.querySelectorAll('input[name="filterDepartment"]');let e=[];for(i=0;i<s.length;i++)if(s[i].checked){e.push(s[i].id);break}e&&(n=n?n+"&departmentsId="+e.join(","):"?departmentsId="+e.join(","));const h=document.querySelectorAll('input[name="filterTeam"]');let o=[];for(i=0;i<h.length;i++)if(h[i].checked){o.push(h[i].id);break}o&&(n=n?n+"&teamsId="+o.join(","):"?teamsId="+o.join(","));a=document.getElementById("quickFilter-loader");a.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#content").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/All"+n)).done(function(n){$("#content").html(n)})}function applyFiltersAndAdjustWorkshopStatusView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Review"+n),$.get("/api/tile/StageGroup/Review/TotalIdeas"+n),$.get("/api/tile/StageGroup/Review/AwaitingReview"+n)).done(function(n,t,i){$("#WorkshopContent").html(n[0]);console.log("totalIdeaResponse",t);console.log("awaitingReviewReponse",i);var r='<div silkflo-url="tile/StageGroup/Review/TotalIdeas">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Review/AwaitingReview">'+i[0]+"<\/div>";$("#tilesViewer").html(r)})}function applyFiltersAndAdjustWorkshopAssessView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Assess"+n),$.get("/api/tile/StageGroup/Assess/TotalIdeas"+n),$.get("/api/tile/StageGroup/Assess/PotentialHourSavings"+n),$.get("/api/tile/StageGroup/Assess/AwaitingReview"+n),$.get("/api/tile/StageGroup/Assess/PotentialBenefit"+n)).done(function(n,t,i,r,u){$("#WorkshopContent").html(n[0]);var f='<div silkflo-url="tile/StageGroup/Assess/TotalIdeas">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/PotentialBenefit">'+u[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/PotentialHourSavings">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/AwaitingReview">'+r[0]+"<\/div>";$("#tilesViewer").html(f)})}function applyFiltersAndAdjustWorkshopDecisionView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Decision"+n),$.get("/api/tile/StageGroup/Decision/PotentialBenefit"+n),$.get("/api/tile/StageGroup/Decision/EstimatedOneTimeCost"+n),$.get("/api/tile/StageGroup/Decision/EstimatedRunningCosts"+n)).done(function(n,t,i,r){$("#WorkshopContent").html(n[0]);var u='<div silkflo-url="tile/StageGroup/Decision/PotentialBenefit">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Decision/EstimatedOneTimeCost">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Decision/EstimatedRunningCosts">'+r[0]+"<\/div>";$("#tilesViewer").html(u)})}function applyFiltersAndAdjustWorkshopBuildView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Build"+n),$.get("/api/tile/StageGroup/Build/TotalInBuild"+n),$.get("/api/tile/StageGroup/Build/PotentialBenefit"+n),$.get("/api/tile/StageGroup/Build/TotalAtRisk"+n),$.get("/api/tile/StageGroup/Build/TotalBenefitAtRisk"+n),$.get("/api/tile/StageGroup/Build/EstimatedOneTimeCost"+n)).done(function(t,i,r,u,f,e){$("#WorkshopContent").html(t[0]);var o='<div silkflo-url="tile/StageGroup/Build/TotalInBuild">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/PotentialBenefit">'+r[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/TotalAtRisk">'+u[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/TotalBenefitAtRisk">'+f[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/EstimatedOneTimeCost">'+e[0]+"<\/div>";$("#tilesViewer").html(o);setTimeout(()=>{$.get("/api/Workshop/GetAutomationBuildPipeline"+n,function(n){var t=document.querySelector("[name='Chart.AutomationBuildPipeline'], [id='automationMatrix']");console.log("myDiv",t);$(t).empty();t.innerHTML=n})})})}function applyFiltersAndAdjustWorkshopDeployedView(){var h,c,t,l;const a=document.querySelectorAll('input[name="dateSpanRd"]');let i,n="";for(const n of a)if(n.checked){i=n.value;break}i&&(i=="DATERANGE"&&(h=document.getElementById("startDatepicker").value,c=document.getElementById("endDatepicker").value,n="?startDate="+h+"&endDate="+c),i=="WEEK"&&(n="?isWeekly=true"),i=="MONTH"&&(n="?isMonthly=true"),i=="YEAR"&&(n="?isYearly=true"));const v=document.querySelectorAll('input[name="ISListCheckbox"]'),r=[];v.forEach(n=>{n.checked&&r.push(n.value)});r&&(n=n?n+"&ideaSubmitters="+r.join(","):"?ideaSubmitters="+r.join(","));const y=document.querySelectorAll('input[name="POListCheckbox"]'),u=[];y.forEach(n=>{n.checked&&u.push(n.value)});u&&(n=n?n+"&processOwners="+u.join(","):"?processOwners="+u.join(","));const o=document.querySelectorAll('input[name="filterDepartment"]');let f=[];for(t=0;t<o.length;t++)if(o[t].checked){f.push(o[t].id);break}f&&(n=n?n+"&departmentsId="+f.join(","):"?departmentsId="+f.join(","));const s=document.querySelectorAll('input[name="filterTeam"]');let e=[];for(t=0;t<s.length;t++)if(s[t].checked){e.push(s[t].id);break}e&&(n=n?n+"&teamsId="+e.join(","):"?teamsId="+e.join(","));l=document.getElementById("quickFilter-loader");l.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Deployed"+n),$.get("/api/tile/StageGroup/Deployed/TotalInDeployed"+n),$.get("/api/tile/StageGroup/Deployed/PotentialBenefit"+n),$.get("/api/tile/StageGroup/Deployed/PotentialHourSavings"+n)).done(function(n,t,i,r){$("#WorkshopContent").html(n[0]);var u='<div silkflo-url="tile/StageGroup/Deployed/TotalInDeployed">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Deployed/PotentialBenefit">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Deployed/PotentialHourSavings">'+r[0]+"<\/div>";$("#tilesViewer").html(u)})}function clearAllFiltersAndAdjustDataIntoCurrentView(){var n=window.location.href.split("/");if(n&&n[n.length-1]=="Review"){clearApplyFiltersAndAdjustWorkshopStatusView();return}if(n&&n[n.length-1]=="Assess"){clearApplyFiltersAndAdjustWorkshopAssessView();return}if(n&&n[n.length-1]=="Decision"){clearApplyFiltersAndAdjustWorkshopDecisionView();return}if(n&&n[n.length-1]=="Build"){clearApplyFiltersAndAdjustWorkshopBuildView();return}if(n&&n[n.length-1]=="Deployed"){clearApplyFiltersAndAdjustWorkshopDeployedView();return}if(n&&n[n.length-1]=="All"){clearApplyFiltersAndAdjustWorkshopCurrentView();return}}function clearApplyFiltersAndAdjustWorkshopCurrentView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#content").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/All")).done(function(n){$("#content").html(n)})}function clearApplyFiltersAndAdjustWorkshopStatusView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Review"),$.get("/api/tile/StageGroup/Review/TotalIdeas"),$.get("/api/tile/StageGroup/Review/AwaitingReview")).done(function(n,t,i){$("#WorkshopContent").html(n[0]);console.log("totalIdeaResponse",t);console.log("awaitingReviewReponse",i);var r='<div silkflo-url="tile/StageGroup/Review/TotalIdeas">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Review/AwaitingReview">'+i[0]+"<\/div>";$("#tilesViewer").html(r)})}function clearApplyFiltersAndAdjustWorkshopAssessView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Assess"),$.get("/api/tile/StageGroup/Assess/TotalIdeas"),$.get("/api/tile/StageGroup/Assess/PotentialHourSavings"),$.get("/api/tile/StageGroup/Assess/AwaitingReview"),$.get("/api/tile/StageGroup/Assess/PotentialBenefit")).done(function(n,t,i,r,u){$("#WorkshopContent").html(n[0]);var f='<div silkflo-url="tile/StageGroup/Assess/TotalIdeas">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/PotentialBenefit">'+u[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/PotentialHourSavings">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Assess/AwaitingReview">'+r[0]+"<\/div>";$("#tilesViewer").html(f)})}function clearApplyFiltersAndAdjustWorkshopDecisionView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Decision"),$.get("/api/tile/StageGroup/Decision/PotentialBenefit"),$.get("/api/tile/StageGroup/Decision/EstimatedOneTimeCost"),$.get("/api/tile/StageGroup/Decision/EstimatedRunningCosts")).done(function(n,t,i,r){$("#WorkshopContent").html(n[0]);var u='<div silkflo-url="tile/StageGroup/Decision/PotentialBenefit">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Decision/EstimatedOneTimeCost">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Decision/EstimatedRunningCosts">'+r[0]+"<\/div>";$("#tilesViewer").html(u)})}function clearApplyFiltersAndAdjustWorkshopBuildView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Build"),$.get("/api/tile/StageGroup/Build/TotalInBuild"),$.get("/api/tile/StageGroup/Build/PotentialBenefit"),$.get("/api/tile/StageGroup/Build/TotalAtRisk"),$.get("/api/tile/StageGroup/Build/TotalBenefitAtRisk"),$.get("/api/tile/StageGroup/Build/EstimatedOneTimeCost")).done(function(n,t,i,r,u,f){$("#WorkshopContent").html(n[0]);var e='<div silkflo-url="tile/StageGroup/Build/TotalInBuild">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/PotentialBenefit">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/TotalAtRisk">'+r[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/TotalBenefitAtRisk">'+u[0]+'<\/div><div silkflo-url="tile/StageGroup/Build/EstimatedOneTimeCost">'+f[0]+"<\/div>";$("#tilesViewer").html(e);setTimeout(()=>{$.get("/api/Workshop/GetAutomationBuildPipeline",function(n){var t=document.querySelector("[name='Chart.AutomationBuildPipeline'], [id='automationMatrix']");$(t).empty();t.innerHTML=n})})})}function clearApplyFiltersAndAdjustWorkshopDeployedView(){var n=document.getElementById("quickFilter-loader");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$("#workshopFilterModal").modal("hide");$("#WorkshopContent").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$.when($.get("/api/Workshop/StageGroup/id/Deployed"),$.get("/api/tile/StageGroup/Deployed/TotalInDeployed"),$.get("/api/tile/StageGroup/Deployed/PotentialBenefit"),$.get("/api/tile/StageGroup/Deployed/PotentialHourSavings")).done(function(n,t,i,r){$("#WorkshopContent").html(n[0]);var u='<div silkflo-url="tile/StageGroup/Deployed/TotalInDeployed">'+t[0]+'<\/div><div silkflo-url="tile/StageGroup/Deployed/PotentialBenefit">'+i[0]+'<\/div><div silkflo-url="tile/StageGroup/Deployed/PotentialHourSavings">'+r[0]+"<\/div>";$("#tilesViewer").html(u)})}function showTooltips(){var n=`
      <div class="modal fade" id="SilkfloModal" tabindex="-1" aria-labelledby=" Message Box"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px;
height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Welcome to Silkflo!</h2>
              <h3 class="header-modal-version">V.12.4</h3>
              
             
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">SilkFlo helps you adopt govern and manage automation and AI at scale. Let's take a quick tour to get your started.</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="showDashboardTooltip()"><span>Start Tour</span></button>
          </div>
        </div>
      </div>`;$(n).appendTo("body");$("#SilkfloModal").modal("show")}function showSubmitIdeaModal(){setTimeout(function(){let n=`
      <div class="modal fade" id="submitIdeaModal" tabindex="-1" aria-labelledby=" Message Box" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px; height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Welcome to Silkflo!</h2>
              <h3 class="header-modal-version">V.12.4</h3>
<br/>
              <h3>Submit an Idea</h3>    
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;"> Your work day can be full of manual, repetitive tasks or processes that somehow, have become the norm. It doesn’t have to be that way.</p>

  <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">That’s where AI and automation comes in to help.</p>

  <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;"> Delegating those tedious tasks to a digital worker (AI or automation software) can help free you up to do more of the work that you enjoy.</p>

  <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;"> Get started by submitting an idea for a process you’d like automated or enhanced!</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="showSubmitAnIdeaTooltip()"><span>Get started</span></button>
          </div>
        </div>
      </div>`;$(n).appendTo("body");$("#submitIdeaModal").modal("show")},3e3)}function showExplore(){var i,n,t;$("#SilkfloModal").modal("hide");i=`
      <div class="modal fade" id="SilkfloExploreModal" tabindex="-1" aria-labelledby=" Message Box"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px;
height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Welcome to Silkflo!</h2>
              <h3 class="header-modal-version">V.12.4</h3>
              
              <h2 class="silkflo_modal_title" name="Title" style="margin-top:25px">Explore</h2>
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">Explore, like and follow the ideas for AI and automations shared from across the business. Plus, see the people who also are part of your Digital journey.</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="showWorkshop()"><span>Next</span></button>
          </div>
        </div>
      </div>`;$(i).appendTo("body");$("#SilkfloExploreModal").modal("show");n=document.getElementById("SideBar.Explore.Container");t=document.getElementById("SilkfloExploreModal");t.style.top=n.offsetTop+n.clientHeight+10;t.style.left=n.offsetLeft}function showWorkshop(){$("#SilkfloExploreModal").modal("hide");var n=`
      <div class="modal fade" id="SilkfloWorkshopModal" tabindex="-1" aria-labelledby="Message Box"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px;
height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Welcome to Silkflo!</h2>
              <h3 class="header-modal-version">V.12.4</h3>
              
              <h2 class="silkflo_modal_title" name="Title" style="margin-top:25px">Workshop</h2>
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">Provides you Automation teams with a standardized framework to review, qualify and priortize your automation and AI pipeline.</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="showPlatformSetup()"><span>Next</span></button>
          </div>
        </div>
      </div>`;$(n).appendTo("body");$("#SilkfloWorkshopModal").modal("show")}function showPlatformSetup(){$(".tooltipWorkShop").css("display","none");$("#menu li.active").removeClass("active");var n=`
      <div class="modal fade" id="SilkfloPlatformSetupModal" tabindex="-1" aria-labelledby="Message Box"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px;
height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Tour Complete!</h2>
             
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">You've finished the quick tour of SilkFlo. If you have any further questions, please visit our <a href='https://silkflo.com/docs/' target='_blank' style="color:blue">help docs</a> or contact support@silkflo.com</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="hidePlatformSetupModal()"><span>Finish</span></button>
          </div>
        </div>
      </div>`;$(n).appendTo("body");$("#SilkfloPlatformSetupModal").modal("show")}function hidePlatformSetupModal(){const n=document.getElementById("SideBar.Dashboard.Container");n&&n.classList.add("active");$("#SilkfloPlatformSetupModal").modal("hide");window.location.hash.includes("#new_")&&showSubmitIdeaModal()}function submitAnIdeaOkClick(){$(".tooltipSubmitAnIdea").css("display","none")}function showDashboardTooltip(){liElement=document.getElementById("SideBar.Dashboard.Container");const t=liElement.getBoundingClientRect(),{top:n}=t;$("#SilkfloModal").modal("hide");window.location.hash.includes("#new_")&&($("#tooltip1 p")[0].innerHTML="Here, you can see all of the automation ideas you’ve submitted, contribute to and even track their progress. Check in regularly to see how they evolve!",$("#tooltip1").css("height","160px"),$("#tooltip1 button").css("margin-top","50px"));$(".tooltipSubmitAnIdea").css("display","none");$(".tooltipDashboard").css("display","block");const i=n-15;$("#tooltip1arrow").css("top",n);$("#tooltip1arrow").css("left","173px");$("#tooltip1").css("left","182px");$("#tooltip1").css("top",i)}function showSubmitAnIdeaTooltip(){$("#submitIdeaModal").modal("hide");liElement=document.getElementById("SideBar.Dashboard.Container");const n=liElement.getBoundingClientRect(),{top:t}=n;$("#tooltipSubmitAnIdea").css("display","block");const i=t-15;$("#tooltipsubideaarrow").css("top","95.73px");$("#tooltipsubideaarrow").css("left","255px");$("#tooltipSubIdea").css("left","263px");$("#tooltipSubIdea").css("top","86.71px")}function showDashboardTourTooltip(){liElement=document.getElementById("SideBar.Dashboard.Container");const t=liElement.getBoundingClientRect(),{top:n}=t;$("#SilkfloModal").modal("hide");$(".tooltipDashboard").css("display","block");const i=n-15;$("#tooltip1arrow").css("top",n);$("#tooltip1arrow").css("left","173px");$("#tooltip1").css("left","182px");$("#tooltip1").css("top",i)}function showExploreTooltip(){$(".tooltipDashboard").css("display","none");$(".tooltipExplore").css("display","block");liElement=document.getElementById("SideBar.Explore.Container");const i=liElement.getBoundingClientRect(),{top:n}=i,r=n-15;$("#tooltip2arrow").css("top",n);$("#tooltip2").css("top",r);$("#tooltip2arrow").css("left","173px");$("#tooltip2").css("left","182px");$("#menu li.active").removeClass("active");const t=document.getElementById("SideBar.Explore.Container");t&&t.classList.add("active")}function showWorkShopTooltip(){if($(".tooltipExplore").css("display","none"),window.location.hash.includes("#new_")){$("#menu li.active").removeClass("active");var i=`
      <div class="modal fade" id="SilkfloPlatformSetupModal" tabindex="-1" aria-labelledby="Message Box"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="width: 446px;
height: 527px;">
          <div class="modal-content silkflo-modal-content">
            <div class="modal-header"></div>
            <div class="modal-body" name="Message">
              <h2 class="modal-title" name="Title">Tour Complete!</h2>
             
              <p class="silkflo-modal-content-width" style="margin-top: 16px; margin-bottom: 10px;">You've finished the quick tour of SilkFlo. If you have any further questions, please visit our <a href='https://silkflo.com/docs/' target='_blank' style="color:blue">help docs</a> or contact support@silkflo.com</p>
            </div>
            <button type="button" class="silkflo-modal-content-btn" style="margin:16px " onclick="hidePlatformSetupModal()"><span>Finish</span></button>
          </div>
        </div>
      </div>`;$(i).appendTo("body");$("#SilkfloPlatformSetupModal").modal("show")}else $(".tooltipWorkShop").css("display","block");liElement=document.getElementById("SideBar.Workshop.Container");const r=liElement.getBoundingClientRect(),{top:n}=r,u=n-15;$("#tooltip3arrow").css("top",n);$("#tooltip3").css("top",u);$("#tooltip3arrow").css("left","190px");$("#tooltip3").css("left","200px");$("#menu li.active").removeClass("active");const t=document.getElementById("SideBar.Workshop.Container");t&&t.classList.add("active")}function CancelMessageResultYes(){console.log("Test")}function individualClicked(){$("#btnTeam").removeClass("btn-plan-active");$("#btnTeam").addClass("btn-plan");$("#btnIndv").addClass("btn-plan");$("#btnIndv").addClass("btn-plan-active");var n=document.getElementById("divIndividual"),t=document.getElementById("divTeam");n.style.display="block";t.style.display="none"}function teamClicked(){var n=document.getElementById("divIndividual"),t=document.getElementById("divTeam");n.style.display="none";t.style.display="block";$("#btnIndv").removeClass("btn-plan-active");$("#btnTeam").addClass("btn-plan-active")}function SettingsPeopleRowClick(n){SilkFlo.ViewModels.Settings.People.Row_Click(n)}function isOnClickCalled(){const n=document.querySelector("[id='idCostSetup']");n.classList.remove("active");const t=document.querySelector("[id='idApplications']");t.classList.remove("active");const i=document.querySelector("[id='idBusinessUnit']");i.classList.remove("active");const r=document.querySelector("[id='idDocument']");r.classList.add("active");$.get("/api/business/idea/detail/TemplateDocumentation/ideaId/GetTemplates",function(n){const t=document.querySelector("[name='Document.Content.SubContent']");t.innerHTML=n})}function ShowAddTokenModal(){$(".datepicker").flatpickr({});$("#ShowAddTokenModal").modal("show")}function HideAddTokenModal(){$("#ShowAddTokenModal").modal("hide")}function expiresDatePicker(){$("#expiresDatePicker").datetimepicker({format:"YYYY-MM-DD HH:mm:ss"})}function SaveToken(){var n=$("#tokenName").val(),t=$("#tokenDescription").val(),i=$("#expiresDatePicker input").val(),r=$("#isActive").prop("checked"),u={tokenName:n,tokenDescription:t,tokenExpires:i,isActive:r};$.ajax({type:"POST",url:"/SaveToken",data:JSON.stringify(u),contentType:"application/json",success:function(n){n&&n.isSucceed&&($("#ShowAddTokenModal").modal("hide"),$("#apiAccessKeyGen").modal("show"),$("#valueToShow").val(n.result),$("#akbtnclose").click(function(){$("#apiAccessKeyGen").modal("hide");$.ajax({type:"GET",url:"/GetTokens",contentType:"application/json",success:function(n){if(n&&n.isSucceed){var t=document.getElementById("accessKeytbl");n.result.forEach(function(n,i){var r=document.createElement("tr"),h=document.createElement("td"),u,f,e,o,s;h.textContent=i+1+".";r.appendChild(h);u=document.createElement("td");u.textContent=n.name;r.appendChild(u);f=document.createElement("td");f.textContent=n.sessionKey;r.appendChild(f);e=document.createElement("td");e.textContent=n.description;r.appendChild(e);o=document.createElement("td");o.textContent=n.expirationDate;r.appendChild(o);s=document.createElement("td");s.textContent=n.isActive;r.appendChild(s);t.appendChild(r)})}},error:function(){}})}),$("#copyBtn").click(function(){var t=$("#valueToShow").text(),n=$("<textarea>");$("body").append(n);n.val(t).select();document.execCommand("copy");n.remove()}))},error:function(n){console.error("Error:",n)}})}function akbtncloseClick(){$("#apiAccessKeyGen").modal("hide");$.ajax({type:"GET",url:"/GetTokens",contentType:"application/json",success:function(n){if(n&&n.isSucceed){var t=document.getElementById("accessKeytbl");n.result.forEach(function(n,i){var r=document.createElement("tr"),h=document.createElement("td"),u,f,e,o,s;h.textContent=i+1+".";r.appendChild(h);u=document.createElement("td");u.textContent=n.name;r.appendChild(u);f=document.createElement("td");f.textContent=n.sessionKey;r.appendChild(f);e=document.createElement("td");e.textContent=n.description;r.appendChild(e);o=document.createElement("td");o.textContent=n.expirationDate;r.appendChild(o);s=document.createElement("td");s.textContent=n.isActive;r.appendChild(s);t.appendChild(r)})}},error:function(){}})}function copyBtnClick(){var t=$("#valueToShow").text(),n=$("<textarea>");$("body").append(n);n.val(t).select();document.execCommand("copy");n.remove()}function getToken(){$.ajax({type:"POST",url:"/GetTokens",contentType:"application/json",success:function(n){if(n&&n.isSucceed){var t=document.getElementById("accessKeytbl");n.result.forEach(function(n,i){var r=document.createElement("tr"),h=document.createElement("td"),u,f,e,o,s;h.textContent=i+1+".";r.appendChild(h);u=document.createElement("td");u.textContent=n.name;r.appendChild(u);f=document.createElement("td");f.textContent=n.sessionKey;r.appendChild(f);e=document.createElement("td");e.textContent=n.description;r.appendChild(e);o=document.createElement("td");o.textContent=n.expirationDateString;r.appendChild(o);s=document.createElement("td");s.textContent=n.isActive===!0?"Yes":"No";r.appendChild(s);t.appendChild(r)})}},error:function(){}})}function helpOptionsIcon(){var n=document.getElementById("helpOptionsCard");n.style.display=n.style.display==="none"?"block":"none"}function closeHelpOptionsIcon(){var n=document.getElementById("helpOptionsCard");n.style.display="none"}function ContinueWorking(){$("#tstProgress").toast("show")}function getStatus(){var n=setInterval(function(){$.ajax({url:"/Data/Status",type:"GET",success:function(t){if(t)if(t.isCompleted){clearInterval(n);$("#tstProgress").toast("hide");$("#tstSuccess").toast("show");var i="<span><b>"+t.successCount+"<\/b><\/span> <strong>ideas have been added!<\/strong><span><b>"+t.failedCount+"<\/b><\/span> <strong>ideas have been failed!<\/strong>";$("#tstSuccessBody").html(i)}else $("#tstProgress").toast("show"),getStatus()}})},1e3)}function showImportModal(){$("#UploadPipelineModal").modal("show")}function btnShowUploadPipelineMessageModal(){$("#ShowDataPipelineModal").modal("hide");$("#ShowUploadPipelineMessageModal").modal("show")}function btnShowUploadFileModal(){$("#ShowUploadPipelineMessageModal").modal("hide");$("#UploadPipelineModal").modal("show")}function btnShowFileData(){$("#ShowUploadPipelineMessageModal").modal("hide");$("#ShowDataPipelineModal").modal("show")}function btnTFilesUpload(){var n,t,i;($("#InvalidFileTemplate").css("display","none"),n=document.getElementById("fileElem"),n.files.length!==0)&&(t=new FormData,i=n.files[0],t.append("File",i),$.ajax({type:"POST",url:"/Data/Import",data:t,contentType:!1,processData:!1,success:function(n){var i,t;if(n.status==!0)i=n.data,$("#UploadPipelineModal").modal("hide"),$("#EmptyFileText").css("display","none"),$("#duplicateIdeasText").css("display","none"),$("#InvalidFileTemplate").css("display","none"),$("#Coedata").empty(),t=1,$.each(i,function(n,i){var r="<tr>",u;r+="<td>"+t+"<\/td>";t++;for(u in i)i.hasOwnProperty(u)&&(r+='<td  contenteditable="true">'+i[u]+"<\/td>");r+='<td><button title="delete" class="btn btn-danger btnDeleteRow" style="background: transparent; border: none; color: red;"><i class="fas fa-trash-alt"><\/i><\/button><\/td>';r+="<\/tr>";$("#Coedata").append(r)}),$("#ShowUploadPipelineMessageModal").modal("show");else{$("#InvalidFileTemplate").text(n.message).css("display","block");return}},error:function(n){console.log(n)}}))}function saveCOEData(){$("#duplicateIdeasText").css("display","none");$("#emptyNamesText").css("display","none");$("#emptyDescriptionText").css("display","none");$("#exceedDescriptionText").css("display","none");$("#exceedNameText").css("display","none");$("#EmptyFileText").css("display","none");var n=[],t=!1,i=!1,r=!1,u=!1,f=!1;if($("#Coedatalist tbody tr").each(function(){var o={},e=$(this),s,h;e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","");e.find("td").each(function(n){var t=$("#Coedatalist thead tr td").eq(n).text(),i=$(this).text();o[t]=i});s=o.Name;h=o.Description;s.trim()?n.some(n=>n.Name===s)?(e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","rgb(255, 228, 225)"),t=!0):h.trim()?h.length>1e4?(e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","rgb(255, 228, 225)"),f=!0):s.length>100&&(e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","rgb(255, 228, 225)"),u=!0):(e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","rgb(255, 228, 225)"),r=!0):(e.find("td:first-child, td:nth-child(2), td:last-child").addBack().css("background-color","rgb(255, 228, 225)"),i=!0);n.push(o)}),n.length==0){$("#EmptyFileText").css("display","block");return}if(t){$("#duplicateIdeasText").css("display",t?"block":"none");return}if(i){$("#emptyNamesText").css("display",i?"block":"none");return}if(r){$("#emptyDescriptionText").css("display",r?"block":"none");return}if(f){$("#exceedDescriptionText").css("display",f?"block":"none");return}if(u){$("#exceedNameText").css("display",u?"block":"none");return}$("#ShowDataPipelineModal").modal("hide");$("#ShowDataProcessingModal").modal("show");$("#loading-overlay").show();$.ajax({type:"POST",url:"/Data/Save",data:JSON.stringify(n),contentType:"application/json",success:function(n){n.status==!0?($("#ShowDataProcessingModal").modal("hide"),$("#loading-overlay").hide(),$("#SuccessIdeaCounter").text(n.successCount),$("#FailedIdeaCounter").text(n.failedCount),$("#ShowResultModal").modal("show")):console.error(n.message)},error:function(n){hideLoading();console.log(n)}})}function closeModalAndRefreshPage(){location.reload()}function continueWorking(){$("#ShowDataProcessingModal").modal("hide");console.log("ideas being adding")}function FinishPipelinemodals(){location.reload()}function onFileElemChange2(){$("#InvalidFileTemplate").css("display","none");var n=document.getElementById("fileElem"),t=document.getElementById("fileLabel");t.innerText=n.files.length>0?n.files[0].name:"No file selected"}function dropHandler(n){var r,t,i;n.preventDefault();r=document.getElementById("fileElem");t=document.getElementById("fileLabel");n.dataTransfer.items&&n.dataTransfer.items[0].kind==="file"&&(i=n.dataTransfer.items[0].getAsFile(),t.innerText=i.name)}function dragOverHandler(n){n.preventDefault()}function PrepareString(n){return n=n.replace(/&/g,"_a_m_p_;_"),n.replace(/\+/g,"_p_l_u_s_")}function documentUpload(){var n,i,u;const f=document.getElementById("tFileElem");var t=document.getElementById("usrOptTemplateSelect"),e=t.options[t.selectedIndex],o=document.querySelector("input[type=hidden][name=currItem]").value;const r=document.getElementById("usrOptTemplateSelect-error-message");if(t.value===""){r.textContent="Please select an option.";return}r.textContent="";n=new FormData;i=0;for(const t of f.files){u=document.getElementById("tempTDocs-"+i).value;const r=new File([t],u+"."+t.name.split(".").pop());n.append("files",r);i++}n.append("selectedTemplate",e.value);n.append("currItem",o);$.ajax({type:"post",url:"/api/business/idea/detail/Documentation/ideaId/UploadFiles",data:n,contentType:!1,processData:!1,success:function(n){var t;if(n.message){t=document.getElementById("usrAlrtBlobInfo");t.innerHTML="<div class='alert alert-danger' role='alert'>"+n.message+"<\/div>";return}console.log(n);var i=0,r=0,t=document.getElementById("usrAlrtBlobInfo");for(const t of n.result)t.error?i++:r++;i>0&&(t.innerHTML="<div class='alert alert-info alert-dismissible fade show' role='alert'><strong><\/strong><span class='badge badge-danger'>"+i+"<\/span> file(s) are failed during upload!<\/div> ");r>0&&(t.innerHTML="<div class='alert alert-info alert-dismissible fade show' role='alert'><strong><\/strong><span class='badge badge-success'>"+r+"<\/span> file(s) are successfully uploaded!<\/div> ");setTimeout(()=>{$("#myModalDocUpld").modal("hide");const n=document.querySelector("[name='Business.Idea.Section.Documentation.Content']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheDetailView()},2e3)},error:function(){var n=document.getElementById("usrAlrtBlobInfo");n.innerHTML="<div class='alert alert-danger' role='alert'>File size is too big, or may some error has been occurred during processing.<\/div>"}})}function onTFileElemChange(){var n=0,t,i;const r=document.getElementById("tFileElem"),u=document.getElementById("templatesTempViewer"),f=document.getElementById("filesContainer"),e=document.getElementById("noTextTDiv");t="";for(i of r.files)t+="<tr><th scope='row'>"+(n+1)+"<\/th><td><input id='tempTDocs-"+n+"' class='form-control' placeholder='File name here...' /><\/td><td>"+i.name+"<\/td><td><button type='button' class='btn btn-link' onclick='removeTFileElem("+n+")'><span class='bi bi-trash''><\/span><\/button><\/td><\/tr>",n++;e.style.display="none";f.style.display="block";u.innerHTML=t}function onFileElemChange(){var t=0,n,i;const r=document.getElementById("fileElem"),u=document.getElementById("filesTempViewer"),f=document.getElementById("usrFilesContainer"),e=document.getElementById("noFilesTextTDiv");n="";for(i of r.files)n+="<tr><th scope='row'>"+(t+1)+"<\/th><td>"+i.name+"<\/td><\/tr>",t++;e.style.display="none";f.style.display="block";u.innerHTML=n}function removeTFileElem(n){var i,f,e;const r=new DataTransfer,t=document.getElementById("tFileElem"),{files:u}=t;for(let t=0;t<u.length;t++){const i=u[t];n!==t&&r.items.add(i)}t.files=r.files;const o=document.getElementById("templatesTempViewer");i="";f=document.getElementById("usrAlrtBlobInfo");f.innerHTML="";for(e of t.files)i+="<tr><th scope='row'>"+(n+1)+"<\/th><td><input id='' placeholder='File name here...' /><\/td><td>"+e.name+"<\/td><td><button type='button' class='btn btn-link' onclick='removeTFileElem("+n+")'><span class='bi bi-trash''><\/span><\/button><\/td><\/tr>",n++;o.innerHTML=i}function documentsTUpload(){var i,n,t,r;const f=document.getElementById("fileElem");i=document.querySelector("input[type=hidden][name=currItem]").value;n=new FormData;for(const t of f.files)n.append("files",t);t=document.getElementById("optTemplateSelect");r=t.options[t.selectedIndex];const u=document.getElementById("optTemplateSelect-error-message");if(t.value===""){u.textContent="Please select an option.";return}u.textContent="";n.append("selectedTemplate",r.value);n.append("currItem",i);$.ajax({type:"post",url:"/api/business/idea/detail/Documentation/ideaId/UploadTemplateFile",contentType:!1,processData:!1,data:n,success:function(n){var t;n.message&&(t=document.getElementById("alrtBlobInfo"),t.innerHTML=n.message,t.style.padding="20px",t.style.width="75 %",t.style.fontSize="20px",t.style.margin="auto",t.style.borderRadius="5px",t.styleboxShadow="rgb(0 0 0 / 25 %) 0px 5px 10px 2px");var i=0,r=0,u="";console.log("Result of File upload",n);t=document.getElementById("alrtBlobInfo");n.forEach(function(n){n.status=="Uploaded"&&i++;n.status=="Failed"&&(r++,u+=n.blob.name+", ")});t.innerHTML=(i>0?"<b>"+i+"<\/b> File(s) are successfully uploaded.":"")+(r>0?"<br> <b>"+r+"<\/b> File(s) are failed to upload. "+u:"");t.style.padding="20px";t.style.width="75 %";t.style.fontSize="20px";t.style.margin="auto";t.style.borderRadius="5px";t.styleboxShadow="rgb(0 0 0 / 25 %) 0px 5px 10px 2px";setTimeout(()=>{const n=document.querySelector("[name='templateUploadAddMod']");var t=n.getAttribute("silkflo-IsAdminFlow");if($("#myModal").modal("hide"),t=="true"){const n=document.querySelector("[name='Document.Content.SubContent']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheAdminFileView()}else{const n=document.querySelector("[name='Business.Idea.Section.Documentation.Content']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheFileView()}},2e3)},error:function(){var n=document.getElementById("alrtBlobInfo");n.innerHTML="File size is too big, or may some error occurred during processing";n.style.padding="20px";n.style.width="75 %";n.style.fontSize="20px";n.style.margin="auto";n.style.borderRadius="5px";n.styleboxShadow="rgb(0 0 0 / 25 %) 0px 5px 10px 2px"}})}function handleOnSelectChange(){const n=document.getElementById("optTemplateSelect-error-message");n.textContent=optTemplateSelect.value===""?"Please select an option.":""}function onTDocSelect(n){unSelectViewers();var t=n.firstElementChild;t.checked=!0;n.style.border="2px solid #ff8a00"}function unSelectViewers(){var n=document.getElementById("vwrTemplates"),t=n.querySelectorAll("section");t.forEach(n=>{var t,i;n&&(t=n.childNodes,t&&t[1]&&(t[1].style.border="1px solid #d7d7d7",i=t[1].firstElementChild,i&&(i.checked=!1)))})}function getSelectedViewer(){for(var i,n,u,f=document.getElementById("vwrTemplates"),r=f.querySelectorAll("section"),t=0;t<r.length;t++)if(i=r[t],i&&(n=i.childNodes,n&&n[1]&&(u=n[1].firstElementChild,u.checked)))return console.log("ChildNodes",n[1].childNodes),console.log(n[1].childNodes[3].value),n[1].childNodes[3].value}function deleteDocument(n,t){$("#usrDocCnfrmDg").modal("show");$("#usrDocCnfrmDgYes").on("click",function(){$("#usrDocCnfrmDgYes").html("<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Processing...");processUsrDocDelete(n,t)});$("#tempCnfrmNo").on("click",function(){$("#usrDocCnfrmDg").modal("hide")})}function processUsrDocDelete(n,t){$.ajax({type:"delete",url:"/api/business/idea/detail/Documentation/ideaId/DeleteBlob?docUri="+n+"&ideaId="+t,contentType:!1,processData:!1,success:function(n){$("#usrDocCnfrmDg").html(`
		                <div class="modal-dialog">
			                <div class="modal-content">
				                <div class="modal-header">
					                <h4 class="modal-title">Confirm Dialog</h4>
					                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				                </div>
				                <div class="modal-body">
					                <p>${n.status}</p>
				                </div>
				                <div class="modal-footer">
				                </div>
			                </div>
		                </div>
                `);setTimeout(()=>{$("#usrDocCnfrmDg").modal("hide");const n=document.querySelector("[name='Business.Idea.Section.Documentation.Content']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheDetailView()},2e3)},error:function(n){console.log(n)}})}function DownloadTDocument(){var r=getSelectedViewer(),n,t,i;r?(n=decodeURIComponent(r.replace(/\+/g," ")),console.log("templateUr",n),t=document.querySelector("input[type=hidden][name=currItem]").value,i=new FormData,i.append("docUri",n),i.append("ideaId",t),$.ajax({url:"/api/business/idea/detail/Documentation/ideaId/DownloadTBlob?docUri="+n+"&ideaId="+t,type:"GET",contentType:!1,processData:!1,success:function(){window.location.href="/api/business/idea/detail/Documentation/ideaId/DownloadTBlob?docUri="+n+"&ideaId="+t}})):alert("Select any Standard Document by click to Download")}function downloadAdminViewFile(n){var t=new XMLHttpRequest;t.open("POST","/api/business/idea/detail/Documentation/ideaId/DownloadAd?docUri="+n,!0);t.responseType="arraybuffer";t.onload=function(){if(this.status===200){var r=new Blob([this.response],{type:t.getResponseHeader("Content-Type")}),u=t.getResponseHeader("filename"),i=window.URL.createObjectURL(r),n=document.createElement("a");n.style.display="none";n.href=i;n.download=u;document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(i)}};t.send()}function deleteAdminViewFile(n){$("#delFileConfrm").modal("show");$("#tempCnfrmYes").on("click",function(){processDeletionOnAdminFile(n)});$("#tempCnfrmNo").on("click",function(){$("#delFileConfrm").modal("hide")})}function processDeletionOnAdminFile(n){$("#tempCnfrmYes").html("<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Processing...");$.ajax({type:"DELETE",url:"/api/business/idea/detail/Documentation/ideaId/DeleteBlobAd?docUri="+n,contentType:!1,processData:!1,success:function(n){$("#delFileConfrm").html(`
		                <div class="modal-dialog">
			                <div class="modal-content">
				                <div class="modal-header">
					                <h4 class="modal-title">Confirm Dialog</h4>
					                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				                </div>
				                <div class="modal-body">
					                <p>${n.message}</p>
				                </div>
				                <div class="modal-footer">
				                </div>
			                </div>
		                </div>
                `);setTimeout(()=>{$("#delFileConfrm").modal("hide");const n=document.querySelector("[name='Document.Content.SubContent']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheAdminFileView()},5e3)},error:function(){}})}function downloadAllSelectedFiles(){for(var t,n,r=[],u=document.getElementsByName("admTemplateChecksBx"),f=document.querySelector("input[type=hidden][name=currItem]").value,i=0;i<u.length;i++)u[i].checked&&r.push(u[i].value);r&&(n=new FormData,n.append("docUris",r),n.append("ideaId",f),n.append("isTemplate",!0),t=new XMLHttpRequest,t.open("POST","/api/business/idea/detail/Documentation/ideaId/Downloads",!0),t.responseType="arraybuffer",t.onload=function(){if(this.status===200){var i=new Blob([this.response],{type:"application/zip"}),t=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none";n.href=t;n.download="TemplateDocuments.zip";document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(t)}},t.send(n));return}function deleteAllSelectedFiles(){$("#delFileConfrm").modal("show");$("#tempCnfrmYes").on("click",function(){processSelectedDocsDeletion()});$("#tempCnfrmNo").on("click",function(){$("#delFileConfrm").modal("hide")})}function processSelectedDocsDeletion(){var n,t;$("#tempCnfrmYes").html("<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Processing...");var i=[],r=document.getElementsByName("admTemplateChecksBx"),u=document.querySelector("input[type=hidden][name=currItem]").value;for(n=0;n<r.length;n++)r[n].checked&&i.push(r[n].value);i&&(t=new FormData,t.append("docUris",i),t.append("ideaId",u),t.append("isTemplate",!0),$.ajax({type:"post",url:"/api/business/idea/detail/Documentation/ideaId/DeleteBlobs",data:t,contentType:!1,processData:!1,success:function(n){$("#delFileConfrm").html(`
		                <div class="modal-dialog">
			                <div class="modal-content">
				                <div class="modal-header">
					                <h4 class="modal-title">Confirm Dialog</h4>
					                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				                </div>
				                <div class="modal-body">
					                <p>${n.message}</p>
				                </div>
				                <div class="modal-footer">
				                </div>
			                </div>
		                </div>
                `);setTimeout(()=>{$("#delFileConfrm").modal("hide");const n=document.querySelector("[name='Document.Content.SubContent']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheAdminFileView()},5e3)},error:function(){}}))}function reRenderTheAdminFileView(){$.get("/api/business/idea/detail/TemplateDocumentation/ideaId/GetTemplates",function(n){const t=document.querySelector("[name='Document.Content.SubContent']");t.innerHTML=n})}function reRenderTheFileView(){const n=document.querySelector("[name='Business.Idea.Section.Documentation.Content']");var t=n.getAttribute("silkflo-url");n.innerHTML="<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Loading...";$.get("/api/"+t,function(t){n.innerHTML=t})}function reRenderTheDetailView(){const n=document.querySelector("[id='Detail_BusinessIdea']");n.innerHTML="<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Loading...";window.location.href=window.location.href}function selectAllDocuments(){const n=document.getElementsByClassName("fileSelected");if(arr.includes("1")){for(let t=0;t<n.length;t++){const i=n[t];i.checked=!1}arr.pop(1)}else{for(let t=0;t<n.length;t++){const i=n[t];i.checked=!0}arr.push("1")}}function addNew(){const n=document.getElementById("documentId").value}function downloadAllUserSelectedDocuments(){for(var i,n,r=[],u=document.getElementsByName("usrDocumentChk"),f=document.querySelector("input[type=hidden][name=currItem]").value,t=0;t<u.length;t++)u[t].checked&&r.push(u[t].value);r&&(i=new FormData,i.append("selectedDocs",r.join(",")),i.append("ideaId",f),n=new XMLHttpRequest,n.open("POST","/api/business/idea/detail/Documentation/ideaId/DownloadBlob",!0),n.responseType="arraybuffer",n.onload=function(){if(this.status===200){var i=new Blob([this.response],{type:"application/zip"}),t=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none";n.href=t;n.download="UserDocuments.zip";document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(t)}},n.send(i));return}function showDialogForDeletingDocs(){$("#usrDocCnfrmDg").modal("show");$("#usrDocCnfrmDgYes").on("click",function(){$("#usrDocCnfrmDgYes").html("<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'><\/span>Processing...");deleteAllUserSelectedDocuments()});$("#tempCnfrmNo").on("click",function(){$("#usrDocCnfrmDg").modal("hide")})}function deleteAllUserSelectedDocuments(){for(var t=[],i=document.getElementsByName("usrDocumentChk"),r=document.querySelector("input[type=hidden][name=currItem]").value,n=0;n<i.length;n++)i[n].checked&&t.push(i[n].value);t&&$.ajax({type:"delete",url:"/api/business/idea/detail/Documentation/ideaId/DeleteUserBlobs?selectedDocs="+t.join(",")+"&ideaId="+r,contentType:!1,processData:!1,success:function(n){$("#usrDocCnfrmDg").html(`
		                <div class="modal-dialog">
			                <div class="modal-content">
				                <div class="modal-header">
					                <h4 class="modal-title">Confirm Dialog</h4>
					                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				                </div>
				                <div class="modal-body">
					                <p>${n.message}</p>
				                </div>
				                <div class="modal-footer">
				                </div>
			                </div>
		                </div>
                `);setTimeout(()=>{$("#usrDocCnfrmDg").modal("hide");const n=document.querySelector("[name='Business.Idea.Section.Documentation.Content']");n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';reRenderTheDetailView()},2e3)},error:function(n){console.log(n)}})}function callSubscription(n){alert("Hello");SilkFlo.ViewModels.Subscribe.Stripe.Form_OnSubmit(n)}function gotoSignIn(){window.location.href="/Account/SignInMicrosoft"}function activateUser(n){$.ajax({url:"CreateMSUserAccount",type:"POST",data:JSON.stringify(n),contentType:"application/json",success:function(){window.location.href="/Account/AMActivatedLoading"},error:function(){}})}var SilkFlo,HotSpot;(function(n,t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):n.bootbox=t(n.jQuery)})(this,function init(n,t){"use strict";function y(n,t){var r=n.length,i={};if(r<1||r>2)throw new Error("Invalid argument length");return r===2||typeof n[0]=="string"?(i[t[0]]=n[0],i[t[1]]=n[1]):i=n[0],i}function p(t,i,r){return n.extend(!0,{},t,y(i,r))}function o(n,t,i,r){var u,e,o;return r&&r[0]&&(u=r[0].locale||f.locale,e=r[0].swapButtonOrder||f.swapButtonOrder,e&&(t=t.reverse())),o={className:"bootbox-"+n,buttons:b(t,u)},w(p(o,r,i),t)}function w(n,i){var r={};return u(i,function(n,t){r[t]=!0}),u(n.buttons,function(n){if(r[n]===t)throw new Error('button key "'+n+'" is not allowed (options are '+i.join(" ")+")");}),n}function b(n,t){var i={};for(let e=0,o=n.length;e<o;e++){var r=n[e],u=r.toLowerCase(),f=r.toUpperCase();i[u]={label:k(f,t)}}return i}function k(n,t){var i=e[t];return i?i[n]:e.en[n]}function d(t){var i,r;if(typeof t!="object")throw new Error("Please supply an object of options");if(!t.message)throw new Error('"message" option must not be null or an empty string.');return t=n.extend({},f,t),t.backdrop=t.backdrop?typeof t.backdrop=="string"&&t.backdrop.toLowerCase()==="static"?"static":!0:t.backdrop===!1||t.backdrop===0?!1:"static",t.buttons||(t.buttons={}),i=t.buttons,r=c(i),u(i,function(u,f,e){if(n.isFunction(f)&&(f=i[u]={callback:f}),n.type(f)!=="object")throw new Error('button with key "'+u+'" must be an object');if(f.label||(f.label=u),!f.className){var o=!1;o=t.swapButtonOrder?e===0:e===r-1;f.className=r<=2&&o?"btn-primary":"btn-secondary btn-default"}}),t}function c(n){return Object.keys(n).length}function u(t,i){var r=0;n.each(t,function(n,t){i(n,t,r++)})}function l(n){n.data.dialog.find(".bootbox-accept").first().trigger("focus")}function g(n){n.target===n.data.dialog[0]&&n.data.dialog.remove()}function nt(n){n.target===n.data.dialog[0]&&(n.data.dialog.off("escape.close.bb"),n.data.dialog.off("click"))}function s(t,i,r){t.stopPropagation();t.preventDefault();var u=n.isFunction(r)&&r.call(i,t)===!1;u||i.modal("hide")}function tt(n,i,r){var e=!1,u=!0,f=!0;if(n==="date")i===t||(u=v(i))?r===t||(f=v(r))||console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your max value may not be enforced by this browser.'):console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your min value may not be enforced by this browser.');else if(n==="time")if(i===t||(u=a(i))){if(r!==t&&!(f=a(r)))throw new Error('"max" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');}else throw new Error('"min" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');else{if(i!==t&&isNaN(i)){u=!1;throw new Error('"min" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-min for more information.');}if(r!==t&&isNaN(r)){f=!1;throw new Error('"max" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');}}if(u&&f)if(r<=i)throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');else e=!0;return e}function a(n){return/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(n)}function v(n){return/(\d{4})-(\d{2})-(\d{2})/.test(n)}var i,h;Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(u){if(typeof u!="function"&&(typeof u!="object"||u===null))throw new TypeError("Object.keys called on non-object");var e=[],o,f;for(o in u)t.call(u,o)&&e.push(o);if(i)for(f=0;f<r;f++)t.call(u,n[f])&&e.push(n[f]);return e}}());i={};h="5.5.2";i.VERSION=h;var e={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"}},r={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"><\/div><\/div><\/div><\/div><\/div>',header:'<div class="modal-header"><h5 class="modal-title"><\/h5><\/div>',footer:'<div class="modal-footer"><\/div>',closeButton:'<button type="button" class="btn-close" aria-hidden="true"> <\/button>',form:'<form class="bootbox-form"><\/form>',button:'<button type="button" class="btn"><\/button>',option:"<option><\/option>",promptMessage:'<div class="bootbox-prompt-message"><\/div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"><\/textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-control"><\/select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /><\/label><\/div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /><\/label><\/div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",value:"",inputType:"text",swapButtonOrder:!1,centerVertical:!1,multiple:!1,scrollable:!1,reusable:!1};return i.locales=function(n){return n?e[n]:e},i.addLocale=function(t,r){return n.each(["OK","CANCEL","CONFIRM"],function(n,t){if(!r[t])throw new Error('Please supply a translation for "'+t+'"');}),e[t]={OK:r.OK,CANCEL:r.CANCEL,CONFIRM:r.CONFIRM},i},i.removeLocale=function(n){if(n!=="en")delete e[n];else throw new Error('"en" is used as the default and fallback locale and cannot be removed.');return i},i.setLocale=function(n){return i.setDefaults("locale",n)},i.setDefaults=function(){var t={};return arguments.length===2?t[arguments[0]]=arguments[1]:t=arguments[0],n.extend(f,t),i},i.hideAll=function(){return n(".bootbox").modal("hide"),i},i.init=function(t){return init(t||n)},i.dialog=function(i){var v,a;if(n.fn.modal===t)throw new Error('"$.fn.modal" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/4.4/getting-started/javascript/ for more details.');i=d(i);n.fn.modal.Constructor.VERSION?(i.fullBootstrapVersion=n.fn.modal.Constructor.VERSION,v=i.fullBootstrapVersion.indexOf("."),i.bootstrap=i.fullBootstrapVersion.substring(0,v)):(i.bootstrap="2",i.fullBootstrapVersion="2.3.2",console.warn("Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible."));var f=n(r.dialog),e=f.find(".modal-dialog"),h=f.find(".modal-body"),p=n(r.header),y=n(r.footer),w=i.buttons,o={onEscape:i.onEscape};if(h.find(".bootbox-body").html(i.message),c(i.buttons)>0&&(u(w,function(t,i){var u=n(r.button);u.data("bb-handler",t);u.addClass(i.className);switch(t){case"ok":case"confirm":u.addClass("bootbox-accept");break;case"cancel":u.addClass("bootbox-cancel")}u.html(i.label);y.append(u);o[t]=i.callback}),h.after(y)),i.animate===!0&&f.addClass("fade"),i.className&&f.addClass(i.className),i.size){i.fullBootstrapVersion.substring(0,3)<"3.1"&&console.warn('"size" requires Bootstrap 3.1.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.");switch(i.size){case"small":case"sm":e.addClass("modal-sm");break;case"large":case"lg":e.addClass("modal-lg");break;case"extra-large":case"xl":e.addClass("modal-xl");i.fullBootstrapVersion.substring(0,3)<"4.2"&&console.warn('Using size "xl"/"extra-large" requires Bootstrap 4.2.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")}}if(i.scrollable&&(e.addClass("modal-dialog-scrollable"),i.fullBootstrapVersion.substring(0,3)<"4.3"&&console.warn('Using "scrollable" requires Bootstrap 4.3.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")),i.title&&(h.before(p),f.find(".modal-title").html(i.title)),i.closeButton&&(a=n(r.closeButton),i.title?i.bootstrap>3?f.find(".modal-header").append(a):f.find(".modal-header").prepend(a):a.prependTo(h)),i.centerVertical&&(e.addClass("modal-dialog-centered"),i.fullBootstrapVersion<"4.0.0"&&console.warn('"centerVertical" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")),!i.reusable)f.one("hide.bs.modal",{dialog:f},nt);if(i.onHide)if(n.isFunction(i.onHide))f.on("hide.bs.modal",i.onHide);else throw new Error('Argument supplied to "onHide" must be a function');if(!i.reusable)f.one("hidden.bs.modal",{dialog:f},g);if(i.onHidden)if(n.isFunction(i.onHidden))f.on("hidden.bs.modal",i.onHidden);else throw new Error('Argument supplied to "onHidden" must be a function');if(i.onShow)if(n.isFunction(i.onShow))f.on("show.bs.modal",i.onShow);else throw new Error('Argument supplied to "onShow" must be a function');f.one("shown.bs.modal",{dialog:f},l);if(i.onShown)if(n.isFunction(i.onShown))f.on("shown.bs.modal",i.onShown);else throw new Error('Argument supplied to "onShown" must be a function');if(i.backdrop===!0)f.on("click.dismiss.bs.modal",function(n){(f.children(".modal-backdrop").length&&(n.currentTarget=f.children(".modal-backdrop").get(0)),n.target===n.currentTarget)&&f.trigger("escape.close.bb")});f.on("escape.close.bb",function(n){o.onEscape&&s(n,f,o.onEscape)});f.on("click",".modal-footer button:not(.disabled)",function(i){var r=n(this).data("bb-handler");r!==t&&s(i,f,o[r])});f.on("click",".btn-close",function(n){s(n,f,o.onEscape)});f.on("keyup",function(n){n.which===27&&f.trigger("escape.close.bb")});return n(i.container).append(f),f.modal({backdrop:i.backdrop,keyboard:!1,show:!1}),i.show&&f.modal("show"),f},i.alert=function(){var t;if(t=o("alert",["ok"],["message","callback"],arguments),t.callback&&!n.isFunction(t.callback))throw new Error('alert requires the "callback" property to be a function when provided');return t.buttons.ok.callback=t.onEscape=function(){return n.isFunction(t.callback)?t.callback.call(this):!0},i.dialog(t)},i.confirm=function(){var t;if(t=o("confirm",["cancel","confirm"],["message","callback"],arguments),!n.isFunction(t.callback))throw new Error("confirm requires a callback");return t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},i.dialog(t)},i.prompt=function(){var e,c,a,s,p,h,v,w,y,b;if(a=n(r.form),e=o("prompt",["cancel","confirm"],["title","callback"],arguments),e.value||(e.value=f.value),e.inputType||(e.inputType=f.inputType),p=e.show===t?f.show:e.show,e.show=!1,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var t;if(e.inputType==="checkbox")t=s.find("input:checked").map(function(){return n(this).val()}).get();else if(e.inputType==="radio")t=s.find("input:checked").val();else{if(s[0].checkValidity&&!s[0].checkValidity())return!1;t=e.inputType==="select"&&e.multiple===!0?s.find("option:selected").map(function(){return n(this).val()}).get():s.val()}return e.callback.call(this,t)},!e.title)throw new Error("prompt requires a title");if(!n.isFunction(e.callback))throw new Error("prompt requires a callback");if(!r.inputs[e.inputType])throw new Error("Invalid prompt type");s=n(r.inputs[e.inputType]);switch(e.inputType){case"text":case"textarea":case"email":case"password":s.val(e.value);e.placeholder&&s.attr("placeholder",e.placeholder);e.pattern&&s.attr("pattern",e.pattern);e.maxlength&&s.attr("maxlength",e.maxlength);e.required&&s.prop({required:!0});e.rows&&!isNaN(parseInt(e.rows))&&e.inputType==="textarea"&&s.attr({rows:e.rows});break;case"date":case"time":case"number":case"range":if(s.val(e.value),e.placeholder&&s.attr("placeholder",e.placeholder),e.pattern&&s.attr("pattern",e.pattern),e.required&&s.prop({required:!0}),e.inputType!=="date"&&e.step)if(e.step==="any"||!isNaN(e.step)&&parseFloat(e.step)>0)s.attr("step",e.step);else throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');tt(e.inputType,e.min,e.max)&&(e.min!==t&&s.attr("min",e.min),e.max!==t&&s.attr("max",e.max));break;case"select":if(v={},h=e.inputOptions||[],!n.isArray(h))throw new Error("Please pass an array of input options");if(!h.length)throw new Error('prompt with "inputType" set to "select" requires at least one option');e.placeholder&&s.attr("placeholder",e.placeholder);e.required&&s.prop({required:!0});e.multiple&&s.prop({multiple:!0});u(h,function(i,u){var e=s,f;if(u.value===t||u.text===t)throw new Error('each option needs a "value" property and a "text" property');u.group&&(v[u.group]||(v[u.group]=n("<optgroup />").attr("label",u.group)),e=v[u.group]);f=n(r.option);f.attr("value",u.value).text(u.text);e.append(f)});u(v,function(n,t){s.append(t)});s.val(e.value);break;case"checkbox":if(w=n.isArray(e.value)?e.value:[e.value],h=e.inputOptions||[],!h.length)throw new Error('prompt with "inputType" set to "checkbox" requires at least one option');s=n('<div class="bootbox-checkbox-list"><\/div>');u(h,function(i,f){if(f.value===t||f.text===t)throw new Error('each option needs a "value" property and a "text" property');var o=n(r.inputs[e.inputType]);o.find("input").attr("value",f.value);o.find("label").append("\n"+f.text);u(w,function(n,t){t===f.value&&o.find("input").prop("checked",!0)});s.append(o)});break;case"radio":if(e.value!==t&&n.isArray(e.value))throw new Error('prompt with "inputType" set to "radio" requires a single, non-array value for "value"');if(h=e.inputOptions||[],!h.length)throw new Error('prompt with "inputType" set to "radio" requires at least one option');s=n('<div class="bootbox-radiobutton-list"><\/div>');y=!0;u(h,function(i,u){if(u.value===t||u.text===t)throw new Error('each option needs a "value" property and a "text" property');var f=n(r.inputs[e.inputType]);f.find("input").attr("value",u.value);f.find("label").append("\n"+u.text);e.value!==t&&u.value===e.value&&(f.find("input").prop("checked",!0),y=!1);s.append(f)});y&&s.find('input[type="radio"]').first().prop("checked",!0)}a.append(s);a.on("submit",function(n){n.preventDefault();n.stopPropagation();c.find(".bootbox-accept").trigger("click")});n.trim(e.message)!==""?(b=n(r.promptMessage).html(e.message),a.prepend(b),e.message=a):e.message=a;c=i.dialog(e);c.off("shown.bs.modal",l);c.on("shown.bs.modal",function(){s.focus()});return p===!0&&c.modal("show"),c},i});$(function(){window.$("#chkShowDeleted").change(function(){document.cookie=window.$(this).prop("checked")?"ShowDeleted=true":"ShowDeleted=false"})});$(function(){window.$("#chkShowDeleted").change(function(){document.cookie=window.$(this).prop("checked")?"ShowDeleted=true":"ShowDeleted=false"})});SilkFlo={CheckCookie:function(n){const t=SilkFlo.GetCookie(n);return t===""?!1:!0},DeleteCookie:function(n){document.cookie=`${n}= ; expires = Thu, 01 Jan 1970 00:00:00 GMT;path=/;SameSite=Lax;`},GetCookie:function(n){n=`${n}=`;const i=decodeURIComponent(document.cookie),t=i.split(";");for(let i=0;i<t.length;i++){let r=t[i];while(r.charAt(0)===" ")r=r.substring(1);if(r.indexOf(n)===0)return r.substring(n.length,r.length)}return""},SetCookie:function(n,t,i){const r=`${n}=${t};path=/; SameSite=Lax;`;if(i===null)document.cookie=r;else{const n=new Date;n.setTime(n.getTime()+i*864e5);const t=` expires=${n.toUTCString()}`;document.cookie=r+t}},ClearLog:function(){if(confirm("Are you want to delete all the logs?")){const n=new XMLHttpRequest;n.open("DELETE","/api/log/clearAll",!0);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.onreadystatechange=function(){return function(){n.readyState===XMLHttpRequest.DONE&&n.status===200&&(window.location.href="../Administration/log")}}(this);n.send()}},ReplaceImgWithSVG:function(n){let t;t=n?$(n).find('img[src$=".svg"]'):window.$('img[src$=".svg"]');t.each(function(){const n=jQuery(this),t=n.attr("ignore");if(!t){const i=n.attr("src"),r=n.prop("attributes");window.$.get(i,function(t){let i=jQuery(t).find("svg");i=i.removeAttr("xmlns:a");window.$.each(r,function(){i.attr(this.name,this.value)});n.replaceWith(i)},"xml")}})},UpdateInnerHTMLById:function(n,t,i){const r="SilkFlo.UpdateInnerHTMLById: ";if(!t){console.log(r+"The targetElementId parameter is missing.");return}const u=document.getElementById(t);if(!u){console.log(r+'An element with id of "'+t+'" could not be found.');return}SilkFlo.UpdateInnerHTML(n,u,i)},UpdateInnerHTML:function(n,t,i){if(!t){console.log("SilkFlo.UpdateInnerHTML: The targetElement parameter is missing.");return}t.innerHTML!==n&&(t.innerHTML=n,i&&setTimeout(function(){const n=document.getElementById(i);n&&n.focus()},0),HotSpot.Get(t),Delaney.UI.DatePicker.CreateDatePickers(t),SilkFlo.ReplaceImgWithSVG(t),Delaney.UI.Grid.Create(t),SilkFlo.TabBar.SetUp(t),SilkFlo.Analytics.AssignClickEvents(t))},TextArea_OnInput:function(n,t){const i=document.getElementById(t);i.innerHTML=n.value},TextArea_Resize:function(n,t){let i=null;const r=function(){const i=document.getElementById(t);i.value=n.outerHeight()};n.on("mousedown",function(){i=setInterval(r,1e3/15)});$(window).on("mouseup",function(){i&&clearInterval(i);r()})},Compare:function(n,t,i,r,u,f){const e="SilkFlo.Compare: ";if(!n)return console.log(`${e}parentId parameter is missing.`),!1;if(!t)return console.log(`${e}sourceName parameter is missing.`),!1;if(!i)return console.log(`${e}targetName parameter is missing.`),!1;if(!r)return console.log(`${e}invalidName parameter is missing.`),!1;const s=document.getElementById(n);if(!s)return console.log(`${e}Element with id ${n} missing`),!1;const o=s.querySelector(`[name="${t}"]`);if(!o)return console.log(`${e}Element with name ${t} missing`),!1;const l=s.querySelector(`[name="${i}"]`);if(!l)return console.log(`${e}Element with name ${i} missing`),!1;const a=s.querySelector(`[name="${r}"]`);if(!a)return console.log(`${e}Element with name ${r} missing`),!1;let c=o.value,h=l.value;return f&&(c=c.toLowerCase(),h=h.toLowerCase()),h?c===h?(o.classList.remove("is-invalid"),!0):(o.classList.add("is-invalid"),a.innerHTML=u,!1):(o.classList.remove("is-invalid"),!0)},IsEmailAlreadyUsed:function(n,t){const i=new XMLHttpRequest,r=n;i.open("POST","/api/account/IsEmailAlreadyUsed",!0);i.onreadystatechange=function(){return function(){if(i.readyState===XMLHttpRequest.DONE&&i.status===200){const n=i.responseText;n.length>0&&t&&t(n)}}}(this);i.send(r)},IsInRange:function(n,t,i){if(!n)return console.log("SilkFlo.IsInRange: element parameter is missing."),!1;const u=document.getElementById(n.id+"Invalid"),r=n.value;if(r.length===0)return n.classList.remove("is-invalid"),!0;let f=!1,e=!1;if(t!==undefined&&r<t&&(f=!0),i!==undefined&&r>i&&(e=!0),f||e){if(u){let n="The value must be ";t!==undefined&&i!==undefined?n+=`between ${t} and ${i}.`:i===undefined?n+=`greater than ${t}`:t===undefined&&(n+=`less than ${t}`);u.innerText=n+"."}return n.classList.add("is-invalid"),!1}return n.classList.remove("is-invalid"),!0},IsRequired:function(n,t,i,r,u=true){if(!n)return console.log(`${"SilkFlo.IsRequired: "}element parameter is missing.`),u;let o=n.parentElement,e=null;o&&(e=o.parentElement,e.hasAttribute("SilkFlo-suffix-container")||(e=null));let f=document.getElementById(`${n.id}_InvalidFeedback`);if(f||(f=o.querySelector(`[name="${n.name}_InvalidFeedback"]`)),!f){const t=o.parentElement;f=t.querySelector(`[name="${n.name}_InvalidFeedback"]`)}if(!f){const t=o.parentElement.parentElement;f=t.querySelector(`[name="${n.name}_InvalidFeedback"]`)}const s=n.value;let l=n.id;l||(l=n.name+"_Prefix");const h=document.getElementById(l);let a=n.id;a||(a=n.name+"_Suffix");const c=document.getElementById(a);if(s===undefined||s.length===0)return f&&(r?(f.innerText=r,f.style.display="block"):f.style.display=""),n.classList.add("is-invalid"),e&&e.classList.add("is-invalid"),o.classList.contains("form-floating")&&(h&&(h.style.alignItems="center"),c&&(c.style.alignItems="center")),u;if(f&&(f.style.display=""),o.classList.contains("form-floating")&&(h&&(h.style.alignItems="end"),c&&(c.style.alignItems="end")),t&&s<t||i&&s>i){if(f){let n="The value must be ",u="";r&&(u=r);n=`${u}. ${n}`;t&&i?n+=`between ${t} and ${i}`:i?t||(n+=`less than ${t}`):n+=`greater than ${t}`;f.innerHTML=n}return n.classList.add("is-invalid"),e&&e.classList.add("is-invalid"),u}return n.classList.remove("is-invalid"),e&&e.classList.remove("is-invalid"),!0},FormatToolTip:function(){window.$('[data-bs-target="tooltip"]').tooltip()},UpdateList:function(n,t){const i="SilkFlo.UpdateList: ";if(!n){console.log(i+"id parameter is missing.");return}if(!t){console.log(i+"apiUrl parameter is missing.");return}const r=document.getElementById(n);if(!r){console.log(i+'Could not find an element with id "'+n+'".');return}const u=r.value;SilkFlo.DataAccess.UpdateElementById(t,null,n,"","GET",function(){SilkFlo.SelectListItem(n,u)})},SelectListItem:function(n,t){const i="SilkFlo.UpdateList: ";if(!n){console.log(i+"listId parameter is missing.");return}if(!t){console.log(i+"id parameter is missing.");return}const r=document.getElementById(n);if(!r){console.log(`${i}Could not find an element with id "${t}".`);return}const u=r.options,f=u.length;for(let n=0;n<f;n++){const i=u[n];if(i.value===t){r.selectedIndex=n;break}}},GetElementInParentId:function(n,t){const i="SilkFlo.GetElementInParentId: ";if(!n)return console.log(i+"The parentId parameter is missing."),null;if(!t)return console.log(i+"The elementName parameter is missing."),null;const r=document.getElementById(n);return r?SilkFlo.GetElementInParent(r,t):(console.log(i+"The parent element with id "+n+" was not found."),null)},GetElementInParent:function(n,t){const i="SilkFlo.GetElementInParent: ";if(!n)return console.log(i+"The parentElement parameter is missing."),null;if(!t)return console.log(i+"The elementName parameter is missing."),null;const r=n.querySelector(`[name="${t}"]`);return r?r:(console.log(`${i}The element was not found with name ${t}.`),null)},CharacterCount:function(n){const t="SilkFlo.CharacterCount: ";if(!n){console.log(t+"element parameter is missing.");return}const u=n.parentElement,i=SilkFlo.GetElementInParent(u,"characterCounter");if(!i){console.log(t+'Could not find element with the name "characterCounter" within the parent.');return}const r=SilkFlo.GetElementInParent(i,"current");if(!r){console.log(t+'Could not find element with the name "current" within the parent with name "characterCounter".');return}const f=n.value.length;r.innerHTML=f},ExecuteFunctionByName:function(n,t){if(!n)return console.log(`${"DelaneysSlider.ExecuteFunctionByName"}functionName parameter missing`),null;if(typeof eval(n)!="function")return null;let i;if(t)if(typeof t=="object"&&t instanceof Array==!1){if(typeof t[n]!="function")throw t+"."+n+" is not a function";i=Array.prototype.slice.call(arguments,2)}else i=Array.prototype.slice.call(arguments,1),t=window;else t=window;const r=n.split("."),u=r.pop();for(let n=0;n<r.length;n++)t=t[r[n]];if(i)for(let n=0;n<i[0].length;n++){let t=i[0][n];t=t.trim();t.length>0&&(t.substring(0,1)==='"'||t.substring(0,1)==="'")&&(t=t.substring(1,t.length));t.length>0&&(t.substring(t.length-1,t.length)==='"'||t.substring(t.length-1,t.length)==="'")&&(t=t.substring(0,t.length-1));i[0][n]=t}return i?t[u].apply(t,i[0]):t[u].apply(t)},Redirect:function(n){if(!n){console.log(`${"SilkFlo.Redirect: "}url parameter missing`);return}window.open(n)},SpinnerSmall:'<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="margin-right: 0.5rem;"><\/span>',DisableButtonById:function(n){const t="SilkFlo.DisableButtonById: ";if(!n){console.log(`${t}id parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with name ${name} missing`);return}SilkFlo.DisableButton(i)},DisableButtonByName:function(n,t){const i="SilkFlo.DisableButtonByName: ";if(!n){console.log(`${i}name parameter missing`);return}if(!t){console.log(`${i}parent parameter missing`);return}const r=t.querySelector(`[name="${n}"]`);if(!r){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.DisableButton(r)},DisableButton:function(n){if(!n){console.log(`${"SilkFlo.DisableButton: "}button parameter missing`);return}n.setAttribute("disabled","");n.innerHTML=SilkFlo.SpinnerSmall+n.innerHTML},EnableButtonById:function(n){const t="SilkFlo.EnableButtonById: ";if(!n){console.log(`${t}id parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with name ${name} missing`);return}SilkFlo.EnableButton(i)},EnableButtonByName:function(n,t){const i="SilkFlo.EnableButtonByName: ";if(!n){console.log(`${i}name parameter missing`);return}if(!t){console.log(`${i}parent parameter missing`);return}const r=t.querySelector(`[name="${n}"]`);if(!r){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.EnableButton(r)},EnableButton:function(n){if(!n){console.log(`${"SilkFlo.EnableButton: "}button parameter missing`);return}n.removeAttribute("disabled");SilkFlo.RemoveSpinner(n)},RemoveSpinnerById:function(n){const t="SilkFlo.RemoveSpinnerById: ";if(!n){console.log(`${t}id parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with name ${name} missing`);return}SilkFlo.RemoveSpinner(i)},RemoveSpinnerByName:function(n,t){const i="SilkFlo.RemoveSpinnerByName: ";if(!n){console.log(`${i}name parameter missing`);return}if(!t){console.log(`${i}parent parameter missing`);return}const r=t.querySelector(`[name="${n}"]`);if(!r){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.RemoveSpinner(r)},RemoveSpinner:function(n){if(!n){console.log(`${"SilkFlo.RemoveSpinner: "}button parameter missing`);return}n.innerHTML=n.innerHTML.replace(SilkFlo.SpinnerSmall,"")},AddSpinner:function(n){if(!n){console.log(`${"SilkFlo.AddSpinner: "}button parameter missing`);return}n.innerHTML=SilkFlo.SpinnerSmall+n.innerHTML}};SilkFlo||(SilkFlo={});SilkFlo.DataAccess={AttributeName:{Url:"silkflo-url",Json:"silkflo-json",IncludePath:"silkflo-url-include-path",Callback:"silkflo-callback",LoadOnce:"silkflo-loadOnce",GetManually:"silkflo-getManually"},ProductionHostName:"app.silkflo.com",GetAttributes:function(n){if(!n)return console.log(`${"SilkFlo.DataAccess.GetAttributes: "}element parameter missing`),null;if(n.SilkFlo)return n.SilkFlo;n.SilkFlo={};const t=this.ProductionHostName.toLowerCase()===location.hostname.toLowerCase();if(n.hasAttribute(SilkFlo.DataAccess.AttributeName.IncludePath)&&(n.SilkFlo.IncludePath=n.getAttribute(SilkFlo.DataAccess.AttributeName.IncludePath),t&&n.removeAttribute(SilkFlo.DataAccess.AttributeName.IncludePath)),n.hasAttribute(SilkFlo.DataAccess.AttributeName.Url)){const i=n.getAttribute(SilkFlo.DataAccess.AttributeName.Url);i&&(n.SilkFlo.Url=i,t&&n.setAttribute(SilkFlo.DataAccess.AttributeName.Url,""))}if(n.hasAttribute(SilkFlo.DataAccess.AttributeName.Json)){const i=n.getAttribute(SilkFlo.DataAccess.AttributeName.Json);i&&(n.SilkFlo.Json=i,t&&n.setAttribute(SilkFlo.DataAccess.AttributeName.Json,""))}return n.hasAttribute(SilkFlo.DataAccess.AttributeName.Callback)&&(n.SilkFlo.Callback=n.getAttribute(SilkFlo.DataAccess.AttributeName.Callback),t&&n.removeAttribute(SilkFlo.DataAccess.AttributeName.Callback)),n.hasAttribute(SilkFlo.DataAccess.AttributeName.LoadOnce)?(n.SilkFlo.LoadOnce=!0,t&&n.removeAttribute(SilkFlo.DataAccess.AttributeName.LoadOnce)):n.SilkFlo.LoadOnce=!1,n.SilkFlo},UpdateElementById:function(n,t,i,r="",u="GET",f=null,e="",o="application/x-www-form-urlencoded"){const s=document.getElementById(i);if(!s){console.log(`${"SilkFlo.DataAccess.UpdateElementById: "}Could not find element with id "${i}".`);return}SilkFlo.DataAccess.UpdateElement(n,t,s,r,u,f,e,o)},UpdateElement:function(n,t,i,r="",u="GET",f=null,e="",o="application/x-www-form-urlencoded",s,h){const l="SilkFlo.DataAccess.UpdateElement: ";if(!n){console.log(`${l}apiUrl parameter missing`);return}if(!i){console.log(`${l}targetElement parameter missing`);return}if(!u){console.log(`${l}verb parameter missing`);return}o||(o="application/x-www-form-urlencoded");const a=i.innerHTML;a.trim().length===0&&(i.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...',i.classList.add("transitionOpacity"));const c=new XMLHttpRequest;if(c.open(u,n,!0),typeof t=="object"?c.setRequestHeader("Content-type","application/json; charset=utf-8"):c.setRequestHeader("Content-type",o),c.onreadystatechange=function(){return function(){c.readyState===XMLHttpRequest.DONE&&(i.style.opacity=0,setTimeout(function(){let n=c.responseText;if(c.status===200){const t="message: ";if(n.length>t.length&&n.substr(0,t.length)===t){n=n.Right(n.length-t.length);bootbox.alert(n);return}SilkFlo.UpdateInnerHTML(n,i,e);r&&(window.scroll(0,0),window.history.pushState(r,location.hostname,r));f&&f();setTimeout(function(){i.style.opacity=1},250)}else s&&(h||(h=i.id),s(n,h))},250))}}(this),t)if(typeof t=="object"){const n=JSON.stringify(t);c.send(n)}else c.send(t);else c.send()},UpdateElementFromAttribute:function(n){if(!n){console.log("SilkFlo.DataAccess.UpdateElementFromAttribute: id is missing.");return}const t=document.getElementById(n);t&&SilkFlo.DataAccess.UpdateTargetElement(t)},UpdateTargetElement:function(n){const i="SilkFlo.DataAccess.UpdateTargetElement: ";if(!n){console.log(i+"target parameter missing");return}const t=SilkFlo.DataAccess.GetAttributes(n);if(!t.Url){console.log(`${i+SilkFlo.DataAccess.AttributeName.Url} is not present for ${n}`);return}let r=`/api/${t.Url}`;t.IncludePath&&window.location.pathname.length>1&&(r+=`/Path?path=${window.location.pathname}`);SilkFlo.DataAccess.UpdateTargetElementWithURL(n,r,t.Callback)},UpdateTargetElementWithURL:function(n,t,i){const u="SilkFlo.DataAccess.UpdateTargetElementWithURL: ";if(!n){console.log(`${u}target parameter missing`);return}if(!t){console.log(`${u}url parameter missing.`);return}HotSpot.Card&&HotSpot.Card.Close();n.IsLoading=!0;n.innerHTML.trim().length===0&&(n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');const r=new XMLHttpRequest;r.open("GET",t,!0);r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.onreadystatechange=function(n){return function(){if(r.readyState===XMLHttpRequest.DONE&&r.status===200){const t=r.responseText;if(n.innerHTML.trim()!==t&&n.parentElement&&n.parentElement.children){const i=[].slice.call(n.parentElement.children).indexOf(n);n.innerHTML=t;n.ResizeColumnHeader&&n.ResizeColumnHeader();n=n.parentElement.children[i];HotSpot.Get(n);SilkFlo.DataAccess.GetJsonComponents(n);Delaney.UI.DatePicker.CreateDatePickers(n);SilkFlo.ReplaceImgWithSVG(n);Delaney.UI.Grid.Create(n);SilkFlo.TabBar.SetUp(n);SilkFlo.SVGTools.AnimatePaths(n);SilkFlo.Analytics.AssignClickEvents(n);SilkFlo.DataAccess.GetSubComponents(n)}i&&SilkFlo.ExecuteFunctionByName(i,null,[n,t]);SilkFlo.DataAccess.LoadOnce(n)}}}(n);r.send()},GetJsonComponents:function(n){const t=Array.apply(null,n.querySelectorAll(`[${SilkFlo.DataAccess.AttributeName.Json}]:not([${SilkFlo.DataAccess.AttributeName.GetManually}])`)),i=t.length;for(let n=0;n<i;n++){const i=t[n];SilkFlo.DataAccess.GetJson(i)}},GetJson:function(n){const r="SilkFlo.DataAccess.GetJson: ";if(!n)return console.log(r+"target parameter missing"),!1;const i=SilkFlo.DataAccess.GetAttributes(n);if(!i.Json)return!1;if(!i.Callback)return console.log(`${r}Callback function missing missing.`),!1;const u=i.Callback,f=`/api/${i.Json}`,t=new XMLHttpRequest;return t.open("GET",f,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(n){return function(){if(t.readyState===XMLHttpRequest.DONE&&t.status===200){const i=t.responseText;SilkFlo.ExecuteFunctionByName(u,null,[n,i])}}}(n),t.send(),!0},LoadOnce:function(n){const t=SilkFlo.DataAccess.GetAttributes(n);t.LoadOnce&&(n.removeAttribute(SilkFlo.DataAccess.AttributeName.Url),n.removeAttribute(SilkFlo.DataAccess.AttributeName.Json),n.removeAttribute(SilkFlo.DataAccess.AttributeName.IncludePath),n.removeAttribute(SilkFlo.DataAccess.AttributeName.Callback),n.removeAttribute(SilkFlo.DataAccess.AttributeName.LoadOnce),n.removeAttribute(SilkFlo.DataAccess.AttributeName.GetManually),n.SilkFlo=undefined)},GetComponents:function(){let n=Array.apply(null,document.querySelectorAll(`[${SilkFlo.DataAccess.AttributeName.Url}]:not([${SilkFlo.DataAccess.AttributeName.GetManually}])`)),i=n.length;for(let t=0;t<i;t++){const i=n[t];i.IsLoading=!1;const r=SilkFlo.DataAccess.GetParents(i,"count");i.SilkFloCount=r}n=n.sort((n,t)=>n.SilkFloCount-t.SilkFloCount);const t=[];for(let r=0;r<i;r++){const i=n[r];i.IsLoading||SilkFlo.DataAccess.IsInFamilyTree(t,i)||(t[t.length]=i,SilkFlo.DataAccess.UpdateTargetElement(i))}},IsInFamilyTree:function(n,t){const i="SilkFlo.DataAccess.IsInFamilyTree: ";if(!n)return console.log(`${i}ancestors parameter missing`),null;if(!t)return console.log(`${i}element parameter missing`),null;if(t.parentElement===null)return!1;const r=n.length;if(r===0)return!1;for(let i=0;i<r;i++){const u=n[i];let r=t.parentElement;while(r){if(r===u)return!0;r=r.parentElement}}return!1},GetParents:function(n,t,i){if(!n)return console.log(`${"SilkFlo.DataAccess.GetParents: "}element parameter missing`),null;const r=[];while(n.parentElement!==null)r[r.length]=t==="name"?n.nodeName:n,n=n.parentElement;return t==="count"?r.length:i?r.reverse():r},GetSubComponents:function(n){const t=n.querySelectorAll(`[${SilkFlo.DataAccess.AttributeName.Url}]:not([${SilkFlo.DataAccess.AttributeName.GetManually}])`);if(t.length!==0)for(let n=0;n<t.length;n++)SilkFlo.DataAccess.UpdateTargetElement(t[n])},AppendElement:function(n,t,i,r,u,f){const o="SilkFlo.DataAccess.AppendElement: ";if(!n){console.log(`${o}apiUrl parameter missing`);return}if(!i){console.log(`${o}targetElement parameter missing`);return}const e=new XMLHttpRequest;e.open("GET",n,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){return function(){if(e.readyState===XMLHttpRequest.DONE&&e.status===200){const t=document.createElement("template");t.innerHTML=e.responseText;const n=t.content.cloneNode(!0);f?i.insertBefore(n,f):u?i.insertBefore(n,i.firstChild):i.appendChild(n);r&&r()}}}(this);t?e.send(t):e.send()},GetObject:function(n,t,i,r){if(!n){console.log(`${"SilkFlo.DataAccess.GetObject: "}apiUrl parameter missing`);return}const u=new XMLHttpRequest;u.open("GET",n,!0);u.setRequestHeader("Content-type","application/x-www-form-urlencoded");u.onreadystatechange=function(){return function(){if(u.readyState===XMLHttpRequest.DONE)if(u.status===200){const n=u.responseText;t&&t(n)}else{const n=u.responseText;i&&i(n,r)}}}(this);u.send()},InsertAfter:function(n,t){t.parentNode.insertBefore(n,t.nextSibling)},Feedback:function(n,t){const u="SilkFlo.DataAccess.Feedback: ";if(n){if(!t){console.log(`${u}parentId parameter missing`);return}const r=document.getElementById(t);if(!r){console.log(`${u}Element with id ${t} missing`);return}const i=JSON.parse(n);let e=[];const f=r.querySelectorAll(`[silkFlo-feedback]`);if(f&&f.length>0){const n=f.length;for(let t=0;t<n;t++){const n=f[t];n&&(n.style.display="")}}if(i.elements){const n=Object.keys(i.elements),o=n.length;let f=t+".";i.namePrefix&&(f=i.namePrefix);for(let t=0;t<o;t++){const c=n[t],l=SilkFlo.DataAccess.ToPascalCase(c),h=i.elements[c];let s=f+l,o=r.querySelector(`[name="${s}"]`);if(!o){console.log(`${u}Element with name ${s} missing`);continue}o.classList.add("is-invalid");s+="_InvalidFeedback";o=r.querySelector(`[name="${s}"]`);o?(h&&(o.innerHTML=h),o.style.display="block"):console.log(`${u}Element with name ${s} missing`);e.push(h)}}i.message&&(SilkFlo.Models.Abstract.Message(i.message,r),bootbox.dialog({title:"SilkFlo",message:i.message,onEscape:!0,backdrop:!0,buttons:{Ok:{label:"Ok",className:"btn-danger"}}}));let o="errorButton";const s=document.getElementById(o);o="errorModalBody";const h=document.getElementById(o);if(s&&h){const n=e.length;if(n===0)return;let i="There is 1 error.";n>1&&(i=`There are ${n} errors.`);s.innerHTML=i;s.style.display="block";let t="<ul>";for(let i=0;i<n;i++)t+=`<li class="text-danger">${e[i]}</li>`;t+="<\/ul>";h.innerHTML=t}}},ResetFeedback:function(n,t,i="",r=false){const u="SilkFlo.DataAccess.ResetFeedback: ";if(!t){console.log(`${u}elementNames parameter missing`);return}if(!Array.isArray(t)){console.log(`${u}elementNames is not an array`);return}let e=t.length;for(let f=0;f<e;f++){let e=i+t[f],o=n.querySelector(`[name="${e}"]`);if(!o){r&&console.log(`${u}Element with name ${e} missing`);continue}o.classList.remove("is-invalid");e+="_InvalidFeedback";o=n.querySelector(`[name="${e}"]`);o?o.style.display="none":r&&console.log(`${u}Element with name ${e} missing`)}const f=n.querySelectorAll(`[silkFlo-feedback]`);if(f&&f.length>0){e=f.length;for(let n=0;n<e;n++){const t=f[n];t.style.display=""}}},ToPascalCase:function(n){return n?n.length===1?n.toUpperCase():n.substring(0,1).toUpperCase()+n.substring(1,n.length):""}};SilkFlo.ShowApplicationMode=function(){const n=SilkFlo.GetCookie("IsPractice");if(n.toLowerCase()==="true"){const n=document.getElementById("practiceAccountPlaceHolder");n&&n.classList.remove("hide")}setTimeout(function(){const n=document.getElementById("applicationMode");n&&n.classList.remove("offScreen")},10)};SilkFlo.TogglePracticeMode=function(){setTimeout(function(){let t="practiceMode";const i=document.getElementById(t);if(i){const r=SilkFlo.GetCookie("IsPractice");t="practiceAccountPlaceHolder";const n=document.getElementById(t);r.toLowerCase()==="true"?(i.classList.remove("offScreen"),n&&(n.style.display="")):(i.classList.add("offScreen"),n&&(n.style.display="none"))}},10)};SilkFlo.SelectApplicationPage=function(n){const r=document.querySelectorAll("[pageId]");let u=r.length;for(let t=0;t<u;t++){const i=r[t].getAttribute("pageId");r[t].style.display=i===n?"table-row":"none"}const t=document.querySelectorAll("[paginationId]");u=t.length;for(let i=0;i<u;i++){const r=t[i].getAttribute("paginationId");r===n?t[i].classList.add("active"):t[i].classList.remove("active")}const i=document.getElementById("paginationFirst");i&&(n==="1"?i.removeAttribute("onclick"):i.setAttribute("onclick","SilkFlo.SelectApplicationPage('"+n--+"');return false;"));const f=document.getElementById("paginationLast");if(f!==null){const r=t[t.length-1].getAttribute("paginationId");n===r?i.removeAttribute("onclick"):i.setAttribute("onclick","SilkFlo.SelectApplicationPage('"+n+++"');return false;")}};SilkFlo.ShowDashboard=function(){SilkFlo.SideBar.OnClick("/Dashboard")};SilkFlo.ShowOKMessage=function(n,t){const i="SilkFlo.ShowOKMessage: ",r=document.getElementById("MessageBox_Ok");if(!r){console.log(i+'element with id "MessageBox_Ok" missing');return}const u=r.querySelector('[name="Title"]');if(!u){console.log(i+'element with id "Title" missing');return}const f=r.querySelector('[name="Message"]');if(!f){console.log(i+'element with id "Message" missing');return}u.innerHTML=n;f.innerHTML=t;window.$("#MessageBox_Ok").modal("show")};SilkFlo.ShowYesNoMessage=function(n,t,i,r,u="Yes",f="No"){const e="SilkFlo.ShowYesNoMessage: ",o=document.getElementById("MessageBox_YesNo");if(!o){console.log(e+'element with id "MessageBox_Ok" missing');return}const c=o.querySelector('[name="Title"]');if(!c){console.log(e+'element with id "Title" missing');return}const l=o.querySelector('[name="Message"]');if(!l){console.log(e+'element with id "Message" missing');return}const s=o.querySelector('[name="Yes"]');if(!s){console.log(e+'element with id "Yes" missing');return}const h=o.querySelector('[name="No"]');if(!h){console.log(e+'element with id "No" missing');return}c.innerHTML=n;l.innerHTML=t;s.innerHTML=u;s.addEventListener("click",i);h.innerHTML=f;h.addEventListener("click",r);window.$("#MessageBox_YesNo").modal("show")};SilkFlo.SendToClickboard=function(n){n&&navigator.clipboard.writeText(n)};SilkFlo.KeyPressNumberOnly=function(n,t){n.key!=="Backspace"&&n.key!=="ArrowLeft"&&n.key!=="ArrowRight"&&n.key!=="Delete"&&n.key!=="Tab"&&(n.which===189&&n.preventDefault(),n.which===69&&n.preventDefault(),n.key==="."&&n.target.innerHTML.indexOf(".")>-1&&n.preventDefault(),IsNumeric(n.key)||n.key==="."||n.preventDefault(),t&&t(n))};SilkFlo.FormatNumber=function(n){if(typeof n!="number"){const t=parseFloat(n);return t.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})}return n.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})};SilkFlo.SVGTools={AnimatePaths:function(n){if(!n){console.log(`${"SilkFlo.SVGTools.AnimatePaths: "}parentElement parameter missing`);return}const i=1,t=n.querySelectorAll("[silkflo-fps]"),r=t.length;for(let n=0;n<r;n++){const r=t[n];if(!r.IntervalId){r.length=0;r.TotalLength=r.getTotalLength();r.IncreaseLength=function(n){const t=n.TotalLength;n.length+=i;n.style.strokeDasharray=[n.length,t].join(" ");n.length>=t&&(clearInterval(n.IntervalId),n.IntervalId=null)};let u=r.getAttribute("silkflo-fps");u||(u=120);let f=r.getAttribute("silkflo-stroke");f||(f="black");const e=r.getAttribute("silkflo-animate-seconds");e&&IsNumeric(e)&&(u=r.TotalLength/e);r.style.strokeDasharray="";r.style.stroke=f;r.IntervalId=setInterval(r.IncreaseLength,1e3/u,r)}}}};SilkFlo.GetClosestParent=function(n,t){const i="SilkFlo.GetClosestParent: ";if(!n)return console.log(`${i}element parameter missing`),null;if(!t)return console.log(`${i}selector parameter missing`),null;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const i=(this.document||this.ownerDocument).querySelectorAll(n);let t=i.length;while(--t>=0&&i.item(t)!==this);return t>-1});n&&n!==document;n=n.parentNode)if(n.matches(t))return n;return null};SilkFlo.GReCaptchaPublicKey="6Ldpx1IfAAAAAPe-KeEQw7z2sB_wmwqkD6AKEGpV";SilkFlo.Radio_Click=function(n,t){if(!n){console.log(`${"SilkFlo.Radio_Click: "}selected parameter missing`);return}const r=SilkFlo.GetSiblings(n.parentElement),i=[],u=r.length;for(let n=0;n<u;n++){const t=r[n];if(t.classList.contains("form-check")){const u=t.children,f=u.length;for(let n=0;n<f;n++){const t=u[n],r=t.getAttribute("type");r&&r==="radio"&&i.push(t)}}}const f=i.length;for(let n=0;n<f;n++){const t=i[n];t.checked=!1}t&&t(n)};SilkFlo.GetSiblings=function(n){if(!n)return console.log(`${"SilkFlo.GetSiblings: "}element parameter missing`),null;const i=[];if(!n.parentNode)return i;let t=n.parentNode.firstElementChild;if(t)do t!==n&&i.push(t),t=t.nextElementSibling;while(t);return i};SilkFlo.SetFocus=function(n){if(!n){console.log(`${"SilkFlo.SetFocus: "}element parameter missing`);return}setTimeout(function(){n.focus()},500)};SilkFlo.GetPadding=function(n){const t=n.currentStyle||window.getComputedStyle(n);return{GetLeft:function(){return parseInt(t.paddingLeft)},GetTop:function(){return parseInt(t.paddingTop)},GetRight:function(){return parseInt(t.paddingRight)},GetBottom:function(){return parseInt(t.paddingBottom)}}};SilkFlo.ToggleFilter=function(n,t){const u="SilkFlo.ToggleFilter: ";if(!n){console.log(`${u}event parameter missing`);return}n.stopPropagation();const r=document.getElementById("filter");let i=r.Card;if(!i){const n="filterContainer";if(i=r.querySelector(`[name="${n}"]`),!i){console.log(`${u}Element with name ${n} missing`);return}r.Card=i;document.addEventListener("scroll",()=>{i.SetPosition()});window.addEventListener("resize",()=>{i.SetPosition()});document.addEventListener("click",SilkFlo.Pages.Cards.FilterCriteria.Close,!1)}if(i.style.display==="none"){if(i.parentElement===window.body)i.style.display="";else{const n=window.body.querySelectorAll(`[name="${name}"]`),t=n.length;for(let r=0;r<t;r++){const t=n[r];t!==i&&t.remove()}window.body.appendChild(i);i.style.position="fixed";i.onclick=function(n){n.preventDefault();n.stopPropagation()}}i.style.display="";i.SetPosition=function(){const h="lists",c=i.querySelector(`[name="${h}"]`);if(!c){console.log(`${u}Element with name ${h} missing`);return}const t=r.getBoundingClientRect(),o=t.left,s=window.innerWidth-t.right;let e=s;o<s&&(e=o);const v=t.top+t.height;let n=t.left+t.width-s;o<s&&(n=window.innerWidth-o-20);const y=i.style.maxWidth,l=y.ToPixel(),p=i.style.minWidth,a=p.ToPixel();let f="40vh";document.documentElement.clientHeight>document.documentElement.clientWidth&&(f="80vh");f=f.ToPixel();n>l&&(n=l,e=t.right-n);n<a&&(n=a);e+n>document.documentElement.clientWidth&&(e=(document.documentElement.clientWidth-n)/2);i.style.left=e+"px";i.style.top=v+"px";i.style.width=n+"px";f=f-t.top;c.style.height=f+"px"};i.SetPosition();i.onclick=function(n){n.preventDefault();n.stopPropagation()}}else i.style.display="none";t&&t()};SilkFlo.ValidatePassword=function(n){const i="SilkFlo.ValidatePassword: ";if(window.PasswordValid=!1,!n){console.log(`${i}element parameter missing`);return}let a="PasswordRules";const r=document.getElementById(a);if(!r){console.log(`${i}Element with id ${a} missing`);return}let t="PasswordRules.Eight";const u=r.querySelector(`[name="${t}"]`);if(!u){console.log(`${i}Element with name ${t} missing`);return}t="PasswordRules.Three";const f=r.querySelector(`[name="${t}"]`);if(!f){console.log(`${i}Element with name ${t} missing`);return}t="PasswordRules.Lower";const e=r.querySelector(`[name="${t}"]`);if(!e){console.log(`${i}Element with name ${t} missing`);return}t="PasswordRules.Upper";const o=r.querySelector(`[name="${t}"]`);if(!o){console.log(`${i}Element with name ${t} missing`);return}t="PasswordRules.Numbers";const s=r.querySelector(`[name="${t}"]`);if(!s){console.log(`${i}Element with name ${t} missing`);return}t="PasswordRules.Special";const h=r.querySelector(`[name="${t}"]`);if(!h){console.log(`${i}Element with name ${t} missing`);return}r.style.opacity=1;const c=n.value;let v=!1;c.length<8?(u.classList.add("isInValid"),u.classList.remove("isValid"),u.setAttribute("aria-invalid","true")):(u.classList.remove("isInValid"),u.classList.add("isValid"),u.setAttribute("aria-invalid","false"),v=!0);let l=0;/[a-z]/.test(c)?(l++,e.classList.remove("isInValid"),e.classList.add("isValid"),e.setAttribute("aria-invalid","false")):(e.classList.add("isInValid"),e.classList.remove("isValid"),e.setAttribute("aria-invalid","true"));/[A-Z]/.test(c)?(l++,o.classList.remove("isInValid"),o.classList.add("isValid"),o.setAttribute("aria-invalid","false")):(o.classList.add("isInValid"),o.classList.remove("isValid"),o.setAttribute("aria-invalid","true"));/[0-9]/.test(c)?(l++,s.classList.remove("isInValid"),s.classList.add("isValid"),s.setAttribute("aria-invalid","false")):(s.classList.add("isInValid"),s.classList.remove("isValid"),s.setAttribute("aria-invalid","true"));/[!@#\$%\^&\*]/.test(c)?(l++,h.classList.remove("isInValid"),h.classList.add("isValid"),h.setAttribute("aria-invalid","false")):(h.classList.add("isInValid"),h.classList.remove("isValid"),h.setAttribute("aria-invalid","true"));let y=!1;l<3?(f.classList.add("isInValid"),f.classList.remove("isValid"),f.setAttribute("aria-invalid","true")):(f.classList.remove("isInValid"),f.classList.add("isValid"),f.setAttribute("aria-invalid","false"),y=!0);window.PasswordValid=v&&y};SilkFlo.ResetPassword={ToggleButtonState:function(){const t="SilkFlo.ResetPassword.ToggleButtonState: ",u="ResetPassword",i=document.getElementById(u);if(!i){console.log(`${t}Element with id ${u} missing`);return}let n="Email";const f=i.querySelector(`[name="${n}"]`);if(!f){console.log(`${t}Element with name ${n} missing`);return}n="Password";const e=i.querySelector(`[name="${n}"]`);e||console.log(`${t}Element with name ${n} missing`);n="ConfirmPassword";const o=i.querySelector(`[name="${n}"]`);o||console.log(`${t}Element with name ${n} missing`);n="btn";const r=i.querySelector(`[name="${n}"]`);if(!r){console.log(`${t}Element with name ${n} missing`);return}f.value.length>0&&e.value===o.value?window.PasswordValid?r.classList.remove("disabled"):r.classList.add("disabled"):r.classList.add("disabled")}};SilkFlo.SignUpShort={ToggleButtonState:function(){const r="SignUpShort",t=document.getElementById(r);if(!t){console.log(`${"SilkFlo.ResetPassword.ToggleButtonState: "}Element with id ${r} missing`);return}const n=SilkFlo.Models.Abstract.GetModelFromParent(t,["FirstName","LastName","Password","ConfirmPassword","Button"]),i=t.ModelElements.Button;n.FirstName.length>0&&n.LastName.length>0&&n.Password===n.ConfirmPassword?window.PasswordValid?i.classList.remove("disabled"):i.classList.add("disabled"):i.classList.add("disabled")}};SilkFlo.SideBar={AfterResize:function(){const t="sidebar",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.SideBar.AfterResize: "}element with id "${t}" was not found`);return}SilkFlo.SideBar.SetSideBarDeltaX(n);SilkFlo.SideBar.SetMenu();n.removeEventListener("transitionend",SilkFlo.SideBar.AfterResize)},ToggleDownArrow:function(n,t){const r="SilkFlo.SideBar.ToggleDownArrow: ";if(!n){console.log(`${r}element parameter missing`);return}const i=document.getElementById(t);if(!i){console.log(`${r}element with id "${t}" missing`);return}n.classList.contains("collapsed")?i.classList.add("rotate180"):i.classList.remove("rotate180")},ToggleMenu:function(n){const t="SilkFlo.SideBar.ToggleMenu: ";if(!n){console.log(`${t}element parameter is missing`);return}const i=document.getElementById("menu");if(!i){console.log(`${t}element with id "menu" was not found`);return}const r=i.getElementsByTagName("a");for(const t of r){const r=t===n,i=t.parentElement;r?i.classList.add("active"):i.classList.remove("active")}SilkFlo.SideBar.PositionSelectBar(n)},PositionSelectBar:function(n){const t="SilkFlo.SideBarPositionSelectBar: ";if(!n){console.log(`${t}selectedElement parameter is missing`);return}let i=0;if(n.id!=="SideBar.Dashboard.Container"){const r=document.getElementById("SideBar.Dashboard.Container");if(!r){console.log(`${t}element with id "SideBar.Dashboard.Container" not found`);return}const u=r.getBoundingClientRect().top,f=n.getBoundingClientRect().top;i=f-u}const u=`matrix( 1, 0, 0, 1, 1, ${i})`,r=document.getElementById("selectBar");r&&(r.style.transform=u)},SetMenu:function(){const n=window.location.pathname;let t="";t=n==="/"?"SideBar.Dashboard.Container":n.toLowerCase().indexOf("/dashboard")>-1?"SideBar.Dashboard.Container":n.toLowerCase().indexOf("/agencydashboard")>-1?"SideBar.AgencyDashboard.Container":n.toLowerCase().indexOf("/explore/ideas")>-1?"SideBar.Explore.Ideas.Container":n.toLowerCase().indexOf("/explore/automations")>-1?"SideBar.Explore.Automations.Container":n.toLowerCase().indexOf("/explore/people")>-1?"SideBar.Explore.People.Container":n.toLowerCase().indexOf("/explore/leaderboard")>-1?"SideBar.Explore.Leaderboard.Container":n.toLowerCase().indexOf("/explore/component")>-1?"SideBar.Explore.Component.Container":n.toLowerCase().indexOf("/workshop")>-1?"SideBar.Workshop.Container":n.toLowerCase().indexOf("/administration")>-1?"SideBar.Administration.Container":n.toLowerCase().indexOf("/application/settings")>-1?"SideBar.SilkFloSettings.Container":n.toLowerCase().indexOf("/application/prospects")>-1?"SideBar.SilkFloProspects.Container":n.toLowerCase().indexOf("/settings/tenant/account")>-1?"SideBar.Settings.Tenant.Account.Container":n.toLowerCase().indexOf("/settings/tenant/people")>-1?"SideBar.Settings.Tenant.People.Container":n.toLowerCase().indexOf("/settings/tenant/platform-setup")>-1?"SideBar.Settings.Tenant.PlatformSetup.Container":n.toLowerCase().indexOf("/settings/agency/account")>-1?"SideBar.Settings.Agency.Account.Container":n.toLowerCase().indexOf("/settings/agency/people")>-1?"SideBar.Settings.Agency.People.Container":n.toLowerCase().indexOf("/settings/agency/tenants")>-1?"SideBar.Settings.Agency.Tenants.Container":n.toLowerCase().indexOf("/settings/agency/platformsetup")>-1?"SideBar.Settings.Agency.PlatformSetup.Container":n.toLowerCase().indexOf("/settings")>-1?"SideBar.Settings.Tenant.Container":n.toLowerCase().indexOf("/agencysettings")>-1?"SideBar.Settings.Agency.Container":"";SilkFlo.SideBar.FormatMenu(t)},ClearMenu:function(){SilkFlo.SideBar.FormatMenu("")},FormatMenu:function(n){const t="SilkFlo.SideBar.FormatMenu: ",i=document.getElementById("selectBar");i&&(i.style.display=n?"block":"none");let r="menu";const u=document.getElementById(r);if(!u){console.log(`${t}Element with id ${r} missing`);return}const f=u.getElementsByTagName("a");for(const i of f)if(i.parentNode!==undefined){if(i.id==="SideBar.Explore"&&n.indexOf("SideBar.Explore")>-1&&i.classList.contains("collapsed")){const n=i.getAttribute("silkflo-sub-menu-id");if(!n){console.log(t+"silkflo-sub-menu-id attribute is missing for element with id = "+i.id);return}const r=document.getElementById(n);if(!r){console.log(`${t}element with id "${n}" was not found`);return}i.setAttribute("aria-expanded","true");r.classList.add("show")}if(i.id==="SideBar.Settings"&&n.indexOf("SideBar.Settings")>-1&&i.classList.contains("collapsed")){const n=i.getAttribute("silkflo-sub-menu-id");if(!n){console.log(t+"silkflo-sub-menu-id attribute is missing for element with id = "+i.id);return}const r=document.getElementById(n);if(!r){console.log(`${t}element with id "${n}" was not found`);return}i.setAttribute("aria-expanded","true");r.classList.add("show")}const r=i.parentNode;if(r.id===n)r.classList.add("active"),SilkFlo.SideBar.PositionSelectBar(r);else{r.classList.remove("active");const n=i.getAttribute("silkflo-parent-menu-id");n&&r.id!==n&&i.classList.add("collapsed")}}},SetSideBarDeltaX:function(n){if(!n){console.log(`${"SilkFlo.SideBar.SetSideBarDeltaX: "}sidebar parameter is missing.`);return}const i=SilkFlo.GetCookie("sidebarNarrow");let t=20.5;if(i.length===0)t=t+4;SilkFlo.SideBar.SelectBarDeltaX=t},SetSideBarZeroY:function(){const n=document.getElementById("selectBar");if(n){const t=n.getBoundingClientRect();SilkFlo.SideBar.SelectBarZeroY=t.top}},SetWorkspace:function(){const n=document.getElementById("workspaceSelector");if(n)SilkFlo.DataAccess.UpdateElement("/api/Business/Client/GetWorkspaceSelector","",n,"","GET",SilkFlo.SideBar.NavigationFirstLoad_Callback)},OnClick:function(n,t){const i="SilkFlo.SideBar.OnClick: ";if(!n){console.log(`${i}url parameter is missing`);return}Delaney.UI.ToolTip.Hide();n.charAt(0)!=="/"&&(n=`/${n}`);window.location.href.indexOf(n)===-1&&(SilkFlo.SideBar.ReturnURL=window.location.href);const r="content",u=document.getElementById(r);if(!u){console.log(`${i}Element with id ${r} missing`);return}SilkFlo.DataAccess.UpdateElement(`/api${n}`,"",u,n,"GET",()=>{SilkFlo.SideBar.SetMenu(),t&&t()})},SubmitIdea:function(n,t,i){SilkFlo.SideBar.SubmitIdeaMenu.Show(n,t,i)},SubmitIdeaMenu:{Menu:null,Show:function(n,t,i){SilkFlo.SideBar.SubmitIdeaMenu.Menu===null&&(SilkFlo.SideBar.SubmitIdeaMenu.Menu=document.getElementById("submitIdeaMenu"),window.addEventListener("mouseup",SilkFlo.SideBar.SubmitIdeaMenu.Hide));SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.display="block";i==="right"?SilkFlo.SideBar.SubmitIdeaMenu.Position(n,t):SilkFlo.SideBar.SubmitIdeaMenu.PositionBottom(n,t)},Hide:function(){const n=SilkFlo.SideBar.SubmitIdeaMenu.Menu;n&&event.target!==n&&event.target.parentNode!==n&&(n.style.display="none")},Position:function(n,t){if(SilkFlo.SideBar.SubmitIdeaMenu.Menu===null&&(SilkFlo.SideBar.SubmitIdeaMenu.Menu=document.getElementById(n)),SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.display==="block"){SilkFlo.SideBar.SubmitIdeaMenu.Menu.classList.remove("modelSubmitIdea_bottom");SilkFlo.SideBar.SubmitIdeaMenu.Menu.classList.add("modelSubmitIdea");const r=document.getElementById(t),i=r.getBoundingClientRect(),u=i.left+i.width;SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.left=u+"px";SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.top=i.top+"px"}},PositionBottom:function(n,t){if(SilkFlo.SideBar.SubmitIdeaMenu.Menu===null&&(SilkFlo.SideBar.SubmitIdeaMenu.Menu=document.getElementById(n)),SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.display==="block"){SilkFlo.SideBar.SubmitIdeaMenu.Menu.classList.remove("modelSubmitIdea");SilkFlo.SideBar.SubmitIdeaMenu.Menu.classList.add("modelSubmitIdea_bottom");const r=document.getElementById(t),i=r.getBoundingClientRect(),u=i.left+(i.width-170)/2,f=i.top+i.height+10;SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.left=u+"px";SilkFlo.SideBar.SubmitIdeaMenu.Menu.style.top=f+"px"}}},WorkspaceSelector_OnChange:function(n,t){const i="SilkFlo.SideBar.WorkspaceSelector_OnChange: ";if(!n){console.log(`${i}element parameter is missing`);return}if(!t){console.log(`${i}navigationIsPracticeAccountId parameter is missing`);return}const r=document.getElementById(t);let u=!1;r&&(u=r.checked);const f=n.value;SilkFlo.SideBar.GetClient(f,u)},PracticeAccount_OnInput:function(n,t){const i="SilkFlo.SideBar.PracticeAccount_OnInput: ";if(!n){console.log(`${i}element parameter is missing`);return}if(!t){console.log(`${i}navigationSelectorClientId parameter is missing`);return}const r=document.getElementById("Navigation.SelectorClientId");if(!r){console.log(`${i}navigationSelectorClientId parameter does not produce an element`);return}const u=r.value,f=n.checked;SilkFlo.SideBar.GetClient(u,f)},GetClient:function(n,t){if(!n){console.log(`${"SilkFlo.SideBar.GetClient: "}No value`);return}let i,r;const e=n.indexOf(",");if(e>-1){const t=n.split(",");[i,r]=t}else i=n,r=n,t=!1;let u=i;t&&(u=r);SilkFlo.SetCookie("ClientId",u,1e3);SilkFlo.SetCookie("IsPractice",t,1e3);SilkFlo.SideBar.GetNavigation();const f=`/Dashboard/clientid/${u}`;window.history.pushState("",location.hostname,f);SilkFlo.DataAccess.UpdateElementById(`/api${f}`,"","content",f,"SET");SilkFlo.TogglePracticeMode()},GetNavigation:function(){const n="navigation",t=document.getElementById(n);if(!t){console.log(`${"SilkFlo.SideBar.GetNavigation: "}Element with id ${n} missing`);return}SilkFlo.DataAccess.UpdateElement("/api/GetNavigation",null,t,"","GET",SilkFlo.SideBar.GetNavigation_Callback)},GetNavigation_Callback:function(){const t="btnSubmitContainer",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.SideBar.GetNavigation_Callback: "}Element with id ${t} missing`);return}SilkFlo.DataAccess.UpdateElement("/api/business/Idea/GetSubmitIdeaButton",null,n,"","GET",SilkFlo.SideBar.SetMenu);SilkFlo.DataAccess.LoadOnce(n);SilkFlo.SideBar.NavigationFirstLoad_Callback()},NavigationFirstLoad_Callback:function(){let n="NavigationIsPracticeAccount_Container";const i=document.getElementById(n);if(i){n="NavigationInviteTeam";const t=document.getElementById(n);if(!t){console.log(`${"SilkFlo.SideBar.NavigationFirstLoad_Callback: "}Element with id ${n} missing`);return}n="SideBar.Workshop.Container";const r=document.getElementById(n);r?(i.style.display="",t.style.display=""):(i.style.display="none",t.style.display="none");const u=SilkFlo.GetCookie("IsPractice");t.style.display=r&&u.toLowerCase()==="false"?"":"none"}},ShowModelSubmitIdea:function(){const t="ModalSubmitIdeaContent",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.SideBar.ShowModelSubmitIdea: "}Element with id ${t} missing`);return}n.style.paddingTop="1rem;";n.style.paddingLeft="1rem;";SilkFlo.DataAccess.UpdateElement("/api/Idea/Modal",null,n,"","GET",SilkFlo.ViewModels.Business.Idea.Modal.Reset)},ContentLoaded:function(){SilkFlo.SideBar.SetMenu();window.scroll({top:0,left:0})}};SilkFlo||(SilkFlo={});SilkFlo.TabBar={SetUp:function(n){if(!n){console.log(`${"SilkFlo.TabBar.Setup: "}parent parameter missing`);return}const t=n.querySelectorAll(`.silkflo-tab`),i=t.length;for(let n=0;n<i;n++){const r=t[n],i=r.querySelectorAll(".silkflo-tab-label"),u=i.length;for(let n=0;n<u;n++){const t=i[n];SilkFlo.TabBar.GetAttributes(t)}}},GetAttributes:function(n){const r="SilkFlo.TabBar.GetAttributes: ";if(!n)return console.log(`${r}element parameter missing`),null;if(n.SilkFlo)return n.SilkFlo;const i=SilkFlo.DataAccess.ProductionHostName.toLowerCase()===location.hostname.toLowerCase();let t="name";const u=n.getAttribute(t);if(!u)return null;i&&n.removeAttribute(t);t="parentid";const f=n.getAttribute(t);if(!f)return console.log(`${r}${t} attribute missing`),console.log(n),null;i&&n.removeAttribute(t);t="getOnSelect";const o=n.hasAttribute(t);i&&n.removeAttribute(t);t="silkflo-loadOnce";const s=n.hasAttribute(t);i&&n.removeAttribute(t);t="silkflo-getManually";const h=n.hasAttribute(t);i&&n.removeAttribute(t);t="displayPath";const e=n.getAttribute(t);return e?(i&&n.removeAttribute(t),n.addEventListener("click",SilkFlo.TabBar.Selector),n.SilkFlo={Name:u,ParentId:f,GetOnSelect:o,Path:e,LoadOnce:s,GetManually:h},n.SilkFlo):(console.log(`${r}${t} attribute missing`),console.log(n),null)},Selector:function(n){if(!n){console.log(`${"SilkFlo.TabBar.Selector: "}event parameter missing`);return}HotSpot.Card&&HotSpot.Card.Close();const t=n.target;SilkFlo.TabBar.SelectorByElement(t)},SelectorByElement:function(n){const u="SilkFlo.TabBar.SelectorByElement: ";if(!n){console.log(`${u}element parameter missing`);return}let t=SilkFlo.TabBar.GetAttributes(n);if(t){const f=document.getElementById(t.ParentId);if(!f){console.log(`${u}Element with id ${t.ParentId} missing`);return}let i="container";const e=f.querySelector(`[name="${i}"]`);if(!e){console.log(`${u}Element with name ${i} missing`);return}t.Path&&window.history.pushState("",location.hostname,`/${t.Path}`);i=t.Name.replace(".Tab",".Content");const r=f.querySelector(`[name="${i}"]`);if(!r){console.log(`${u}Element with name ${i} missing`);return}r.hasAttribute(SilkFlo.DataAccess.AttributeName.GetManually)&&SilkFlo.DataAccess.UpdateTargetElement(r);const o=e.children,s=o.length;for(let n=0;n<s;n++){const t=o[n];t.style.display="none";t.setAttribute(SilkFlo.DataAccess.AttributeName.GetManually,"")}SilkFlo.SVGTools.AnimatePaths(r);r.style.display="block";SilkFlo.TabBar.SetActive(n)}},SetActive:function(n){if(!n){console.log("SilkFlo.TabBar.SetActive: selectedElement parameter missing");return}const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("active")}n.classList.add("active")}};SilkFlo.Analytics={AttributeName:{Action:"silkflo-action",NoLogging:"NoLogging"},AssignClickEvents:function(n){if(!n){console.log(`${"SilkFlo.Analytics.AssignClickEvents: "}parent parameter missing`);return}const r=`[${SilkFlo.Analytics.AttributeName.Action}]`,t=n.querySelectorAll(r),i=t.length;if(i!==0)for(let n=0;n<i;n++){const i=t[n],r=i.getAttribute(SilkFlo.Analytics.AttributeName.Action);SilkFlo.Analytics.AssignClickEvent(i,r)}},AssignClickEvent:function(n,t){const i="SilkFlo.Analytics.AssignClickEvent: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i+SilkFlo.DataAccess.AttributeName.Action} is missing for element ${n}.`);return}n.SilkFloAction=t;n.removeAttribute(SilkFlo.Analytics.AttributeName.Action);n.addEventListener("click",SilkFlo.Analytics.Click)},Click:function(n){const t=n.target,i=SilkFlo.Analytics.GetAction(t);SilkFlo.Analytics.PostURL(i)},GetAction:function(n){if(!n)return console.log(`${"SilkFlo.Analytics.GetAction: "}element parameter missing`),"";return n.SilkFloAction?n.SilkFloAction:n.parentElement?SilkFlo.Analytics.GetAction(n.parentElement):""},GetLanguage:function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language},PostURL:function(n){if(!SilkFlo.CheckCookie(SilkFlo.Analytics.AttributeName.NoLogging)){n||(n="");const t=new Date,f=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"T"+t.getTime()+"Z";document.cookie=`DateTime =${f}`;const s=Intl.DateTimeFormat().resolvedOptions().timeZone,h=this.GetLanguage(),c=navigator.platform,l=navigator.userAgent,e="UserTracker";let i=SilkFlo.GetCookie(e);i.length===0&&(i=this.GUID(),document.cookie=`${e}=${i}; expires=Fri, 31 Dec 9999 23:59:59 GMT`);const o="SessionTracker";let r=SilkFlo.GetCookie(o);r.length===0&&(r=this.GUID(),document.cookie=o+"="+r);const a={DateTime:f,URL:window.location.href,Action:n,UserTracker:i,SessionTracker:r,TimeZone:s,Language:h,Platform:c,UserAgent:l},v=JSON.stringify(a),u=new XMLHttpRequest;u.open("POST","/api/analytic/post",!0);u.setRequestHeader("Content-type","application/json");u.send(v)}},Clear:function(){if(confirm("Are you want to delete all the analytics?")){const n=new XMLHttpRequest;n.open("DELETE","/api/analytic/clearAll",!0);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.onreadystatechange=function(){return function(){n.readyState===XMLHttpRequest.DONE&&n.status===200&&(window.location.href="../Administration/analytic")}}(this);n.send()}},GUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})}};SilkFlo.Main||(SilkFlo.Main={});SilkFlo.Main.Window={SideBarWideClass:"sideBar_wide",OnResize:function(){const n="SilkFlo.Main.Window.OnResize: ",t=document.getElementById("layout");if(!t){console.log(n+"layout element is missing.");return}const i=document.getElementById("topBar");if(!i){console.log(n+"topBar element is missing.");return}const r=document.getElementById("content");if(!r){console.log(n+"content element is missing.");return}window.outerWidth<600?(t.classList.remove(SilkFlo.Main.Window.SideBarWideClass),i.classList.remove(SilkFlo.Main.Window.SideBarWideClass),r.style.marginLeft="var(--silkFlo_sidebar_width)",SilkFlo.Main.Window.ToggleSideBarElement(!0)):SilkFlo.GetCookie("sidebarNarrow").length===0&&(t.classList.add(SilkFlo.Main.Window.SideBarWideClass),i.classList.add(SilkFlo.Main.Window.SideBarWideClass),r.style.marginLeft="var(--silkFlo_sidebar_width_wide)",SilkFlo.Main.Window.ToggleSideBarElement(!1))},OnDOMContentLoaded:function(){SilkFlo.Analytics.PostURL();SilkFlo.Analytics.AssignClickEvents(document);const i=document.getElementById("content");if(i){const n=new MutationObserver(function(){SilkFlo.DataAccess.GetComponents()});n.observe(i,{characterData:!1,childList:!0,attributes:!1})}SilkFlo.DataAccess.GetComponents();SilkFlo.DataAccess.GetJsonComponents(document);SilkFlo.ReplaceImgWithSVG();Delaney.UI.Grid.Create();HotSpot.Get(document);SilkFlo.TabBar.SetUp(document);const n=document.getElementById("layout");if(n){SilkFlo.SVGTools.AnimatePaths(n);const t=document.getElementById("topBar");if(t){const r=document.getElementById("sidebar");if(r){const f=SilkFlo.GetCookie("sidebarNarrow");f.length===0?(n.classList.add(SilkFlo.Main.Window.SideBarWideClass),t.classList.add(SilkFlo.Main.Window.SideBarWideClass),SilkFlo.Main.Window.ToggleSideBarElement(!1)):(n.classList.remove(SilkFlo.Main.Window.SideBarWideClass),t.classList.remove(SilkFlo.Main.Window.SideBarWideClass),SilkFlo.Main.Window.ToggleSideBarElement(!0));SilkFlo.SideBar.SetSideBarDeltaX(r);SilkFlo.SideBar.SetSideBarZeroY();SilkFlo.SideBar.SetWorkspace();const u=document.getElementById("Detail_BusinessIdea");if(u){const n=u.querySelector('[name="Business.Idea.Rating"]');n&&DelaneysSlider_Main(n)}const e=window.location.pathname;e.toLocaleLowerCase().indexOf("/idea/detail")>-1&&SilkFlo.Business.Idea.Summary.DetailLoaded()}}}},OnReady:function(){window.$("#Logo").on("click",function(){SilkFlo.Main.Window.ToggleSidebar()});window.$("#ToggleSidebar").on("click",function(){SilkFlo.Main.Window.ToggleSidebar()})},OnPopState:function(n){const i="content",t=document.getElementById(i);if(!t){console.log(`${"SilkFlo.Main.Window.OnPopState"}Element with id "${i}" missing`);return}n.state?SilkFlo.DataAccess.UpdateElement("/api"+n.state,null,t,"","GET",SilkFlo.SideBar.SetMenu):SilkFlo.DataAccess.UpdateElement("/api/Dashboard",null,t,"","GET",SilkFlo.SideBar.SetMenu)},ToggleSidebar:function(){const i="SilkFlo.Main.Window.ToggleSidebar: ",n=document.getElementById("layout");if(!n){console.log(i+"layout element is missing.");return}const r=document.getElementById("topBar");if(!r){console.log(i+"topBar element is missing.");return}const t=document.getElementById("sidebar");if(!t){console.log(i+"sidebar element is missing.");return}const u=document.getElementById("content");if(!u){console.log(i+"content element is missing.");return}let f=!1;n.classList.contains(SilkFlo.Main.Window.SideBarWideClass)?(n.classList.remove(SilkFlo.Main.Window.SideBarWideClass),r.classList.remove(SilkFlo.Main.Window.SideBarWideClass),SilkFlo.SetCookie("sidebarNarrow","true"),t.addEventListener("transitionend",SilkFlo.SideBar.AfterResize(t)),n.classList.remove(SilkFlo.Main.Window.SideBarWideClass),u.style.marginLeft="var(--silkFlo_sidebar_width)",f=!0):(SilkFlo.DeleteCookie("sidebarNarrow"),t.addEventListener("transitionend",SilkFlo.SideBar.AfterResize(t)),n.classList.add(SilkFlo.Main.Window.SideBarWideClass),r.classList.add(SilkFlo.Main.Window.SideBarWideClass),u.style.marginLeft="var(--silkFlo_sidebar_width_wide)");SilkFlo.Main.Window.ToggleSideBarElement(f)},ToggleSideBarElement:function(n){const i="sideBar_arrow",t=document.getElementById(i);if(!t){console.log(`${"SilkFlo.Main.Window.ToggleSideBarElement: "}Element with id ${i} missing`);return}n===!0?t.classList.add("rotateY180"):t.classList.remove("rotateY180")}};SilkFlo.Application===undefined&&(SilkFlo.Application={});SilkFlo.Application.Setting={GetParent:function(){const n="Application.Setting",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.Application.Setting.GetParent: "}Element with id ${n} missing`),null;return t},CheckPasswordName:function(){const n=SilkFlo.Application.Setting.GetParent();if(n){SilkFlo.Models.Abstract.GetModelFromParent(n,["PracticeAccountCanSignIn","PracticeAccountPassword","PracticeAccountPassword_InvalidFeedback","PracticeAccountPassword_Label"],n.id+".");const i=n.ModelElements.PracticeAccountCanSignIn,t=n.ModelElements.PracticeAccountPassword,r=n.ModelElements.PracticeAccountPassword_InvalidFeedback,u=n.ModelElements.PracticeAccountPassword_Label;i.checked?u.classList.add("mandatory"):u.classList.remove("mandatory");t.value.length===0&&i.checked?(t.classList.add("is-invalid"),r.innerHTML="Password required if can sign in is true"):(t.classList.remove("is-invalid"),r.innerHTML="")}},Save:function(){const t="Application.Setting",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.Application.Setting.Save: "}Element with id "${t}" missing`);return}const i=SilkFlo.Models.Abstract.GetModelFromParent(n,["PracticeAccountCanSignIn","PracticeAccountPassword","TestEmailAccount","TrialPeriod"],n.id+".");SilkFlo.Models.Abstract.Save(i,SilkFlo.Application.Setting.ReturnToPreviousPage,SilkFlo.DataAccess.Feedback,n.id,"/api/Application/Settings/Post")},Cancel:function(){SilkFlo.Application.Setting.ReturnToPreviousPage()},ReturnToPreviousPage:function(){let n="";SilkFlo&&SilkFlo.SideBar&&(n=SilkFlo.SideBar.ReturnURL);n?window.location.href=n:SilkFlo.SideBar.OnClick("/dashboard")}};SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Abstract={GetModelFromParent:function(n,t,i="",r=true){const f="SilkFlo.Models.Abstract.GetModelFromParent: ";if(!n)return console.log(`${f}parentElement parameter missing`),null;const u={};n.ModelElements={};n.ModelElementsList=[];const e=t.length;for(let o=0;o<e;o++){const s=t[o],e=n.querySelector(`[name="${i}${s}"]`);if(e){Object.defineProperty(n.ModelElements,s,{value:e,writable:!0,enumerable:!0});n.ModelElementsList[n.ModelElementsList.length]=e;let t;e.nodeName==="DIV"?t=e.hasAttribute("value")?e.getAttribute("value"):e.innerHTML:(t=SilkFlo.Models.Abstract.GetValue(e),e.localName==="select"&&e.selectedIndex>-1&&e.options[e.selectedIndex].value&&Object.defineProperty(u,s+"DisplayText",{value:e.options[e.selectedIndex].text,writable:!0,enumerable:!0}));t&&t.trim&&(t=t.trim());Object.defineProperty(u,s,{value:t,writable:!0,enumerable:!0})}else r&&console.log(`${f}element with name "${i}${s}" was not found`)}return n.Model=u,u},GetValue:function(n){if(!n)return console.log(`${"SilkFlo.Models.Abstract.GetValue: "}element parameter missing`),null;const i=n.getAttribute("type");let t=null;return i==="checkbox"?(t=!1,n.checked&&(t=!0)):n.localName==="div"?(t=n.getAttribute("value"),t&&(t=t.trim())):n.localName==="span"?t=n.innerHTML.trim():n.localName==="td"?t=n.innerHTML.trim():n.value&&(t=n.value.trim()),t},GetModelCollectionFromParentById:function(n,t,i,r){const u=document.getElementById(n);return u?SilkFlo.Models.Abstract.GetModelCollectionFromParent(u,t,i,r):(console.log(`${"SilkFlo.Models.Abstract.GetModelCollectionFromParentById: "}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t,i,r){const u=Array.from(n.querySelectorAll(`*[name="${t}"]`));n.ModelElements=u;const f=u.map(n=>SilkFlo.Models.Abstract.GetModelFromParent(n,i,r));return n.Models=f,f},Verb:{POST:"POST",PUT:"PUT"},Save:function(n,t,i,r,u,f=SilkFlo.Models.Abstract.Verb.POST){const o=JSON.stringify(n),e=new XMLHttpRequest;e.open(f,u,!0);e.setRequestHeader("Content-type","application/json");e.onreadystatechange=function(){return function(){if(e.readyState===XMLHttpRequest.DONE){const n=e.responseText;e.status===200?t&&t(n,r):i&&i(n,r)}}}(this);e.send(o)},Delete:function(n,t,i,r,u,f){const e="SilkFlo.Models.Abstract.Delete";if(!n){console.log(`${e}url parameter missing`);return}if(!t){console.log(`${e}name parameter missing`);return}let o=`Are you sure that you want to delete <b>${t}</b>?`;i&&(o+=`<br>${i}`);SilkFlo.Models.Abstract.Url=n;SilkFlo.Models.Abstract.CallbackStatus200=r;SilkFlo.Models.Abstract.CallbackStatusOther=u;SilkFlo.Models.Abstract.ParentId=f;bootbox.dialog({title:`Delete ${t}`,message:o,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Cancel",className:"btn-secondary bootbox-accept"},"delete":{label:"Delete",className:"btn-danger",callback:SilkFlo.Models.Abstract.DeleteConfirmation}}})},DeleteConfirmation:function(){if(!SilkFlo.Models.Abstract.Url){console.log(`${"SilkFlo.Models.Abstract.DeleteConfirmation"}SilkFlo.Models.Abstract.Url missing`);return}const n=new XMLHttpRequest;n.open("DELETE",SilkFlo.Models.Abstract.Url,!0);n.onreadystatechange=function(){return function(){if(n.readyState===XMLHttpRequest.DONE){const t=n.responseText,i=SilkFlo.Models.Abstract.ParentId;n.status===200?SilkFlo.Models.Abstract.CallbackStatus200&&SilkFlo.Models.Abstract.CallbackStatus200(t,i):SilkFlo.Models.Abstract.CallbackStatusOther&&SilkFlo.Models.Abstract.CallbackStatusOther(t,i)}}}(this);n.send()},Message:function(n,t,i="Message"){const u="SilkFlo.Models.Abstract.Message: ";if(!t){console.log(`${u}parent parameter missing`);return}let r=t.querySelector(`[name="${i}"]`);if(r){r.innerHTML=n;return}if(!t.nextElementSibling){console.log(`${u}No sibling element`);return}const f=t.nextElementSibling;if(r=f.querySelector(`[name="${i}"]`),!r){console.log(`${u}Element with name ${i} missing`);return}r.innerHTML=n}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.User={GetModelFromParentById:function(n,t=["Id","About","ClientId","DepartmentId","Email","EmailConfirmationToken","EmailNew","FirstName","IsEmailConfirmed","IsLockedOut","IsMuted","JobTitle","LastName","LocationId","ManagerId","Note","PasswordHash","PasswordResetToken","IsSelected","ReturnURL"],i="User."){const r="SilkFlo.Models.User.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","About","ClientId","DepartmentId","Email","EmailConfirmationToken","EmailNew","FirstName","IsEmailConfirmed","IsLockedOut","IsMuted","JobTitle","LastName","LocationId","ManagerId","Note","PasswordHash","PasswordResetToken","IsSelected","ReturnURL"],i="User.",r){const u="SilkFlo.Models.User.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="User",i=["Id","About","ClientId","DepartmentId","Email","EmailConfirmationToken","EmailNew","FirstName","IsEmailConfirmed","IsLockedOut","IsMuted","JobTitle","LastName","LocationId","ManagerId","Note","PasswordHash","PasswordResetToken","IsSelected","ReturnURL"],r="User."){const u="SilkFlo.Models.User.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="User",i=["Id","About","ClientId","DepartmentId","Email","EmailConfirmationToken","EmailNew","FirstName","IsEmailConfirmed","IsLockedOut","IsMuted","JobTitle","LastName","LocationId","ManagerId","Note","PasswordHash","PasswordResetToken","IsSelected","ReturnURL"],r="User."){const u="SilkFlo.Models.User.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/User/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.User.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="User",u="",f="/api/Models/User/Delete/Id/",e){const o="SilkFlo.Models.User.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo.Models2||(SilkFlo.Models2={});SilkFlo.Models2.User={ValidateEmail:function(n){if(!n)return console.log(`${"SilkFlo.Models2.User.ValidateEmail: "}emailAddress parameter missing`),"Required";const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);return t?"":"Invalid email address format"},ValidateEmailDetailed:function(n,t,i){const f="SilkFlo.Models2.User.ValidateEmailDetailed: ";if(!n)return console.log(`${f}emailElement parameter missing`),!1;if(!t)return console.log(`${f}emailInvalidId parameter missing`),!1;let r=document.getElementById(t);if(!r){const i=n.parentElement;if(r=i.querySelector(`[name="${t}"]`),!r)return console.log(`${f}Element with name ${t} missing`),!1}const e=n.value;if(!e)return n.classList.add("is-invalid"),r.innerHTML="Required",!0;let u=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return u?(i&&SilkFlo.IsEmailAlreadyUsed(e,function(t){if(t==="true"){const t=`There is already an account with this email address. <a style="color: black" href="${i}">Sign&nbsp;in</a> or <a style="color: black" href="/Account/ForgotPassword">Reset&nbsp;password</a>.`;n.classList.add("is-invalid");r.innerHTML=t;u=!0}else n.classList.remove("is-invalid"),r.innerHTML="Required",u=!1}),n.classList.remove("is-invalid"),u):(n.classList.add("is-invalid"),r.innerHTML="Email is not correctly formatted",!1)},SendInvite:function(n,t){const r=`/api/Business/Tenant/SendInvite/UserId/${n}`,i=new XMLHttpRequest;i.open("GET",r,!0);i.setRequestHeader("Content-type","application/x-www-form-urlencoded");i.onreadystatechange=function(){return function(){if(i.readyState===XMLHttpRequest.DONE&&i.status===200){const n=i.responseText;t&&t(n)}}}(this);i.send()}};SilkFlo.Models2.User.Search={Input_OnKeyUp:function(n,t){const r="SilkFlo.Models2.User.Search.Input_OnKeyUp: ";if(!n){console.log(`${r}element parameter missing`);return}if(!t){console.log(`${r}modalId parameter missing`);return}const i=document.getElementById(t);if(!i){console.log(`${r}modal element with  id "${i}" missing`);return}const e="silkflo-search-url";if(!i.hasAttribute(e)){console.log(`${r}"${e}" attribute missing`);return}let o=i.getAttribute(e);if(!o){console.log(`${r}url missing`);return}let f="people";const u=i.querySelector(`[name="${f}"]`);if(!u){console.log(`${r}element with name "${f}" missing`);return}f="btnSelect";const s=i.querySelector(`[name="${f}"]`);if(!s){console.log(`${r}element with name "${f}" missing`);return}s.Modal=i;u.Modal=i;u.UserId=null;u.Fullname=null;u.Email=null;o+=n.value;SilkFlo.DataAccess.UpdateElement(o,null,u,null)},Row_OnDblClick:function(n,t,i,r,u){const f="SilkFlo.Models2.User.Search.Row_OnDblClick: ";if(!n){console.log(`${f}element parameter missing`);return}SilkFlo.Models2.User.Search.Row_OnClick(n,t,i,r,u);const o=n.parentElement,e=o.Modal;if(!e){console.log(`${f}Modal property missing`);return}SilkFlo.Models2.User.Search.Select(e)},Row_OnClick:function(n,t,i,r,u){const e="SilkFlo.Models2.User.Search.Row_OnClick: ";if(!n){console.log(`${e}element parameter missing`);return}if(!t){console.log(`${e}id parameter missing`);return}if(!i){console.log(`${e}fullname parameter missing`);return}if(!r){console.log(`${e}email parameter missing`);return}const f=n.parentElement;f.UserId=t;f.Fullname=i;f.Email=r;f.IconPath=u;const o=f.children,s=o.length;for(let n=0;n<s;n++)o[n].style.background="";n.style.background="var(--bs-gray-lightest)"},Select_OnClick:function(n){const t="SilkFlo.Models2.User.Search.Select_OnClick: ";if(!n){console.log(`${t}element parameter missing`);return}const i=n.Modal;if(!i){console.log(`${t}Modal property missing`);return}SilkFlo.Models2.User.Search.Select(i)},Select:function(n){const i="SilkFlo.Models2.User.Search.Select: ";if(!n){console.log(`${i}modal parameter missing`);return}const r=n.querySelector('[name="people"]');if(!r){console.log(`${i}element with name "people" missing`);return}const u=function(n,t,i){const u="SilkFlo.Models2.User.Search_OnClick.UpdateTarget: ";if(!n)return console.log(`${u}attributeName parameter missing`),!1;if(!t)return console.log(`${u}modal parameter missing`),!1;if(!i)return console.log(`${u}value parameter missing`),!1;if(!t.hasAttribute(n))return console.log(`${u}"${n}" attribute missing`),!1;const f=t.getAttribute(n);if(!f)return console.log(`${u}id missing`),!1;const r=document.getElementById(f);return r?(r.localName==="span"||r.localName==="div"?r.innerHTML=i:r.localName==="img"?r.src=i:r.value=i,!0):(console.log(`${u}Element with id "${f}" missing`),!1)};let t="silkflo-target-id-id";if(!u(t,n,r.UserId)){console.log(`${i}Could not update the targetId element`);return}if(t="silkflo-target-fullname-id",!u(t,n,r.Fullname)){console.log(`${i}Could not update the fullname element`);return}if(t="silkflo-target-status-id",!u(t,n,r.IconPath)){console.log(`${i}Could not update the status element`);return}if(t="silkflo-target-email-id",!u(t,n,r.Email)){console.log(`${i}Could not update the email element`);return}window.$(`#${n.id}`).modal("hide")}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Role={GetModelFromParentById:function(n,t=["Id","Description","Name","PolicyCount","Sort","IsSelected","ReturnURL"],i="Role."){const r="SilkFlo.Models.Role.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","Description","Name","PolicyCount","Sort","IsSelected","ReturnURL"],i="Role.",r){const u="SilkFlo.Models.Role.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Role",i=["Id","Description","Name","PolicyCount","Sort","IsSelected","ReturnURL"],r="Role."){const u="SilkFlo.Models.Role.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Role",i=["Id","Description","Name","PolicyCount","Sort","IsSelected","ReturnURL"],r="Role."){const u="SilkFlo.Models.Role.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Role/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Role.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Role",u="",f="/api/Models/Role/Delete/Id/",e){const o="SilkFlo.Models.Role.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Business||(SilkFlo.Models.Business={});SilkFlo.Models.Business.Application={GetModelFromParentById:function(n,t=["Id","ClientId","Name","IsSelected","ReturnURL"],i="Business.Application."){const r="SilkFlo.Models.Business.Application.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","ClientId","Name","IsSelected","ReturnURL"],i="Business.Application.",r){const u="SilkFlo.Models.Business.Application.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Business.Application",i=["Id","ClientId","Name","IsSelected","ReturnURL"],r="Business.Application."){const u="SilkFlo.Models.Business.Application.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Business.Application",i=["Id","ClientId","Name","IsSelected","ReturnURL"],r="Business.Application."){const u="SilkFlo.Models.Business.Application.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Business/Application/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Business.Application.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Application",u="",f="/api/Models/Business/Application/Delete/Id/",e){const o="SilkFlo.Models.Business.Application.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Business||(SilkFlo.Models.Business={});SilkFlo.Models.Business.Client={GetModelFromParentById:function(n,t=["Id","AccountOwnerId","Address1","Address2","City","State","AgencyDiscountId","AverageWorkingDay","AverageWorkingHour","CountryId","CurrencyId","FreeTrialDay","IndustryId","IsActive","IsDemo","IsPractice","LanguageId","Name","PostCode","PracticeId","ReceiveMarketing","StripePrimaryKey","TypeId","Website","IsSelected","ReturnURL"],i="Business.Client."){const r="SilkFlo.Models.Business.Client.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","AccountOwnerId","Address1","Address2","City","State","AgencyDiscountId","AverageWorkingDay","AverageWorkingHour","CountryId","CurrencyId","FreeTrialDay","IndustryId","IsActive","IsDemo","IsPractice","LanguageId","Name","PostCode","PracticeId","ReceiveMarketing","StripePrimaryKey","TypeId","Website","IsSelected","ReturnURL"],i="Business.Client.",r=true){const u="SilkFlo.Models.Business.Client.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Business.Client",i=["Id","AccountOwnerId","Address1","Address2","City","State","AgencyDiscountId","AverageWorkingDay","AverageWorkingHour","CountryId","CurrencyId","FreeTrialDay","IndustryId","IsActive","IsDemo","IsPractice","LanguageId","Name","PostCode","PracticeId","ReceiveMarketing","StripePrimaryKey","TypeId","Website","IsSelected","ReturnURL"],r="Business.Client."){const u="SilkFlo.Models.Business.Client.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Business.Client",i=["Id","AccountOwnerId","Address1","Address2","City","State","AgencyDiscountId","AverageWorkingDay","AverageWorkingHour","CountryId","CurrencyId","FreeTrialDay","IndustryId","IsActive","IsDemo","IsPractice","LanguageId","Name","PostCode","PracticeId","ReceiveMarketing","StripePrimaryKey","TypeId","Website","IsSelected","ReturnURL"],r="Business.Client."){const u="SilkFlo.Models.Business.Client.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Business/Client/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Business.Client.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Client",u="",f="/api/Models/Business/Client/Delete/Id/",e){const o="SilkFlo.Models.Business.Client.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models2||(SilkFlo.Models2={});SilkFlo.Models2.Business||(SilkFlo.Models2.Business={});SilkFlo.Models2.Business.Client={GetModalParent:function(){const n="Modal.Business.Client",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.Models2.Business.Client.GetModalParent: "}Element with id ${n} missing`),null;return t},GetParent:function(){const n="Business.Client.Account",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.Models2.Business.Client.GetParent: "}Element with id ${n} missing`),null;return t},UpdateEmailSuffix:function(n){const t="SilkFlo.Models2.Business.Client.UpdateEmailSuffix: ";if(!n){console.log(t+"inputElement parameter missing");return}const u=SilkFlo.Models2.Business.Client.GetModalParent(),i="Modal.Business.Client.AccountOwnerEmail_Suffix",r=u.querySelector(`[name="${i}"]`);if(!r){console.log(`${t}Element with name ${i} missing`);return}r.innerHTML=n.value?`@${n.value}`:"Website address missing"},TypeIdOnChange:function(n){const u="SilkFlo.Models2.Business.Client.TypeIdOnChange: ",i=SilkFlo.Models2.Business.Client.GetModalParent();if(i){let t="Modal.Business.Client.IsDemo_Container";const f=i.querySelector(`[name="${t}"]`);if(!f){console.log(`${u}Element with name ${t} missing`);return}t="Modal.Business.Client.ReferrerDiscountId_Container";const e=i.querySelector(`[name="${t}"]`);if(!e){console.log(`${u}Element with name ${t} missing`);return}t="Modal.Business.Client.ResellerDiscountId_Container";const o=i.querySelector(`[name="${t}"]`);if(!o){console.log(`${u}Element with name ${t} missing`);return}t="Modal.Business.Client.DiscountMessage";const s=i.querySelector(`[name="${t}"]`);if(!s){console.log(`${u}Element with name ${t} missing`);return}t="Modal.Business.Client.Subscription_Container";const r=i.querySelector(`[name="${t}"]`);n.value==="ReferrerAgency41"?(f.style.display="none",e.style.display="",o.style.display="none",s.style.display="",r&&(r.style.display="none")):n.value==="ResellerAgency45"?(f.style.display="none",e.style.display="none",o.style.display="",s.style.display="",r&&(r.style.display="none")):(f.style.display="",e.style.display="none",o.style.display="none",s.style.display="none",r&&(r.style.display="flex"))}},Save:function(){const n=SilkFlo.Models2.Business.Client.GetParent();if(n){const t=SilkFlo.Models.Business.Client.GetModelFromParent(n,["Id","Name","Address1","Address2","City","State","PostCode","CountryId","AverageWorkingDay","AverageWorkingHour","AccountOwnerId","IndustryId","ReceiveMarketing","AllowGuestSignIn"]);if(!t){console.log("SilkFlo.Models2.Business.Client.Save: model missing");return}SilkFlo.Models.Business.Client.Save(t,SilkFlo.Models2.Business.Client.Save_Callback,SilkFlo.DataAccess.Feedback,n.id,"/api/Models/Business/Client/Save")}},Save_Callback:function(){SilkFlo.ShowDashboard();SilkFlo.SideBar.SetWorkspace()},CopyAffiliateURL:function(){const t=SilkFlo.Models2.Business.Client.GetParent();if(t){const n=SilkFlo.Models.Business.Client.GetModelFromParent(t,["AffiliateURL"]);n.AffiliateURL=n.AffiliateURL.replaceAll("&lt;","<");n.AffiliateURL=n.AffiliateURL.replaceAll("&gt;",">");navigator.clipboard.writeText(n.AffiliateURL)}},CopyAffiliateLink:function(){const t=SilkFlo.Models2.Business.Client.GetParent();if(t){const n=SilkFlo.Models.Business.Client.GetModelFromParent(t,["AffiliateLink"]);n.AffiliateLink=n.AffiliateLink.replaceAll("&lt;","<");n.AffiliateLink=n.AffiliateLink.replaceAll("&gt;",">");navigator.clipboard.writeText(n.AffiliateLink)}}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Business||(SilkFlo.Models.Business={});SilkFlo.Models.Business.Idea={GetModelFromParentById:function(n,t=["Id","ActivityVolumeAverage","ActivityVolumeAverageComment","AHTRobot","ApplicationStabilityComment","ApplicationStabilityId","AutomationGoalId","AverageEmployeeFullCost","AverageEmployeeFullCostComment","AverageErrorRate","AverageErrorRateComment","AverageNumberOfStepComment","AverageNumberOfStepId","AverageProcessingTime","AverageProcessingTimeComment","AverageReviewTime","AverageReviewTimeComment","AverageReworkTime","AverageReworkTimeComment","AverageWorkingDay","AverageWorkingDayComment","AverageWorkToBeReviewed","AverageWorkToBeReviewedComment","BenefitActual","BenefitExpected","ChallengeActual","ChallengeExpected","ClientId","DataInputPercentOfStructuredComment","DataInputPercentOfStructuredId","DataInputScannedComment","DecisionCountComment","DecisionCountId","DecisionDifficultyComment","DecisionDifficultyId","DepartmentId","DocumentationPresentComment","DocumentationPresentId","EaseOfImplementationFinal","EmployeeCount","EmployeeCountComment","InputComment","InputDataStructureId","InputId","IsAlternative","IsDataInputScanned","IsDataSensitive","IsDraft","IsHighRisk","IsHostUpgrade","LessenLearnt","Name","NegativeImpactComment","NumberOfWaysToCompleteProcessComment","NumberOfWaysToCompleteProcessId","PainPointComment","PotentialFineAmount","PotentialFineProbability","ProcessId","ProcessOwnerId","ProcessPeakComment","ProcessPeakId","ProcessStabilityComment","ProcessStabilityId","ProcessVolumetryPerMonth","ProcessVolumetryPerYear","Rating","RatingComment","RobotSpeedMultiplier","RobotWorkDayYear","RobotWorkHourDay","RuleComment","RuleId","RunningCostId","StructureComment","SubmissionPathId","SubTitle","Summary","TaskFrequencyComment","TaskFrequencyId","TeamId","WorkingHour","WorkingHourComment","WorkloadSplit","IsSelected","ReturnURL"],i="Business.Idea."){const r="SilkFlo.Models.Business.Idea.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","ActivityVolumeAverage","ActivityVolumeAverageComment","AHTRobot","ApplicationStabilityComment","ApplicationStabilityId","AutomationGoalId","AverageEmployeeFullCost","AverageEmployeeFullCostComment","AverageErrorRate","AverageErrorRateComment","AverageNumberOfStepComment","AverageNumberOfStepId","AverageProcessingTime","AverageProcessingTimeComment","AverageReviewTime","AverageReviewTimeComment","AverageReworkTime","AverageReworkTimeComment","AverageWorkingDay","AverageWorkingDayComment","AverageWorkToBeReviewed","AverageWorkToBeReviewedComment","BenefitActual","BenefitExpected","ChallengeActual","ChallengeExpected","ClientId","DataInputPercentOfStructuredComment","DataInputPercentOfStructuredId","DataInputScannedComment","DecisionCountComment","DecisionCountId","DecisionDifficultyComment","DecisionDifficultyId","DepartmentId","DocumentationPresentComment","DocumentationPresentId","EaseOfImplementationFinal","EmployeeCount","EmployeeCountComment","InputComment","InputDataStructureId","InputId","IsAlternative","IsDataInputScanned","IsDataSensitive","IsDraft","IsHighRisk","IsHostUpgrade","LessenLearnt","Name","NegativeImpactComment","NumberOfWaysToCompleteProcessComment","NumberOfWaysToCompleteProcessId","PainPointComment","PotentialFineAmount","PotentialFineProbability","ProcessId","ProcessOwnerId","ProcessPeakComment","ProcessPeakId","ProcessStabilityComment","ProcessStabilityId","ProcessVolumetryPerMonth","ProcessVolumetryPerYear","Rating","RatingComment","RobotSpeedMultiplier","RobotWorkDayYear","RobotWorkHourDay","RuleComment","RuleId","RunningCostId","StructureComment","SubmissionPathId","SubTitle","Summary","TaskFrequencyComment","TaskFrequencyId","TeamId","WorkingHour","WorkingHourComment","WorkloadSplit","IsSelected","ReturnURL"],i="Business.Idea.",r=true){const u="SilkFlo.Models.Business.Idea.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Business.Idea",i=["Id","ActivityVolumeAverage","ActivityVolumeAverageComment","AHTRobot","ApplicationStabilityComment","ApplicationStabilityId","AutomationGoalId","AverageEmployeeFullCost","AverageEmployeeFullCostComment","AverageErrorRate","AverageErrorRateComment","AverageNumberOfStepComment","AverageNumberOfStepId","AverageProcessingTime","AverageProcessingTimeComment","AverageReviewTime","AverageReviewTimeComment","AverageReworkTime","AverageReworkTimeComment","AverageWorkingDay","AverageWorkingDayComment","AverageWorkToBeReviewed","AverageWorkToBeReviewedComment","BenefitActual","BenefitExpected","ChallengeActual","ChallengeExpected","ClientId","DataInputPercentOfStructuredComment","DataInputPercentOfStructuredId","DataInputScannedComment","DecisionCountComment","DecisionCountId","DecisionDifficultyComment","DecisionDifficultyId","DepartmentId","DocumentationPresentComment","DocumentationPresentId","EaseOfImplementationFinal","EmployeeCount","EmployeeCountComment","InputComment","InputDataStructureId","InputId","IsAlternative","IsDataInputScanned","IsDataSensitive","IsDraft","IsHighRisk","IsHostUpgrade","LessenLearnt","Name","NegativeImpactComment","NumberOfWaysToCompleteProcessComment","NumberOfWaysToCompleteProcessId","PainPointComment","PotentialFineAmount","PotentialFineProbability","ProcessId","ProcessOwnerId","ProcessPeakComment","ProcessPeakId","ProcessStabilityComment","ProcessStabilityId","ProcessVolumetryPerMonth","ProcessVolumetryPerYear","Rating","RatingComment","RobotSpeedMultiplier","RobotWorkDayYear","RobotWorkHourDay","RuleComment","RuleId","RunningCostId","StructureComment","SubmissionPathId","SubTitle","Summary","TaskFrequencyComment","TaskFrequencyId","TeamId","WorkingHour","WorkingHourComment","WorkloadSplit","IsSelected","ReturnURL"],r="Business.Idea."){const u="SilkFlo.Models.Business.Idea.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Business.Idea",i=["Id","ActivityVolumeAverage","ActivityVolumeAverageComment","AHTRobot","ApplicationStabilityComment","ApplicationStabilityId","AutomationGoalId","AverageEmployeeFullCost","AverageEmployeeFullCostComment","AverageErrorRate","AverageErrorRateComment","AverageNumberOfStepComment","AverageNumberOfStepId","AverageProcessingTime","AverageProcessingTimeComment","AverageReviewTime","AverageReviewTimeComment","AverageReworkTime","AverageReworkTimeComment","AverageWorkingDay","AverageWorkingDayComment","AverageWorkToBeReviewed","AverageWorkToBeReviewedComment","BenefitActual","BenefitExpected","ChallengeActual","ChallengeExpected","ClientId","DataInputPercentOfStructuredComment","DataInputPercentOfStructuredId","DataInputScannedComment","DecisionCountComment","DecisionCountId","DecisionDifficultyComment","DecisionDifficultyId","DepartmentId","DocumentationPresentComment","DocumentationPresentId","EaseOfImplementationFinal","EmployeeCount","EmployeeCountComment","InputComment","InputDataStructureId","InputId","IsAlternative","IsDataInputScanned","IsDataSensitive","IsDraft","IsHighRisk","IsHostUpgrade","LessenLearnt","Name","NegativeImpactComment","NumberOfWaysToCompleteProcessComment","NumberOfWaysToCompleteProcessId","PainPointComment","PotentialFineAmount","PotentialFineProbability","ProcessId","ProcessOwnerId","ProcessPeakComment","ProcessPeakId","ProcessStabilityComment","ProcessStabilityId","ProcessVolumetryPerMonth","ProcessVolumetryPerYear","Rating","RatingComment","RobotSpeedMultiplier","RobotWorkDayYear","RobotWorkHourDay","RuleComment","RuleId","RunningCostId","StructureComment","SubmissionPathId","SubTitle","Summary","TaskFrequencyComment","TaskFrequencyId","TeamId","WorkingHour","WorkingHourComment","WorkloadSplit","IsSelected","ReturnURL"],r="Business.Idea."){const u="SilkFlo.Models.Business.Idea.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Business/Idea/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Business.Idea.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Idea",u="",f="/api/Models/Business/Idea/Delete/Id/",e){const o="SilkFlo.Models.Business.Idea.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Business||(SilkFlo.Models.Business={});SilkFlo.Models.Business.IdeaStage={GetModelFromParentById:function(n,t=["Id","DateEnd","DateEndEstimate","DateStart","DateStartEstimate","IdeaId","IsInWorkFlow","StageId","IsSelected","ReturnURL"],i="Business.IdeaStage."){const r="SilkFlo.Models.Business.IdeaStage.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","DateEnd","DateEndEstimate","DateStart","DateStartEstimate","IdeaId","IsInWorkFlow","StageId","IsSelected","ReturnURL"],i="Business.IdeaStage.",r){const u="SilkFlo.Models.Business.IdeaStage.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Business.IdeaStage",i=["Id","DateEnd","DateEndEstimate","DateStart","DateStartEstimate","IdeaId","IsInWorkFlow","StageId","IsSelected","ReturnURL"],r="Business.IdeaStage."){const u="SilkFlo.Models.Business.IdeaStage.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Business.IdeaStage",i=["Id","DateEnd","DateEndEstimate","DateStart","DateStartEstimate","IdeaId","IsInWorkFlow","StageId","IsSelected","ReturnURL"],r="Business.IdeaStage."){const u="SilkFlo.Models.Business.IdeaStage.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Business/IdeaStage/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Business.IdeaStage.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Idea Stage",u="",f="/api/Models/Business/IdeaStage/Delete/Id/",e){const o="SilkFlo.Models.Business.IdeaStage.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo.Models2||(SilkFlo.Models2={});SilkFlo.Models2.Business||(SilkFlo.Models2.Business={});SilkFlo.Models2.Business.Idea={GetCalculation:function(n,t,i,r){const f="SilkFlo.Models2.Business.Idea.GetCalculation: ";if(!n){console.log(f+"model parameter is missing.");return}if(!t){console.log(f+"url parameter is missing.");return}if(!i){console.log(f+"targetElement parameter is missing.");return}if(!r){console.log(f+"afterFunction parameter is missing.");return}const e=JSON.stringify(n),u=new XMLHttpRequest;u.open("POST",t,!0);u.setRequestHeader("Content-type","application/json");u.onreadystatechange=function(){return function(){if(u.readyState===XMLHttpRequest.DONE&&u.status===200){const n=u.responseText,t=parseFloat(n);r(t,i)}}}(this);u.send(e)},Populate_And_FormatToHoursPerYear:function(n,t){const i="SilkFlo.Models2.Business.Idea.Populate_And_FormatToHoursPerYear: ";if(!t){console.log(i+"elementId parameter is missing.");return}const r=document.getElementById(t);if(!r){console.log(`${i}Could not find an element with id of "${t}"`);return}r.value=SilkFlo.Models2.Business.Idea.FormatToHoursPerYear(n)},Populate_And_FormatNumberTo2DecimalPlaces:function(n,t=null){const i="SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces: ";if(!t){console.log(i+"elementId is missing.");return}const r=document.getElementById(t);if(!r){console.log(`${i}Could not find an element with id of "${t}"`);return}r.value=SilkFlo.Models2.Business.Idea.FormatNumberTo2DecimalPlaces(n)},Populate_And_FormatNumberToCurrency:function(n,t=null){const r="SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToCurrency: ";if(!t){console.log(r+"elementId is missing.");return}const i=document.getElementById(t);if(!i){console.log(`${r}Could not find an element with id of "${t}"`);return}const f=document.getElementById("Currency"),u=f.value,e=document.getElementById("Locale"),o=e.value;if(isNaN(n)){i.value=u+" 0.00";return}i.value=u+" "+n.toLocaleString(o)},Populate_And_FormatNumberToPercent:function(n,t=null){const i="SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent: ";if(!t){console.log(i+"elementId is missing.");return}const r=document.getElementById(t);if(!r){console.log(`${i}Could not find an element with id of "${t}"`);return}if(isNaN(n)){r.value="0 %";return}const u=document.getElementById("Locale"),f=u.value;if(!f){console.log(i+"localeElement does not contain a value.");return}r.value=n.toFixed(2)+" %"},FormatToHoursPerYear:function(n=null){if(isNaN(n)||n===null)return"0.00 hours/year";n=SilkFlo.Models2.Business.Idea.FormatNumberTo2DecimalPlaces(n);let t=n.toLocaleString();return t+" hours/year"},FormatNumberTo2DecimalPlaces:function(n){return isNaN(n)?0:Math.round((n+Number.EPSILON)*100)/100},GetFeasibilityGaugeComponent:function(){SilkFlo.Models2.Business.Idea.GetGaugeComponent("FormModal_BusinessIdea","/api/Business/Ideas/GetFeasibilityGaugeComponent","FeasibilityGaugeComponent")},GetReadinessGaugeComponent:function(){SilkFlo.Models2.Business.Idea.GetGaugeComponent("FormModal_BusinessIdea","/api/Business/Ideas/GetReadinessGaugeComponent","ReadinessGaugeComponent")},GetIdeaGaugeComponent:function(){SilkFlo.Models2.Business.Idea.GetGaugeComponent("FormModal_BusinessIdea","/api/Business/Ideas/GetIdeaGaugeComponent","IdeaGaugeComponent")},GetGaugeComponent:function(n,t,i){const f="SilkFlo.Models2.Business.Idea.GetGaugeComponent: ",e=document.getElementById(n);if(!e){console.log(`${f}Element with id ${i} missing`);return}const r=SilkFlo.Models.Abstract.GetModelFromParent(e,["RuleId","InputId","InputDataStructureId","ProcessStabilityId","DocumentationPresentId"],"Business.Idea.");r||console.log(`${f}model missing`);r.RuleId||(r.RuleId="VeryCreative");r.InputId||(r.InputId="VeryMuchPaperBased");r.InputDataStructureId||(r.InputDataStructureId="VeryMuchUnstructured");r.ProcessStabilityId||(r.ProcessStabilityId="SignificantChange");r.DocumentationPresentId||(r.DocumentationPresentId="No");const o=JSON.stringify(r),u=new XMLHttpRequest;u.open("POST",t,!0);u.setRequestHeader("Content-type","application/json");u.onreadystatechange=function(){return function(){if(u.readyState===XMLHttpRequest.DONE&&u.status===200){const t=u.responseText,n=document.getElementById(i);n&&(n.innerHTML=t,SilkFlo.SVGTools.AnimatePaths(n),HotSpot.Get(n))}}}(this);u.send(o)},FilterSummary:function(n,t,i){const r="SilkFlo.Models2.Business.Idea.FilterSummary";if(!t){console.log(`${r}element parameter missing`);return}const u=document.getElementById(t);if(!u){console.log(`${r}Element with id ${t} missing`);return}const f=JSON.stringify(n);SilkFlo.DataAccess.UpdateElement(i,f,u,"","POST",null,null,"application/json; charset=utf-8")},ResetSummary:function(n){const t="SilkFlo.Models2.Business.Idea.ResetSummary";if(!n){console.log(`${t}element parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id ${n} missing`);return}SilkFlo.DataAccess.UpdateTargetElement(i)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Business||(SilkFlo.Models.Business={});SilkFlo.Models.Business.Role={GetModelFromParentById:function(n,t=["Id","ClientId","Description","IsBuiltIn","Name","Sort","IsSelected","ReturnURL"],i="Business.Role."){const r="SilkFlo.Models.Business.Role.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","ClientId","Description","IsBuiltIn","Name","Sort","IsSelected","ReturnURL"],i="Business.Role.",r){const u="SilkFlo.Models.Business.Role.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Business.Role",i=["Id","ClientId","Description","IsBuiltIn","Name","Sort","IsSelected","ReturnURL"],r="Business.Role."){const u="SilkFlo.Models.Business.Role.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Business.Role",i=["Id","ClientId","Description","IsBuiltIn","Name","Sort","IsSelected","ReturnURL"],r="Business.Role."){const u="SilkFlo.Models.Business.Role.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Business/Role/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Business.Role.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Role",u="",f="/api/Models/Business/Role/Delete/Id/",e){const o="SilkFlo.Models.Business.Role.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Shared||(SilkFlo.Models.Shared={});SilkFlo.Models.Shared.IdeaAuthorisation={GetModelFromParentById:function(n,t=["Id","Description","Name","Sort","IsSelected","ReturnURL"],i="Shared.IdeaAuthorisation."){const r="SilkFlo.Models.Shared.IdeaAuthorisation.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","Description","Name","Sort","IsSelected","ReturnURL"],i="Shared.IdeaAuthorisation.",r){const u="SilkFlo.Models.Shared.IdeaAuthorisation.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Shared.IdeaAuthorisation",i=["Id","Description","Name","Sort","IsSelected","ReturnURL"],r="Shared.IdeaAuthorisation."){const u="SilkFlo.Models.Shared.IdeaAuthorisation.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Shared.IdeaAuthorisation",i=["Id","Description","Name","Sort","IsSelected","ReturnURL"],r="Shared.IdeaAuthorisation."){const u="SilkFlo.Models.Shared.IdeaAuthorisation.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Shared/IdeaAuthorisation/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Shared.IdeaAuthorisation.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Idea Authorisation",u="",f="/api/Models/Shared/IdeaAuthorisation/Delete/Id/",e){const o="SilkFlo.Models.Shared.IdeaAuthorisation.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo||(SilkFlo={});SilkFlo.Models||(SilkFlo.Models={});SilkFlo.Models.Shared||(SilkFlo.Models.Shared={});SilkFlo.Models.Shared.IdeaStatus={GetModelFromParentById:function(n,t=["Id","ButtonClass","IsPathToSuccess","Name","RequireIdeaStageField","Sort","StageId","TextClass","IsSelected","ReturnURL"],i="Shared.IdeaStatus."){const r="SilkFlo.Models.Shared.IdeaStatus.GetModelFromParentById: ";if(!n)return console.log(`${r}parentElementId parameter missing`),null;if(!t)return console.log(`${r}names parameter missing`),null;const u=document.getElementById(n);return u||console.log(`${r}parentElementId with value "${n}" parameter does not produce an element`),SilkFlo.Models.Abstract.GetModelFromParent(u,t,i)},GetModelFromParent:function(n,t=["Id","ButtonClass","IsPathToSuccess","Name","RequireIdeaStageField","Sort","StageId","TextClass","IsSelected","ReturnURL"],i="Shared.IdeaStatus.",r){const u="SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent: ";return n?t?SilkFlo.Models.Abstract.GetModelFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},GetModelCollectionFromParentById:function(n,t="Shared.IdeaStatus",i=["Id","ButtonClass","IsPathToSuccess","Name","RequireIdeaStageField","Sort","StageId","TextClass","IsSelected","ReturnURL"],r="Shared.IdeaStatus."){const u="SilkFlo.Models.Shared.IdeaStatus.GetModelCollectionFromParentById: ";if(!n)return console.log(`${u}parentElementId parameter missing`),null;if(!t)return console.log(`${u}modelName parameter missing`),null;if(!i)return console.log(`${u}names parameter missing`),null;const f=document.getElementById(n);return f?SilkFlo.Models.Abstract.GetModelCollectionFromParent(f,t,i,r):(console.log(`${u}parentElementId with value "${n}" does not produce an element.`),null)},GetModelCollectionFromParent:function(n,t="Shared.IdeaStatus",i=["Id","ButtonClass","IsPathToSuccess","Name","RequireIdeaStageField","Sort","StageId","TextClass","IsSelected","ReturnURL"],r="Shared.IdeaStatus."){const u="SilkFlo.Models.Shared.IdeaStatus.GetModelCollectionFromParent: ";return n?t?i?SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,t,i,r):(console.log(`${u}names parameter missing`),null):(console.log(`${u}modelName parameter missing`),null):(console.log(`${u}parentElement parameter missing`),null)},Save:function(n,t=null,i=null,r=null,u="/api/Shared/IdeaStatus/Post",f=SilkFlo.Models.Abstract.Verb.POST){if(!n){console.log(`${"SilkFlo.Models.Shared.IdeaStatus.Save: "}model parameter missing`);return}SilkFlo.Models.Abstract.Save(n,t,i,r,u,f)},Delete:function(n,t,i,r="Idea Status",u="",f="/api/Models/Shared/IdeaStatus/Delete/Id/",e){const o="SilkFlo.Models.Shared.IdeaStatus.Delete: ";if(!i){console.log(`${o}id parameter missing`);return}if(!r){console.log(`${o}name parameter missing`);return}f+=i;SilkFlo.Models.Abstract.Delete(f,r,u,n,t,e)}};SilkFlo.Models2||(SilkFlo.Models2={});SilkFlo.Models2.Shop||(SilkFlo.Models2.Shop={});SilkFlo.Models2.Shop.Subscription={Id:null,ClientId:null,PopulateModal:function(n){const t="SilkFlo.Models2.Shop.Subscription.PopulateModal: ";if($("#modelViewSubscriptions").modal("show"),!n){console.log(`${t}clientId parameter missing`);return}const i="Settings.Subscriptions.Modal",r=document.getElementById(i);if(!r){console.log(`${t}Element with id "${i}" missing`);return}SilkFlo.Models2.Shop.Subscription.ClientId=n;const u=`/api/shop/subscription/GetModal/clientId/${n}`;SilkFlo.DataAccess.UpdateElement(u,null,r,null,"GET")},Cancel:{Email:null,Click:function(n,t){const i="SilkFlo.Models2.Shop.Subscription.Cancel.Click: ";if(!n){console.log(`${i}clientId parameter missing`);return}if(!t){console.log(`${i}email parameter missing`);return}SilkFlo.Models2.Shop.Subscription.ClientId=n;SilkFlo.Models2.Shop.Subscription.Cancel.Email=t;const r="accountOwnerEmail",u=document.getElementById(r);if(!u){console.log(`${i}Element with id ${r} missing`);return}u.innerHTML=t;const f=window.$("#SettingsSubscriptionsCancelMessage");f.modal("show")},MessageResultYes:function(n){const t=`/api/Shop/Subscription/SendCancellationMessage`;console.log(t);SilkFlo.Models.Abstract.Save(SilkFlo.Models2.Shop.Subscription.ClientId,SilkFlo.Models2.Shop.Subscription.Cancel.SendCancellationMessage_Callback,SilkFlo.DataAccess.Feedback,n,t,SilkFlo.Models.Abstract.Verb.PUT)},SendCancellationMessage_Callback:function(n,t){const i=`<span class="text-info">Cancellation email sent to ${SilkFlo.Models2.Shop.Subscription.Cancel.Email}.</soan>`;SilkFlo.Models2.Shop.Subscription.DisplayMessage(i,t)}},DisplayMessage:function(n,t){const i="SilkFlo.Models2.Shop.Subscription.DisplayMessage: ";if(!t){console.log(`${i}targetId parameter missing`);return}const r=document.getElementById(t);if(!r){console.log(`${i}Element with id ${t} missing`);return}const u="Message",f=r.querySelector(`[name="${u}"]`);if(!f){console.log(`${i}Element with name ${u} missing`);return}f.innerHTML=n},SelectPrice_Click:function(n,t){const i="SilkFlo.Models2.Shop.Subscription.SelectPrice_Click: ";if(console.log(i),!n){console.log(`${i}priceId parameter missing`);return}const r="body",u=document.getElementById(r);if(!u){console.log(`${i}Element with id ${r} missing`);return}t?window.location.replace(`/shop/subscribe/priceId/${n}/referrerCode/${t}`):window.location.replace(`/shop/subscribe/priceId/${n}`)},SelectPriceFailed_Callback:function(n){const t="body",i=document.getElementById(t);if(!i){console.log(`${"SilkFlo.Models2.Shop.Subscription.SelectPriceFailed_Callback: "}Element with id ${t} missing`);return}i.style.opacity=1;i.innerHTML='<div name="Message" style="margin: 1rem;"><\/div>';SilkFlo.DataAccess.Feedback(n,t)}};SilkFlo.Models2||(SilkFlo.Models2={});SilkFlo.Models2.CRM||(SilkFlo.Models2.CRM={});SilkFlo.Models2.CRM.Prospect={Pipeline:"",GetParent:function(){const n="CRM.Prospect",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.Models2.CRM.Prospect.GetParent: "}Element with id ${n} missing`),null;return t},Message:function(n){const u="SilkFlo.Models2.CRM.Prospect.Message: ",i=SilkFlo.Models2.CRM.Prospect.GetParent();if(i){const r="Message";let t=i.querySelector(`[name="${r}"]`);if(t){t.innerHTML=n;return}if(!i.nextElementSibling){console.log(`${u}No sibling element`);return}const f=i.nextElementSibling;if(t=f.querySelector(`[name="${r}"]`),!t){console.log(`${u}Element with name ${r} missing`);return}t.innerHTML=n}},CopyReCaptcha:function(){const r="SilkFlo.Models2.CRM.Prospect.CopyReCaptcha: ",u="grecaptcha-badge",i=document.getElementsByClassName(u);if(!i||i.length<1){console.log(`${r}Element with class ${u} missing`);return}const t=i[0],f=SilkFlo.Models2.CRM.Prospect.GetParent();if(f){const e="reCaptchaBadgeContainer",n=f.querySelector(`[name="${e}"]`);if(!n){console.log(`${r}Element with name ${e} missing`);return}const o=t.getAttribute("style"),s=t.getAttribute("class");n.setAttribute("style",o);n.setAttribute("class",s);n.innerHTML=t.innerHTML;n.style.position="";t.style.display="none"}},SetPipeline:function(n){SilkFlo.Models2.CRM.Prospect.Pipeline=n},TermsAgreedOnInput:function(n){const t=n.target;t.checked?t.classList.remove("is-invalid"):t.classList.add("is-invalid")},Save:function(){grecaptcha.ready(function(){grecaptcha.execute(SilkFlo.GReCaptchaPublicKey,{action:"signup"}).then(function(n){$("#hdnGoogleRecaptcha").val(n);$("#lblValue").html(n);const t=SilkFlo.Models2.CRM.Prospect.GetParent();if(t){const f=t.nextElementSibling,u="submitButton",i=f.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.Models2.CRM.Prospect.Save: "}Element with name ${u} missing`);return}i.setAttribute("disabled","");i.innerHTML='<span class="spinner-border spinner-border-sm" style="margin-right: 1rem;"><\/span>Submitting...';SilkFlo.Models2.CRM.Prospect.Message('<span class="text-info">Validating email address. Please wait.<\/span>');const r=SilkFlo.Models.Abstract.GetModelFromParent(t,["FirstName","LastName","PhoneNumber","Email","JobLevelId","CompanyName","CompanySizeId","CountryId","TermsAgreed"],"CRM.Prospect.");r.ReCaptchaToken=n;r.Pipeline=SilkFlo.Models2.CRM.Prospect.Pipeline;SilkFlo.Models.Abstract.Save(r,SilkFlo.Models2.CRM.Prospect.IsValidate,SilkFlo.Models2.CRM.Prospect.SaveFailedCallback,t.id,"/api/CRM/Prospect/Save")}})})},SaveFailedCallback:function(n,t){SilkFlo.DataAccess.Feedback(n,t);const r=SilkFlo.Models2.CRM.Prospect.GetParent();if(r){const f=r.nextElementSibling,u="submitButton",i=f.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.Models2.CRM.Prospect.SaveFailedCallback: "}Element with name ${u} missing`);return}i.removeAttribute("disabled");i.innerHTML="Submit"}},EnableButton:function(){const t=SilkFlo.Models2.CRM.Prospect.GetParent();if(t){const r=t.nextElementSibling,i="submitButton",n=r.querySelector(`[name="${i}"]`);if(!n){console.log(`${"SilkFlo.Models2.CRM.Prospect.EnableButton: "}Element with name ${i} missing`);return}n.removeAttribute("disabled");n.innerHTML="Submit"}},IsValidate:function(n,t){SilkFlo.Models2.CRM.Prospect.EnableButton();SilkFlo.DataAccess.Feedback(n,t);window.open("https://calendly.com/alexander-silkflo/20min","_blank").focus();setTimeout(SilkFlo.Models2.CRM.Prospect.CloseModal,2e3)},CloseModal:function(){const n=document.getElementById("ModalCRMProspect"),t=bootstrap.Modal.getInstance(n);t.hide()}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.CollaboratorRole={GetParent:function(){const n="Settings.Roles.Details",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.CollaboratorRole.GetParent: "}Element with id ${n} missing`),null;return t},Select:function(n){const i="SilkFlo.ViewModels.Settings.CollaboratorRole.Select: ",t=document.getElementById("Settings.Roles.SelectBar");if(n){const r="Settings.Business.Role.Header",u=document.getElementById(r);if(!u){console.log(`${i}Element with id "${r}" missing`);return}const f=u.getBoundingClientRect().top,e=n.getBoundingClientRect().top,o=e-f,s=`matrix( 1, 0, 0, 1, 1, ${o})`;t&&(t.style.display="block",t.style.transform=s)}else t.style.display="none";const r="Business.Role.TableBody",u=document.getElementById(r),f=u.children;if(!u){console.log(`${i}Element with id "${r}" missing`);return}const e=f.length;for(let n=0;n<e;n++)f[n].style.outline="none";n&&(n.style.outline="1px solid var(--bs-gray-lighter)")},Search:function(n,t,i){if(!n){const t=document.getElementById("Settings.Roles.Search");if(!t){console.log('SilkFlo.ViewModels.Settings.CollaboratorRole.Search: Element with id "Settings.Roles.Search" missing');return}n=t.value}let u=!0;n||(u=!1);let r="/api/Business/Role/Table";u&&(r+=`/Search/${n}`);i&&(r+=`/SelectedId/${i}`);SilkFlo.DataAccess.UpdateElementById(r,null,t)},GetDetail:function(n){let t="/api/Business/Role/GetDetail";n?t+=`/id/${n}`:SilkFlo.ViewModels.Settings.CollaboratorRole.Select();const i=SilkFlo.ViewModels.Settings.CollaboratorRole.GetParent();i&&SilkFlo.DataAccess.UpdateElement(t,null,i)},Save:function(){const t=SilkFlo.ViewModels.Settings.CollaboratorRole.GetParent();if(t){const n=SilkFlo.Models.Business.Role.GetModelFromParent(t,["Id","Description","Name"]);SilkFlo.ViewModels.Settings.CollaboratorRole.Model=n;const i=SilkFlo.Models.Shared.IdeaAuthorisation.GetModelCollectionFromParentById("Model.Shared.IdeaAuthorisations","Shared.IdeaAuthorisation",["Id","IsSelected","Name"]);if(!i){console.log("SilkFlo.ViewModels.Settings.CollaboratorRole.Save: Idea Authorisations missing");return}n.IdeaAuthorisations=i;const r=document.getElementById(n.Id);SilkFlo.Models.Business.Role.Save(n,SilkFlo.ViewModels.Settings.CollaboratorRole.UpdateSummary,SilkFlo.DataAccess.Feedback,t.id,"/api/Business/Role/Post")}},UpdateSummary:function(n){const t="SilkFlo.ViewModels.Settings.CollaboratorRole.UpdateSummary: ";if(!SilkFlo.ViewModels.Settings.CollaboratorRole.Model){console.log(t+"SilkFlo.ViewModels.Settings.CollaboratorRole.Model missing");return}const i=SilkFlo.ViewModels.Settings.CollaboratorRole.Model;if(i.Id){const n=document.getElementById(i.Id);if(!n){console.log(`${t}tr element with id ${i.Id} missing`);return}n.classList.add("pulse-background-green");const r="Name",u=n.querySelector(`[name="${r}"]`);if(!u){console.log(`${t}Element with name ${r} missing`);return}SilkFlo.DataAccess.UpdateTargetElementWithURL(u,`/api/Business/Role/TableRow/${i.Id}`)}else{const i="Settings.Roles.Search",r=document.getElementById(i);if(!r){console.log(t+'tr element with id "'+i+'" missing');return}const o=r.value;SilkFlo.ViewModels.Settings.CollaboratorRole.Search(o,"Settings.Roles.Table",n);const u=SilkFlo.ViewModels.Settings.CollaboratorRole.GetParent();if(!u)return;const f="Business.Role.Id",e=u.querySelector(`[name="${f}"]`);if(!e){console.log(`${t}Element with name ${f} missing`);return}e.value=n}},Delete:function(){const t=SilkFlo.ViewModels.Settings.CollaboratorRole.GetParent();if(t){const n=SilkFlo.Models.Business.Role.GetModelFromParent(t,["Id","Name","UserCount"]);let i="";n.UserCount&&n.UserCount!=="0"&&(i=n.UserCount===1?`There is ${n.UserCount} user assigned to this role.`:`There are ${n.UserCount} users assigned to this role.`);const r=`/api/Model/Business/Role/Delete/Id/${n.Id}`;SilkFlo.Models.Abstract.Delete(r,n.Name,i,SilkFlo.ViewModels.Settings.CollaboratorRole.Delete_Callback,SilkFlo.DataAccess.Feedback,t.id)}},Delete_Callback:function(n,t){const i="SilkFlo.ViewModels.Settings.CollaboratorRole.Delete_Callback: ",r=document.getElementById(t);if(!r){console.log(`${i}Element with id ${t} missing`);return}const u=r.parentElement;if(u.children.length===0){const n="Settings.Roles.Details",t=document.getElementById(n);if(!t){console.log(`${i}Element with id ${n} missing`);return}t.innerHTML="";return}const f=u.children[0];SilkFlo.ViewModels.Settings.CollaboratorRole.Select(f);SilkFlo.ViewModels.Settings.CollaboratorRole.GetDetail(f.id);SilkFlo.ViewModels.Settings.CollaboratorRole.deleteRow(n)},deleteRow:function(n){const i="SilkFlo.ViewModels.Settings.CollaboratorRole.deleteRow: ",t=document.getElementById(n);if(!t){console.log(`${i}Element with id ${n} missing`);return}if(t){const n=t.parentNode;if(n.removeChild(t),n){const t=n.closest("tbody").querySelector("tr:first-child");if(!t){console.log(`${i}Element with empty row`);return}SilkFlo.ViewModels.Settings.CollaboratorRole.Select(t);var r=t.getAttribute("id");SilkFlo.ViewModels.Settings.CollaboratorRole.GetDetail(r)}}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Explore||(SilkFlo.ViewModels.Explore={});SilkFlo.ViewModels.Explore.People={SearchPeople:function(n,t,i,r){const f="SilkFlo.ViewModels.Explore.People.SearchPeople: ";if(!n){const t="Explore.People.Search",i=document.getElementById(t);if(!i){console.log(`${f}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/Explore/People/Table";if(o&&(u+="/Search/"+n),e){u+="/page/"+t;const n="Explore.People.Table.SelectedPage",i=document.getElementById(n);if(!i){console.log(`${f}Element with id ${n} missing`);return}i.value=t}r&&(u+="/FirstId/"+r);SilkFlo.DataAccess.UpdateElementById(u,null,i)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.People={GetParent:function(){const n="Settings.People.Modal",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.People.GetParent: "}Element with id "${n}" missing`),null;return t},Row_Click:function(n){HotSpot.Card&&HotSpot.Card.Close();SilkFlo.ViewModels.Settings.People.PopulateModal(n.id)},SearchPeople:function(n,t,i,r){const o="SilkFlo.ViewModels.Settings.People.SearchPeople: ";r||(r="");const u={Text:n,PageNumber:1,FirstUserId:r};let f="Settings.People.GuestsOnly";const e=document.getElementById(f);if(e&&(u.GuestOnly=e.checked),!u.Text){f="Settings.People.Search";const n=document.getElementById(f);if(!n){console.log(`${o}Element with id ${f} missing`);return}u.Text=n.value}SilkFlo.DataAccess.UpdateElementById("/api/Settings/People/GetRows",u,i,null,"POST")},PopulateModal:function(n){const u="SilkFlo.ViewModels.Settings.People.PopulateModal: ";let f="/api/User/GetModal";n&&(f+=`/id/${n}`);let t="modelManageUserLabel";const i=document.getElementById(t);if(!i){console.log(`${u}Element with id ${t} missing`);return}t="modelManageUser.btnDelete";const r=document.getElementById(t);if(!r){console.log(`${u}Element with id ${t} missing`);return}n?(i.innerHTML="Edit the User",r.style.display="block"):(i.innerHTML="Add a New User",r.style.display="none");SilkFlo.DataAccess.UpdateElementById(f,null,"Settings.People.Modal","","GET",SilkFlo.ViewModels.Settings.People.AfterModalLoaded)},AfterModalLoaded:function(){const t=SilkFlo.ViewModels.Settings.People.GetParent();if(t){const i="User.IsGuestEmail",n=t.querySelector(`[name="${i}"]`);if(!n){console.log(`${"SilkFlo.ViewModels.Settings.People.AfterModalLoaded: "}Element with name ${i} missing`);return}n.checked&&SilkFlo.Radio_Click(n,SilkFlo.ViewModels.Settings.People.ToggleEmail);SilkFlo.ViewModels.Settings.People.SetFocusOnFistName()}},SetFocusOnFistName:function(){const n="Modal.User.FirstName",t=document.getElementById(n);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.People.SetFocusOnFistName: "}Element with id ${n} missing`);return}SilkFlo.SetFocus(t)},SavePerson:function(){const f="SilkFlo.ViewModels.Settings.People.SavePerson: ",n=SilkFlo.ViewModels.Settings.People.GetParent();if(n){const t=SilkFlo.Models.User.GetModelFromParent(n,["Id","FirstName","LastName","JobTitle","DepartmentId","EmailPrefix"]);if(!t){console.log(f+"User model missing");return}let i="User.IsBusinessEmail",r=n.querySelector(`[name="${i}"]`);if(r){let n=!1;r.checked&&(n=!0);t.IsBusinessEmail=n}i="User.GuestEmail";r=n.querySelector(`[name="${i}"]`);r&&(t.GuestEmail=r.value);const o=n.querySelector('[name="user.Roles"]'),u=SilkFlo.Models.Role.GetModelCollectionFromParent(o,"Role",["Id","Name","IsSelected"]);i="User.StandardUserRole";const e=n.querySelector(`[name="${i}"]`);if(e){const n=SilkFlo.Models.User.GetModelFromParent(e,["Id","Name","IsSelected"],"User.StandardUserRole.");u.push(n)}if(!u){console.log(f+"Role model missing");return}t.Roles=u;SilkFlo.Models2.User.Model=t;SilkFlo.Models.Business.Client.Save(t,SilkFlo.ViewModels.Settings.People.CloseModelAndUpdateTable,SilkFlo.DataAccess.Feedback,n.id,"/api/Models/User/Save")}},DeletePerson:function(){const t=SilkFlo.ViewModels.Settings.People.GetParent();if(t){const n=SilkFlo.Models.User.GetModelFromParent(t,["Id","Fullname","CollaboratorCount"]);if(!n){console.log("SilkFlo.ViewModels.Settings.People.DeletePerson: model missing");return}SilkFlo.ViewModels.Settings.People.DeleteId=n.Id;let i="";n.CollaboratorCount&&n.CollaboratorCount!=="0"&&(i+=n.CollaboratorCount==="1"?'<br><b><span class="text-danger">They collaborate with 1 idea.<\/span><\/b>':`<br><b><span class="text-danger">They collaborate with ${n.CollaboratorCount} ideas.</span></b>`);SilkFlo.Models.User.Delete(SilkFlo.ViewModels.Settings.People.RemoveRow,SilkFlo.ViewModels.Settings.People.DeleteFailed,SilkFlo.ViewModels.Settings.People.DeleteId,n.Fullname,i)}},RemoveRow:function(n){const t="SilkFlo.ViewModels.Settings.People.RemoveRow: ";if(console.log(t),!n){console.log(`${t}id parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id "${n}" missing`);return}i.classList.add("glow-background-red");setTimeout(()=>{i.remove()},1e3)},DeleteFailed:function(n){if(n){const t=JSON.parse(n);n=t.error}else n="The user was not deleted";bootbox.dialog({title:"User Not Deleted",message:n,onEscape:!0,backdrop:!0,buttons:{Ok:{label:"Ok",className:"btn-danger"}}})},CloseModelAndUpdateTable:function(n){const i="SilkFlo.ViewModels.Settings.People.CloseModelAndUpdateTable: ",t=SilkFlo.Models2.User.Model;if(t||console.log(i+"SilkFlo.Models2.User.Model missing"),t.Id){const n=document.getElementById(t.Id);if(!n){console.log(`${i}tr element with id ${t.Id} missing`);return}SilkFlo.DataAccess.UpdateTargetElementWithURL(n,`/api/Settings/Tenant/People/TableRow/${t.Id}`)}else{let t="Settings.People.Search";const r=document.getElementById(t);if(!r){console.log(`${i}tr element with id "${t}" missing`);return}const e=r.value;t="Settings.People.Table.SelectedPage";const u=document.getElementById(t);let f="";u&&(f=u.value);SilkFlo.ViewModels.Settings.People.SearchPeople(e,f,"People.Table.Content",n)}window.$("#modelManageUser").modal("hide")},SendInvitationClick:function(n){const t=SilkFlo.ViewModels.Settings.People.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Settings.People.SendInvitationClick: "}Element with name ${i} missing`);return}r.innerHTML="";SilkFlo.Models2.User.SendInvite(n,SilkFlo.ViewModels.Settings.People.SendInvitationCallback)}},SendInvitationCallback:function(n){const t=SilkFlo.ViewModels.Settings.People.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Settings.People.SendInvitationCallback: "}Element with name ${i} missing`);return}r.innerHTML=n}},ToggleEmail:function(n){const t="SilkFlo.ViewModels.Settings.People.ToggleEmail: ";if(!n){console.log(`${t}element parameter missing`);return}const i=SilkFlo.ViewModels.Settings.People.GetParent();if(i){const r=n.getAttribute("data");if(!r){console.log(`${t}data attribute missing`);return}const u="user.Roles",f=i.querySelector(`[name="${u}"]`);if(!f){console.log(`${t}Element with name ${u} missing`);return}const e=f.children,o=e.length;for(let n=0;n<o;n++){const i=e[n],u=i.getAttribute("data");if(!u){console.log(`${t}data attribute missing`);return}u==="-165"&&(r==="User.Email"?i.removeAttribute("disabled"):i.setAttribute("disabled",""))}}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.Tenants={Summary:{SelectedRow:null,IsDeleting:!1,GetParent:function(){const n="Settings.Tenants",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.GetParent: "}Element with id "${n}" missing`),null;return t},SetMessage:function(n){const t=SilkFlo.ViewModels.Settings.Tenants.Summary.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.SetMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["EditButton","ShowProductsButton","DeleteButton","NewButton","SubscribeButton"],"",!1),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.SelectedRow){if(n.EditButton&&n.EditButton.classList.remove("hide"),n.DeleteButton&&n.DeleteButton.classList.remove("hide"),n.SubscribeButton)if(this.SelectedRow.hasAttribute("SilkFlo-Status")){const t=this.SelectedRow.getAttribute("SilkFlo-Status");t==="Subscribed"||t==="FreeTrial"||t==="PaymentRequired"?(n.SubscribeButton.innerHTML="Resubscribe ...",n.SubscribeButton.classList.remove("hide")):t==="NoSubscription"?(n.SubscribeButton.innerHTML="Add Subscription ...",n.SubscribeButton.classList.remove("hide")):t==="Demo"&&n.SubscribeButton.classList.add("hide")}else n.SubscribeButton.classList.add("hide")}else n.EditButton&&n.EditButton.classList.add("hide"),n.DeleteButton&&n.DeleteButton.classList.add("hide"),n.SubscribeButton&&n.SubscribeButton.classList.add("hide")}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.SelectRow_Click: "}element parameter missing`);return}this.SelectedRow=n;const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()},Row_DblClick:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.Row_DblClick: "}id parameter missing`);return}SilkFlo.ViewModels.Settings.Tenants.PopulateModal(n)},Edit_OnClick:function(){if(!this.SelectedRow){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.Edit_OnClick: "}this.SelectedRow missing`);return}const n=this.SelectedRow.id;SilkFlo.ViewModels.Settings.Tenants.PopulateModal(n)},New_OnClick:function(){SilkFlo.ViewModels.Settings.Tenants.PopulateModal()},Products_OnClick:function(){$("#modalViewProducts").modal("show")},Subscription_OnClick:function(){alert("ToDo: Subscription")},Delete_OnClick:function(){if(!this.SelectedRow){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.Summary.Delete_OnClick: "}this.SelectedRow missing`);return}SilkFlo.ViewModels.Settings.Tenants.Summary.IsDeleting=!0;SilkFlo.Models.Business.Client.Delete(SilkFlo.ViewModels.Settings.Tenants.Summary.Delete_Callback,SilkFlo.ViewModels.Settings.Tenants.Summary.DeleteFailed_Callback,this.SelectedRow.id,"Tenant")},Delete_Callback:function(){console.log("Delete_Callback");SilkFlo.ViewModels.Settings.Tenants.Summary.IsDeleting=!1},DeleteFailed_Callback:function(n){SilkFlo.ViewModels.Settings.Tenants.Summary.IsDeleting=!1;const t=SilkFlo.ViewModels.Settings.Tenants.Summary.GetParent();SilkFlo.DataAccess.Feedback(n,t.id)}},GetParent:function(){const n="Modal.Business.Client",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.Tenants.GetParent: "}Element with id "${n}" missing`),null;return t},ShowMessage:function(n){const t="SilkFlo.ViewModels.Settings.Tenants.ShowMessage: ",i="modalManageTenant",r=document.getElementById(i);if(!r){console.log(`${t}Element with id ${i} missing`);return}const u="Message",f=r.querySelector(`[name="${u}"]`);if(!f){console.log(`${t}Element with name ${u} missing`);return}f.innerHTML=n},Search:function(n,t,i,r){const f="SilkFlo.ViewModels.Settings.Tenants.Search: ";if(!n){const t=document.getElementById("Settings.Tenants.Search");if(!t){console.log(f+'Element with id "Settings.Tenants.Search" missing');return}n=t.value}let e=!0;t&&t!=="1"||(e=!1);let u="/api/Settings/Tenants/Table";if(n&&(u+=`/Search/${n}`),e){u+=`/page/${t}`;const n=document.getElementById("Settings.Tenants.Table.SelectedPage");if(!n){console.log(f+'Element with id "Settings.Tenants.Table.SelectedPage" missing');return}n.value=t}r&&(u+=`/FirstId/${r}`);SilkFlo.DataAccess.UpdateElementById(u,null,i)},PopulateModal:function(n){let t="/api/business/tenants/GetModal";n&&(t+=`/id/${n}`);const i="modalManageTenantLabel",u=document.getElementById(i);if(!u){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.PopulateModal: "}element with id "${i}" missing`);return}const r=SilkFlo.ViewModels.Settings.Tenants.GetParent();r&&SilkFlo.DataAccess.UpdateElement(t,null,r,null,"GET",SilkFlo.ViewModels.Settings.Tenants.PopulateModalCallBack,"","",SilkFlo.DataAccess.Feedback,"Settings.Tenants")},PopulateModalCallBack:function(){const i="SilkFlo.ViewModels.Settings.Tenants.PopulateModalCallBack: ",r="modalManageTenant",u=document.getElementById(r);if(!u){console.log(`${i}Element with id "${r}" missing`);return}$("#modalManageTenant").modal("show");u.addEventListener("shown.bs.modal",SilkFlo.ViewModels.Settings.Tenants.SetFocusOnName);const t=SilkFlo.ViewModels.Settings.Tenants.GetParent();if(t){let n="Modal.Business.Client.Status";const f=t.querySelector(`[name="${n}"]`);if(!f){console.log(`${i}Element with name ${n} missing`);return}n="Modal.Business.Client.Subscription_Container";const e=t.querySelector(`[name="${n}"]`);if(e){n="Modal.Business.Client.DateStart";const r=t.querySelector(`[name="${n}"]`);if(!r){console.log(`${i}Element with name ${n} missing`);return}n="Modal.Business.Client.DateEnd";const u=t.querySelector(`[name="${n}"]`);if(!u){console.log(`${i}Element with name ${n} missing`);return}n="Modal.Business.Client.DateButton";const f=t.querySelector(`[name="${n}"]`);if(!f){console.log(`${i}Element with name ${n} missing`);return}Delaney.UI.DatePicker.MainRangeSelector(r,u,f)}}},SetFocusOnName:function(){const n=SilkFlo.ViewModels.Settings.Tenants.GetParent();if(n){const t="Modal.Business.Client.Name",i=n.querySelector(`[name="${t}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.Tenants.SetFocusOnName: "}Element with name ${t} missing`);return}i.focus()}},Save_OnClick:function(){SilkFlo.ViewModels.Settings.Tenants.SaveModal(!0)},ShowInviteMessage:function(){const t="SendInviteMessage",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.Business.Idea.Summary.ShowInviteMessage: "}Element with id ${t} missing`);return}n.classList.add("show");n.style.display="block"},SendInvite_Yes:function(){SilkFlo.ViewModels.Settings.Tenants.SaveModal(!1,!0)},SendInvite_No:function(){SilkFlo.ViewModels.Settings.Tenants.SaveModal(!1,!1)},SaveModal:function(n=false,t=false){const e="SilkFlo.ViewModels.Settings.Tenants.SaveModal: ",u=SilkFlo.ViewModels.Settings.Tenants.GetParent();if(u){const i=SilkFlo.Models.Business.Client.GetModelFromParent(u,["Id","Name","IndustryId","Address1","Address2","City","State","PostCode","CountryId","AverageWorkingDay","AverageWorkingHour","Website","AccountOwnerFirstName","AccountOwnerLastName","AccountOwnerEmail","AccountOwnerId","ProductId","TypeId","DateStart","DateEnd"],u.id+".",!1);i.AverageWorkingDay||(i.AverageWorkingDay=0);i.AverageWorkingHour||(i.AverageWorkingHour=0);let r="Business.Client.IsActive";const h=u.querySelector(`[name="${r}"]`);h&&(i.IsActive=h.checked?!0:!1);r="Business.Client.TypeId";const c=u.querySelector(`[name="${r}"]`);c&&(i.TypeId=c.value);r="Business.Client.IsDemo";const l=u.querySelector(`[name="${r}"]`);if(l){let n=!1;l.checked&&(n=!0);i.IsDemo=n}r="Business.Client.ReferrerDiscountId";const a=u.querySelector(`[name="${r}"]`);a&&(i.ReferrerDiscountId=a.value);r="Business.Client.ResellerDiscountId";const v=u.querySelector(`[name="${r}"]`);if(v&&(i.ResellerDiscountId=v.value),!i){console.log(e+"User model missing");return}const y="modalManageTenant",s=document.getElementById(y);if(!s){console.log(`${e}Element with id ${y} missing`);return}r="Modal.Business.Client.SaveButton";let f=s.querySelector(`[name="${r}"]`);if(!f){console.log(`${e}Element with name ${r} missing`);return}if(f.setAttribute("disabled",""),f.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="margin-right: 1rem;"><\/span>Saving...',i.AccountOwnerEmail&&!i.Id){if(r="Message",f=s.querySelector(`[name="${r}"]`),!f){console.log(`${e}Element with name ${r} missing`);return}f.innerHTML='<span class="text-info">Please wait while email address is validated.<\/span>';SilkFlo.Models2.Business.Client.Model=i}let o="/api/Models/Business/Tenant/SaveModal";if(!i.Id&&n){o+=`/validateOnly/${n}`;SilkFlo.Models.Business.Client.Save(i,SilkFlo.ViewModels.Settings.Tenants.ValidateSuccess_Callback,SilkFlo.ViewModels.Settings.Tenants.SaveFailed_Callback,u.id,o);return}!i.Id&&t&&(o+=`/sendInvite/${t}`);SilkFlo.Models.Business.Client.Save(i,SilkFlo.ViewModels.Settings.Tenants.Save_Callback,SilkFlo.ViewModels.Settings.Tenants.SaveFailed_Callback,u.id,o)}},ValidateSuccess_Callback:function(){const n="SilkFlo.Business.Idea.Summary.ValidateSuccess_Callback: ",t=document.getElementById("modalManageTenant");if(!t){console.log(`${n}Element with id ${id} missing`);return}const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${n}Element with name ${i} missing`);return}r.innerHTML="";SilkFlo.ViewModels.Settings.Tenants.ShowInviteMessage()},Save_Callback:function(n){const t="SilkFlo.ViewModels.Settings.Tenants.Save_Callback: ",u=document.getElementById("modalManageTenant");if(!u){console.log(`${t}Element with id ${n} missing`);return}let i="Modal.Business.Client.SaveButton";const f=u.querySelector(`[name="${i}"]`);if(!f){console.log(`${t}Element with name ${i} missing`);return}f.removeAttribute("disabled");f.innerHTML="Save";i="Message";const e=u.querySelector(`[name="${i}"]`);if(!e){console.log(`${t}Element with name ${i} missing`);return}e.innerHTML="";const r=SilkFlo.Models2.Business.Client.Model;if(r&&r.Id){const n=document.getElementById(r.Id);if(!n){console.log(t+"tr element with id "+r.Id+" missing");return}SilkFlo.DataAccess.UpdateTargetElementWithURL(n,`/api/Settings/Tenant/TableRow/${r.Id}`)}else{let i="Settings.Tenants.Search";const r=document.getElementById(i);if(!r){console.log(`${t}tr element with id "${i}" missing`);return}const e=r.value;i="Settings.Tenants.Table.SelectedPage";const u=document.getElementById(i);let f="";u&&(f=u.value);SilkFlo.ViewModels.Settings.Tenants.Search(e,f,"Settings.Tenants.Table",n)}SilkFlo.SideBar.SetWorkspace();window.$("#modalManageTenant").modal("hide")},SaveFailed_Callback:function(n,t){const r="SilkFlo.ViewModels.Settings.Tenants.SaveFailed_Callback: ",u=document.getElementById("modalManageTenant");if(!u){console.log(`${r}Element with id ${t} missing`);return}const f="Modal.Business.Client.SaveButton",i=u.querySelector(`[name="${f}"]`);if(!i){console.log(`${r}Element with name ${f} missing`);return}i.removeAttribute("disabled");i.innerHTML="Save";SilkFlo.ViewModels.Settings.Tenants.ShowMessage("");SilkFlo.DataAccess.Feedback(n,t)},SendInviteOnClick:function(n){SilkFlo.ViewModels.Settings.Tenants.SendInvite(n)},SendInvite:function(n){const i=SilkFlo.ViewModels.Settings.Tenants.GetParent();if(i){const r=`/api/Business/Tenant/SendInvite/UserId/${n}`,t=new XMLHttpRequest;t.open("GET",r,!0);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");SilkFlo.ViewModels.Settings.Tenants.ShowMessage("");t.onreadystatechange=function(){return function(){if(t.readyState===XMLHttpRequest.DONE&&t.status===200){const n=t.responseText;SilkFlo.ViewModels.Settings.Tenants.ShowMessage(n)}}}(this);t.send()}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.Applications={IsNew:null,SelectedRow:null,EditRow:null,IsLoading:!1,NewToolTip:null,NewButtonElement:null,EditToolTip:null,EditButtonElement:null,GetParent:function(){const n="Settings.PlatformSetup.Applications.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const r=SilkFlo.ViewModels.Settings.PlatformSetup.Applications.GetParent();if(r){const u="Message",i=r.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SetMessage: "}Element with name ${u} missing`);return}i.setAttribute("class",t);i.innerHTML=n}},UpdateNewButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="NewButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateNewButtonToolTip: "}Element with name ${r} missing`);return}this.NewToolTip=n;this.NewButtonElement=t;t.onmousemove=this.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},UpdateEditButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="EditButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateEditButtonToolTip: "}Element with name ${r} missing`);return}this.EditToolTip=n;this.EditButtonElement=t;t.onmousemove=this.ShowEditToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},ShowEditToolTip:function(){const n=this.EditToolTip,t=this.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowNewToolTip:function(){const n=this.NewToolTip,t=this.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateView: ",t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","EditButton","DeleteButton","SaveButton","CancelButton"],""),!t.ModelElements){console.log(`${i}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.EditButton.classList.add("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}if(this.IsNew||this.EditRow?n.NewButton.classList.add("hide"):n.NewButton.classList.remove("hide"),this.SelectedRow){const f=this.SelectedRow;let r="Business.Version.IdeaApplicationVersions.Count";const u=f.querySelector(`[name="${r}"]`);if(!u){console.log(`${i}Element with name ${r} missing`);return}let t=u.innerHTML;t=t.trim();t!=="0"||this.IsNew?n.DeleteButton.classList.add("hide"):n.DeleteButton.classList.remove("hide");n.EditButton.classList.remove("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide")}else this.EditRow?(n.EditButton.classList.add("hide"),n.CancelButton.classList.remove("hide"),n.SaveButton.classList.remove("hide"),n.DeleteButton.classList.add("hide")):(n.EditButton.classList.add("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.add("hide"))}},New_Click:function(){const n=this.GetParent();if(n){this.Cancel_Click();this.IsLoading=!0;this.UpdateView();const t=n.querySelector("tbody");SilkFlo.DataAccess.AppendElement("/api/settings/Tenant/platformSetup/Applications/NewRow",null,t,this.New_CallBack,!0)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.Applications.GetParent();if(n){const t=n.querySelector("tbody"),i=t.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.Applications.IsLoading=!1;SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectRow_Click(i);SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Edit_Click();SilkFlo.ViewModels.Settings.PlatformSetup.Applications.IsNew=!0;SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateView()}},Cancel_Click:function(){if(this.EditRow&&!this.EditRow.isEqualNode(this.SelectedRow)){const t=this.EditRow;if(this.EditRow=null,this.SelectedRow=t,this.IsNew){t.remove();this.SelectedRow=null;this.IsNew=!1;this.UpdateView();return}t.classList.remove("edit");let u="Business.Application.Name";const r=t.querySelector(`[name="${u}"]`);if(!r){console.log(`${logPrefix}Element with name ${u} missing`);return}if(!r.hasAttribute("old")){console.log(`${logPrefix}Old attribute missing`);return}if(SilkFlo.Models.Abstract.GetModelFromParent(t,["Name","PlannedUpdateDateDisplay","PlannedUpdateDate","PlannedUpdateDateDisplayDatePicker","PlannedUpdateDateDisplayDatePickerContainer","IsLive"],"Business.Version."),!t.ModelElements){console.log(`${logPrefix}ModelElements missing`);return}const n=t.ModelElements;let i=r.getAttribute("old");r.innerHTML=i;r.removeAttribute("contenteditable");i=n.Name.getAttribute("old");n.Name.innerHTML=i;n.Name.removeAttribute("contenteditable");n.IsLive.setAttribute("disabled","");i=n.IsLive.getAttribute("old");n.IsLive.checked=i==="True"?!0:!1;n.IsLive.value=i;n.PlannedUpdateDate.value=n.PlannedUpdateDateDisplay.innerHTML;n.PlannedUpdateDateDisplay.style.display="block";n.PlannedUpdateDateDisplayDatePickerContainer.style.display="none";window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();this.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;this.Cancel_Click();const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Edit_Click:function(){const r="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Edit_Click: ";this.Cancel_Click();const t=this.SelectedRow;if(this.EditRow=t,this.SelectedRow=null,!t){console.log(`${r}SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectedRow missing`);return}const u="Business.Application.Name",i=t.querySelector(`[name="${u}"]`);if(!i){console.log(`${r}Element with name ${u} missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(t,["Name","PlannedUpdateDateDisplay","PlannedUpdateDateDisplayDatePicker","PlannedUpdateDateDisplayDatePickerContainer","PlannedUpdateDate","IsLive","PlannedUpdateDateButton"],"Business.Version.");const n=t.ModelElements;if(n.IsLive.removeAttribute("disabled"),t.classList.add("edit"),this.IsNew=!1,Delaney.UI.DatePicker.Main(n.PlannedUpdateDate,n.PlannedUpdateDateButton),i.setAttribute("contenteditable",""),n.Name.setAttribute("contenteditable",""),n.PlannedUpdateDateDisplay.style.display="none",n.PlannedUpdateDateDisplayDatePickerContainer.style.display="",Delaney.UI.ToolTip.Hide(),this.UpdateView(),window.getSelection&&document.createRange){const n=document.createRange();n.selectNodeContents(i);const t=window.getSelection();t.removeAllRanges();t.addRange(n)}else if(document.body.createTextRange){const n=document.body.createTextRange();n.moveToElementText(i);n.select()}i.onkeydown=this.KeyPress;n.Name.onkeydown=this.KeyPress;n.IsLive.onkeydown=this.KeyPress;n.PlannedUpdateDate.onkeydown=this.KeyPress;Delaney.UI.ToolTip.Hide();this.UpdateView()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Cancel_Click()},Dbl_Click:function(n){this.SelectRow_Click(n);this.Edit_Click()},Save_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Save_Click: ";if(!this.EditRow){console.log(`${t}this.SelectedRow parameter missing`);return}const i=this.EditRow,n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name","IsLive","PlannedUpdateDate"],"Business.Version."),r=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name"],"Business.Application.");if(n.Application=r,!n){console.log(t+"Model is missing");return}if(!n.Application){console.log(t+"Model.Application is missing");return}if(!n.Application.Name){this.SetMessage("Please provide an application name","text-warning");return}if(!n.Name){this.SetMessage("Please provide a version","text-warning");return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.Applications.Container","/api/Business/Version/Post","POST")},Save_CallBack:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Save_CallBack: ";if(!n){SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Cancel_Click();return}const r=SilkFlo.ViewModels.Settings.PlatformSetup.Applications.EditRow;if(!r){console.log(`${i}this.SelectedRow missing`);return}const u=JSON.parse(n);if(!u){console.log(`${i}Falied to parse str`);return}let t="Business.Version.Name";const s=r.querySelector(`[name="${t}"]`);if(!s){console.log(`${i}Element with name ${t} missing`);return}let e=s.innerHTML.trim();s.setAttribute("old",e);t="Business.Application.Name";const f=r.querySelector(`[name="${t}"]`);if(!f){console.log(`${i}Element with name ${t} missing`);return}t="Business.Version.PlannedUpdateDateDisplay";let c=r.querySelector(`[name="${t}"]`);if(!c){console.log(`${i}Element with name ${t} missing`);return}t="Business.Version.PlannedUpdateDate";let l=r.querySelector(`[name="${t}"]`);if(!l){console.log(`${i}Element with name ${t} missing`);return}t="Business.Version.IsLive";const o=r.querySelector(`[name="${t}"]`);if(!o){console.log(`${i}Element with name ${t} missing`);return}if(o.checked?o.setAttribute("old","True"):o.setAttribute("old","False"),c.innerHTML=l.value,SilkFlo.ViewModels.Settings.PlatformSetup.Applications.IsNew){if(u.id){t="Business.Version.Id";const n=r.querySelector(`[name="${t}"]`);if(!n){console.log(`${i}Element with name ${t} missing`);return}n.innerHTML=u.id}if(u.applicationId){t="Business.Application.Id";const n=r.querySelector(`[name="${t}"]`);if(!n){console.log(`${i}Element with name ${t} missing`);return}n.innerHTML=u.applicationId}e=f.innerHTML.trim();f.setAttribute("old",e)}else if(u.applicationName){const n="Settings.PlatformSetup.Applications",t=document.getElementById(n);if(!t){console.log(`${i}Element with id ${n} missing`);return}const r=f.getAttribute("old");if(!r){console.log(`${i}old attribute missing`);return}const o=t.querySelectorAll('[name="Business.Application.Name"]'),s=o.length;for(var h=0;h<s;h++){const n=o[h],t=n.getAttribute("old");t===r&&(n.innerHTML=u.applicationName,n.setAttribute("old",u.applicationName),n.parentElement.classList.add("pulse-background-green"),setTimeout(function(){n.parentElement.classList.remove("pulse-background-green")},2e3))}e=f.innerHTML.trim();f.setAttribute("old",e)}SilkFlo.ViewModels.Settings.PlatformSetup.Applications.IsNew=!1;SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Cancel_Click();SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SetMessage("Saved","text-success")},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Delete_Click: ",i=this.SelectedRow;if(!i){console.log(t+"SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectedRow missing");return}const n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name"],"Business.Version."),r=SilkFlo.Models.Abstract.GetModelFromParent(i,["Name"],"Business.Application.");if(!n||!n.Id){console.log(t+"Cannot find version Id");return}if(!n.Name){console.log(t+"Cannot find version");return}if(!r||!r.Name){console.log(t+"Cannot find application");return}const u=`/api/Business/Version/Delete/${n.Id}`;SilkFlo.Models.Abstract.Delete(u,`${r.Name} ${n.Name}`,"",this.Delete_Callback,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.Applications.Container")},Delete_Callback:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Delete_Callback: this.SelectedRow missing");return}n.classList.remove("select");n.classList.add("pulse-background-red");setTimeout(function(){n.classList.remove("pulse-background-red");n.remove()},2e3);SilkFlo.ViewModels.Settings.PlatformSetup.Applications.SelectedRow=null;SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateView()},Search:function(n,t,i){const r="SilkFlo.ViewModels.Settings.PlatformSetup.Applications.Search: ";if(!i){console.log(`${r}targetElementId parameter missing`);return}const f=document.getElementById(i);if(!f){console.log(`${r}Element with id ${i} missing`);return}if(!n){const t="Settings.PlatformSetup.Applications.Search.Id",i=document.getElementById(t);if(!i){console.log(`${r}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/settings/Tenant/platformSetup/Applications";o&&(u+="/Search/"+n);e&&(u+="/page/"+t);this.SelectedRow=null;SilkFlo.DataAccess.UpdateElement(u,null,f,"","GET",this.SearchResultCallBack)},SearchResultCallBack:function(){SilkFlo.ViewModels.Settings.PlatformSetup.Applications.UpdateView()},LostFocus_Click:function(n){const i=n.target,t=i.getAttribute("name");if(t!=="EditButton"&&t!=="SaveButton"&&t!=="CancelButton"&&t!=="NewButton"){const r=this.SelectedRow;r&&(r.contains(i)||this.Cancel_Click())}}};let SelectedDivRow=null;SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits={SelectedColumn:null,SelectedHeader:null,SelectedCell:null,DivCell:null,OldNameCell:null,DepartmentId:null,TeamId:null,DeleteToolTip:null,DeleteButtonElement:null,EditToolTip:null,EditButtonElement:null,oldID:null,isAdd:null,isEdit:null,GetParent:function(){const n="Settings.PlatformSetup.BusinessUnits.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const r=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.GetParent();if(r){const u="Message",i=r.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SetMessage: "}Element with name ${u} missing`);return}i.setAttribute("class",t);i.innerHTML=n}},SelectHeader_Click:function(n){if(SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click(),!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectHeader_Click: "}element parameter missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectHeader(n);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView(n.parentElement.parentElement)},Select_Click:function(n){if(SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell){if(n.target===SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell)return;if(n.target===SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell.parentElement)return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click();const t=n.currentTarget,u=t.parentElement,f=u.parentElement,e=f.parentElement,i="Header",r=e.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click: "}Element with name ${i} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectHeader(r);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select(t);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView();SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.GetList(t)},DeSelectHeader:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectHeader",t=n.children,r=t.length;for(let n=0;n<r;n++){const f=t[n],r=f.children,u=r.length;u!==2&&console.log(i+"cell count is not correct");for(let n=0;n<u;n++){const t=r[n];t.classList.remove("select")}}},SelectHeader:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectHeader: ";if(!n){console.log(`${i}headerElement parameter missing`);return}const t=n.parentElement,f=t.parentElement;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectHeader(f);const r="List",u=t.querySelector(`[name="${r}"]`);if(!u){console.log(`${i}Element with name ${r} missing`);return}n.classList.add("select");u.classList.add("select");SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedColumn=t;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedHeader=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateNewButtonToolTip(`Create new business unit`)},ShowNewToolTip:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewToolTip,t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateNewButtonToolTip:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateNewButtonToolTip: ";if(n){const r="Settings.PlatformSetup.BusinessUnits.Container",u=document.getElementById(r);if(!u){console.log(`${i}Element with id ${r} missing`);return}const f="NewButton",t=u.querySelector(`[name="${f}"]`);if(!t){console.log(`${i}Element with name ${f} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewToolTip=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewButtonElement=t;t.onmousemove=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}},UpdateEditButtonToolTip:function(n){if(n){const t="Settings.PlatformSetup.BusinessUnits.Container",i=document.getElementById(t);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateEditButtonToolTip: "}Element with id ${t} missing`);return}}},UpdateDeleteButtonToolTip:function(n){if(n){const t="Settings.PlatformSetup.BusinessUnits.Container",i=document.getElementById(t);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateDeleteButtonToolTip: "}Element with id ${t} missing`);return}}},DeSelectCells:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectCells: "}listElement parameter missing`);return}const t=n.children;if(t){const i=t.length;for(let n=0;n<i;n++){const i=t[n];i.classList.remove("select")}}},DeSelectrRows:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectrRows: "}list parameter missing`);return}const t=n.children;if(t){const i=t.length;for(let n=0;n<i;n++){const i=t[n];i.classList.remove("selectedRow");i.classList.remove("select");const r=i.children;if(r)for(let n=0;n<r.length;n++){const t=r[n];t&&t.classList&&t.classList.remove("select")}}}},Select:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select: ";if(!n){console.log(`${i}element parameter missing`);return}const t=n.parentElement,e=t.parentElement,h=t.children[0],o=t.parentElement,s=o.parentElement,r=s.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectCells(r);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectrRows(e);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectHeader(r);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=n;t.classList.add("selectedRow");n.classList.add("select");const u=n.getAttribute("name");if(u==="Business.Department"){const t=n.querySelector('[name="Business.Department.Id"]');if(!t){console.log(`${i}Element with name ${t} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DepartmentId=t.value}else if(u==="Business.Team"){const t=n.querySelector('[name="Business.Team.Id"]');if(!t){console.log(`${i}Element with name ${t} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.TeamId=t.value}const f=n.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateEditButtonToolTip(`Edit ${f.innerHTML}`);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateDeleteButtonToolTip(`Delete ${f.innerHTML}`)},ShowEditToolTip:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.EditToolTip,t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowDeleteToolTip:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeleteToolTip,t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeleteButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView: ",e="Settings.PlatformSetup.BusinessUnits.Container",r=document.getElementById(e);if(!r){console.log(`${i}Element with id ${e} missing`);return}let n="NewButton";const t=r.querySelector(`[name="${n}"]`);if(!t){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedHeader?t.classList.remove("hide"):t.classList.add("hide");n="SaveButton";const u=r.querySelector(`[name="${n}"]`);if(!u){console.log(`${i}Element with name ${n} missing`);return}n="CancelButton";const f=r.querySelector(`[name="${n}"]`);if(!f){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell?(f.classList.remove("hide"),u.classList.remove("hide"),t.classList.add("hide")):(f.classList.add("hide"),u.classList.add("hide"),SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedColumn?t.classList.remove("hide"):t.classList.add("hide"))},GetList:function(n){const t="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.GetList: ";if(!n){console.log(`${t}element parameter missing`);return}let e=n.getAttribute("name");if(!e){console.log(`${t}element parameter missing`);return}const o="Settings.PlatformSetup.BusinessUnits.Container",u=document.getElementById(o);let i="";const r=n.getAttribute("targetName");if(r){if(!u){console.log(`${t}Element with id ${o} missing`);return}const f=u.querySelector(`[name="${r}"]`);if(!f){console.log(`${t}Element with name ${r} missing`);return}f.style.display="flex";const s=f.querySelector(`[name="${"List"}"]`);if(!s){console.log(`${t}Element with name ${e} missing`);return}if(i=n.getAttribute("url"),!i){console.log(t+"url attribute missing");return}if(r==="Area"){const n="SubArea",i=u.querySelector(`[name="${n}"]`);if(!i){console.log(`${t}Element with name ${n} missing`);return}const r=i.querySelector(`[name="${"List"}"]`);if(!r){console.log(`${t}Element with name ${n} missing`);return}r.innerHTML=""}i=`/api/Settings/PlatformSetup/BusinessUnits/${i}`;SilkFlo.DataAccess.UpdateElement(i,null,s)}},Dbl_Click:function(n){SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click(n);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Edit_Click()},Edit_Click:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Edit_Click: ";isEdit="Edit";SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click();const n=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell;if(!n){console.log(`${i}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell missing`);return}const t=n.querySelector("div");if(!t){console.log(`${i}div element missing`);return}const r="NameOld",u=n.querySelector(`[name="${r}"]`);if(!u){console.log(`${i}Element with name ${r} missing`);return}if(SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell=t,SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell=u,t.setAttribute("contenteditable",""),n.classList.add("edit"),n.classList.remove("select"),Delaney.UI.ToolTip.Hide(),SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView(),window.getSelection&&document.createRange){const n=document.createRange();n.selectNodeContents(t);const i=window.getSelection();i.removeAllRanges();i.addRange(n)}else if(document.body.createTextRange){const n=document.body.createTextRange();n.moveToElementText(t);n.select()}n.removeAttribute("onclick");t.onkeydown=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.KeyPress},LostFocus_Click:function(n){const t=n.target.getAttribute("name");t!=="EditButton"&&t!=="SaveButton"&&t!=="CancelButton"&&t!=="NewButton"&&n.target!==SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell&&n.target!==SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell.parentElement&&SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click()},NewBusinessUnits_Click:function(){oldID=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click();const o=document.getElementById("Settings.PlatformSetup.BusinessUnits.Container");columnElement=o.querySelector(`[name="${"BusinessUnit"}"]`);let i="List";const r=columnElement.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewBusinessUnits_Click: "}Element with name ${i} missing`);isAdd=null;return}i=columnElement.getAttribute("name");let e="Area";const h=document.createElement("div"),n=document.createElement("div");n.setAttribute("url","");n.setAttribute("column","BusinessUnit");n.setAttribute("name","Business.Department");e&&n.setAttribute("targetName",e);n.classList.add("selectedRow");n.classList.add("select");n.addEventListener("click",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click);n.addEventListener("dblclick",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Dbl_Click);const t=document.createElement("div");t.setAttribute("name","Business.Department.Name");t.setAttribute("role","textbox");n.appendChild(t);const u=document.createElement("input");u.name="NameOld";u.type="hidden";n.appendChild(u);const f=document.createElement("input");f.name="Business.Department.Id";f.type="hidden";n.appendChild(f);const s=r.lastElementChild;r.insertBefore(n,s);t.focus();t.scrollIntoView({behavior:"smooth"});t.scrollTop=0;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.selectedRow=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Edit_Click();this.isAdd="Add"},NewArea_Click:function(){oldID=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click();const s=document.getElementById("btnNewArea"),u=s.parentElement,f="Area",c=f.parentElement;if(f==="Area"&&!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DepartmentId){bootbox.dialog({title:`Select Business Unit`,message:"Please select a business unit for your new area.",onEscape:!0,backdrop:!0,buttons:{ok:{label:"OK",className:"btn-success bootbox-accept"}}});isAdd=null;return}let e="SubArea",o=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DepartmentId;const n=document.createElement("div");if(n.setAttribute("url",""),n.setAttribute("column","Area"),n.setAttribute("name","Business.Team"),e&&n.setAttribute("targetName",e),o){const t=document.createElement("input");t.name="Business.Team.DepartmentId";t.value=o;t.type="hidden";n.appendChild(t)}n.classList.add("select");n.addEventListener("click",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click);n.addEventListener("dblclick",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Dbl_Click);const h=u.lastElementChild;u.insertBefore(n,h);const t=document.createElement("div");t.setAttribute("name","Business.Team.Name");t.setAttribute("role","textbox");n.appendChild(t);const i=document.createElement("input");i.name="NameOld";i.type="hidden";n.appendChild(i);const r=document.createElement("input");r.name="Business.Team.Id";r.type="hidden";n.appendChild(r);t.focus();t.scrollIntoView({behavior:"smooth"});t.scrollTop=0;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Edit_Click();this.isAdd="Add"},NewSubArea_Click:function(){oldID=null;isAdd="addNew";SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click();const o=document.getElementById("btnNewSubArea"),u=o.parentElement;if(!0&&!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.TeamId){bootbox.dialog({title:`Select Business Area`,message:"Please select a business area for your new sub-area.",onEscape:!0,backdrop:!0,buttons:{ok:{label:"OK",className:"btn-success bootbox-accept"}}});isAdd=null;return}let f="",e=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.TeamId;const n=document.createElement("div");if(n.setAttribute("url",""),n.setAttribute("column","SubArea"),n.setAttribute("name","Business.Process"),f&&n.setAttribute("targetName",f),e){const t=document.createElement("input");t.name="Business.Process.TeamId";t.value=e;t.type="hidden";n.appendChild(t)}n.classList.add("select");n.addEventListener("click",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click);n.addEventListener("dblclick",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Dbl_Click);const s=u.lastElementChild;u.insertBefore(n,s);const t=document.createElement("div");t.setAttribute("name","Business.Process.Name");t.setAttribute("role","textbox");n.appendChild(t);const i=document.createElement("input");i.name="NameOld";i.type="hidden";n.appendChild(i);const r=document.createElement("input");r.name="Business.Process.Id";r.type="hidden";n.appendChild(r);t.focus();t.scrollIntoView({behavior:"smooth"});t.scrollTop=0;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Edit_Click();this.isAdd="Add"},New_Click:function(){SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.NewBusinessUnits_Click()},Cancel_Click:function(){if(SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell){const n=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell;if(!n.classList.contains("select")){const i=n.id;if(!i){n.remove();SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView();const t=document.querySelector("[name='NewButton']");t?t.classList.remove("hide"):console.error("Element not found.");return}if(n.classList.add("select"),n.classList.remove("edit"),n.addEventListener("click",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click),SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell){if(!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click: "}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell missing`);return}const t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell,r=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell,u=r.value;t.innerHTML=u;t.removeAttribute("contenteditable");window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView();SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SetMessage("Cancelled","text-warning")}}}},Save_Click:function(){const u="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Save_Click: ";if(!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell){console.log(`${u}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell missing`);isAdd=null;return}const t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell;var f=t.getAttribute("id");f&&(oldID=f);const i=t.getAttribute("name");if(!i){console.log(u+"name is missing");isAdd=null;return}let r="",n=null;if(i==="Business.Department"?(r="/api/Business/Department/Post",n=SilkFlo.Models.Abstract.GetModelFromParent(t,["Id","Name"],"Business.Department.")):i==="Business.Team"?(r="/api/Business/Team/Post",n=SilkFlo.Models.Abstract.GetModelFromParent(t,["Id","Name","DepartmentId"],"Business.Team.")):i==="Business.Process"&&(r="/api/Business/Process/Post",n=SilkFlo.Models.Abstract.GetModelFromParent(t,["Id","Name","TeamId"],"Business.Process.")),!n){console.log(u+"Model is missing");isAdd=null;return}if(!n.Name){SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SetMessage("Please provide a name.","text-warning");isAdd=null;return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.BusinessUnits.Container",r,"POST")},Save_CallBack:function(n){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Save_CallBack: ";let f=!1,e=!1;if((n==="Saved Area"||n==="Saved Sub-Area")&&this.oldID!==null&&(n=this.oldID,e=!0),n===""&&this.oldID!==null&&(e=!0),n&&(f=!0),!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell){console.log(`${i}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell missing`);isAdd=null;return}if(!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell){console.log(`${i}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell missing`);isAdd=null;return}if(!SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell){console.log(`${i}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell missing`);isAdd=null;return}const t=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell,s=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell,h=SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell;h.value=s.innerHTML;const r=t.getAttribute("name");if(f){let i="";r==="Business.Department"?i=`GetAreas/departmentId/${n}`:r==="Business.Team"&&(i=`GetSubAreas/teamId/${n}`);i&&t.setAttribute("url",i);t.id=n}let o="Saved Department",u="Business.Department.Id";if(r==="Business.Team"?(o="Saved Area",u="Business.Team.Id"):r==="Business.Process"&&(o="Saved Sub-Area",u="Business.Process.Id"),SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Cancel_Click(),SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SetMessage(o,"text-success"),f){const r=t.querySelector(`[name="${u}"]`);if(!r){console.log(`${i}Element with name ${u} missing`);isAdd=null;return}this.oldID!==null&&(r.value=oldID);r.value=n;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select(t);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView();SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.GetList(t)}e||SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.refreshList(t)},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Delete_Click: ",r=event.target;if(!r){console.log(t+"SelectedCell missing");return}const i=r.closest(".col-1");if(!r){console.log(t+"Parent Div missing");return}if(SelectedDivRow=i.parentElement,!i){console.log(`${t}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell missing`);return}let n=i.getAttribute("name"),u=i.id;if(!n){console.log(t+"name is missing");return}this.SelectedDiv=n;n=n.replace(".","/");const f=`/api/Models/${n}/Delete/Id/${u}`;n=n.replace("/"," ");n=n.replace("Department","Unit");n=n.replace("Team","Area");n=n.replace("Process","Sub-Area");SilkFlo.Models.Abstract.Delete(f,n,"",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Delete_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.BusinessUnits.Container")},Delete_CallBack:function(){const n="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Delete_CallBack: ",r=SelectedDivRow;if(!r){console.log(`${n}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell missing`);return}let u=SelectedDivRow.children;if(!u){console.log(`${n}SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell.child missing`);return}let t=u[0].getAttribute("name");if(!t){console.log(n+"name is missing");return}console.log(n+t);const i=document.querySelector("#Settings\\.PlatformSetup\\.BusinessUnits\\.Container");if(!i){console.log(`${n}Element with id ${"Settings.PlatformSetup.BusinessUnits.Container"} missing`);return}if(t==="Business.Department"){let t="Area";const r=i.querySelector(`[name="${t}"]`);if(!r){console.log(`${n}Element with name ${t} missing`);return}t="List";const u=r.querySelector(`[name="${t}"]`);if(!u){console.log(`${n}Element with name ${t} missing`);return}u.innerHTML="";t="SubArea";const f=i.querySelector(`[name="${t}"]`);if(!f){console.log(`${n}Element with name ${t} missing`);return}if(t="List",listElement1=f.querySelector(`[name="${t}"]`),!listElement1){console.log(`${n}Element with name ${t} missing`);return}listElement1.innerHTML=""}else if(t==="Business.Team"){let t="SubArea";const r=i.querySelector(`[name="${t}"]`);if(!r){console.log(`${n}Element with name ${t} missing`);return}t="List";const u=r.querySelector(`[name="${t}"]`);if(!u){console.log(`${n}Element with name ${t} missing`);return}u.innerHTML=""}r.remove()},Search:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Search: ";let n="Settings.PlatformSetup.BusinessUnits.Search.Id";const r=document.getElementById(n);if(!r){console.log(`${i}Element with id ${n} missing`);return}n="Settings.PlatformSetup.BusinessUnits.Container";const e=document.getElementById(n);let t="BusinessUnit";const o=e.querySelector(`[name="${t}"]`);t="List";const u=o.querySelector(`[name="${t}"]`);if(!u){console.log(`${i}Element with name ${t} missing`);return}const f=r.value;console.log(i+f);const s=`/api/Business/Department/GetForBusinessUnits/SearchText/${f}`;SilkFlo.DataAccess.UpdateElement(s,null,u,"","GET",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SearchResultCallBack)},SearchResultCallBack:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SearchResultCallBack: ",o="Settings.PlatformSetup.BusinessUnits.Container",i=document.getElementById(o);if(!i){console.log(`${t}Element with id ${o} missing`);return}let n="Area";const r=i.querySelector(`[name="${n}"]`);if(!r){console.log(`${t}Element with name ${n} missing`);return}n="List";const u=r.querySelector(`[name="${n}"]`);if(!u){console.log(`${t}Element with name ${n} missing`);return}n="Header";const s=r.querySelector(`[name="${n}"]`);if(!s){console.log(`${t}Element with name ${n} missing`);return}n="SubArea";const f=i.querySelector(`[name="${n}"]`);if(!f){console.log(`${t}Element with name ${n} missing`);return}n="List";const e=f.querySelector(`[name="${n}"]`);if(!e){console.log(`${t}Element with name ${n} missing`);return}n="Header";const h=f.querySelector(`[name="${n}"]`);if(!h){console.log(`${t}Element with name ${n} missing`);return}u.innerHTML="";u.classList.remove("select");s.classList.remove("select");e.innerHTML="";e.classList.remove("select");h.classList.remove("select");SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedColumn=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedHeader=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.SelectedCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DivCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.OldNameCell=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DepartmentId=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.TeamId=null;SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.UpdateView();n="NewButton";const c=i.querySelector(`[name="${n}"]`);if(!c){console.log(`${t}Element with name ${n} missing`);return}c.classList.remove("hide")},refreshList:function(n){var o,f,t;const i="SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.refreshList: ";if(!n){console.log(`${i}element parameter missing`);return}const r=n.getAttribute("name");let u="Business.Department.Row",s=null,e="BusinessUnit";if(r==="Business.Department"&&(u="Business.Department.Row",e="BusinessUnit"),r==="Business.Team"&&(u="Business.Area.Row",e="Area"),r==="Business.Process"&&(u="Business.SubArea.Row",e="SubArea"),!u){console.log(`${i}element parameter missing`);return}const l=document.getElementById("Settings.PlatformSetup.BusinessUnits.Container");const h=l.querySelector('[name="'+e+'"]');if(!h){console.log(`${i}Element with name ${h} missing`);return}const c=h.querySelector(`[name="${"List"}"]`);if(!c){console.log(`${i}Element with name ${u} missing`);return}if(SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.DeSelectrRows(c),o=c.children,o.length<2){console.log(`${i}Listlength is less than 2`);return}f=o[o.length-2];r==="Business.Team"&&(t=f.querySelector('input[name="Business.Team.DepartmentId"]'),t&&(s=t.value));r==="Business.Process"&&(t=f.querySelector('input[name="Business.Process.TeamId"]'),t&&(s=t.value));f.parentNode.removeChild(f);SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.CreateRow(n,s)},CreateRow:function(n,t){const f=n.getAttribute("name");let c="Business.Department.Row",s="BusinessUnit",h="Business.Department.Name",l="Area",a="Business.Department.Id";f==="Business.Department"&&(c="Business.Department.Row",s="BusinessUnit",l="Area",h="Business.Department.Name",a="Business.Department.Id");f==="Business.Team"&&(c="Business.Area.Row",s="Area",l="SubArea",h="Business.Team.Name",a="Business.Team.Id",intparentID="Business.Team.DepartmentId");f==="Business.Process"&&(c="Business.SubArea.Row",s="SubArea",l="",h="Business.Process.Name",a="Business.Process.Id",intparentID="Business.Process.TeamId");const it=n.getAttribute("url"),v=n.getAttribute("id"),u=document.createElement("div");u.classList.add("row","selectedRow");u.setAttribute("name",c);u.style.width="100%";u.style.marginLeft="0px";u.style.padding="0px";u.setAttribute("id",v);const i=document.createElement("div");i.classList.add("col-11");i.style.padding="10px 15px";i.setAttribute("id",v);i.setAttribute("url",it);i.setAttribute("column",s);i.setAttribute("name",f);i.setAttribute("targetname",l);i.setAttribute("dblclick","SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Dbl_Click(event)");const e=document.createElement("div");e.setAttribute("name",h);e.setAttribute("role","textbox");e.classList.add("child-div");e.style.color="#353535";const b=n.querySelector('[name="'+h+'"][role="textbox"]');if(b){e.textContent=b.textContent;i.appendChild(e);const y=document.createElement("input");y.name="NameOld";y.type="hidden";y.value=b.textContent;i.appendChild(y);const p=document.createElement("input");if(p.name=a,p.type="hidden",p.value=v,i.appendChild(p),f==="Business.Team"||f==="Business.Process"){const n=document.createElement("input");n.name=intparentID;n.type="hidden";n.value=t;i.appendChild(n)}const o=document.createElement("div");o.classList.add("col-1");o.style.padding="10px 5px";o.setAttribute("name",f);o.setAttribute("id",v);const k=document.createElement("span");k.setAttribute("title","Delete");const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg");r.setAttribute("width","16");r.setAttribute("height","16");r.setAttribute("fill","currentColor");r.classList.add("bi","bi-trash","child-div");r.setAttribute("viewBox","0 0 16 16");r.style.color="#A1A1AE";r.setAttribute("onclick","SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Delete_Click();");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z");const nt=document.createElementNS("http://www.w3.org/2000/svg","path");nt.setAttribute("d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z");r.appendChild(g);r.appendChild(nt);k.appendChild(r);o.appendChild(k);u.appendChild(i);u.appendChild(o);const w=document.createElement("hr");w.style.margin="0px";w.style.color="#5f5f5f";w.style.backgroundColor="#5f5f5f";u.appendChild(w);const rt=document.getElementById("Settings.PlatformSetup.BusinessUnits.Container");const d=rt.querySelector('[name="'+s+'"]');if(!d){console.log(`${logPrefix}Element with name ${d} missing`);return}const tt=d.querySelector(`[name="${"List"}"]`),ut=tt.lastElementChild;tt.insertBefore(u,ut);i.addEventListener("click",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Select_Click);i.addEventListener("dblclick",SilkFlo.ViewModels.Settings.PlatformSetup.BusinessUnits.Dbl_Click)}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup={SubTabAutoSelector:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SubTabAutoSelector: ",r="Settings.PlatformSetup",u=document.getElementById(r);if(!u){console.log(`${i}Element with id ${r} missing`);return}let n="Settings.PlatformSetup.CostSetup.SoftwareVendor.Tab";const t=window.location.pathname.toLowerCase();if(t.indexOf("cost-setup")!==-1){t.indexOf("initial-costs")>-1?n="Settings.PlatformSetup.CostSetup.InitialCosts.Tab":t.indexOf("other-running-costs")>-1?n="Settings.PlatformSetup.CostSetup.OtherRunningCosts.Tab":t.indexOf("running-costs")>-1&&(n="Settings.PlatformSetup.CostSetup.RunningCosts.Tab");const f=u.querySelector(`[name="${n}"]`);if(!f){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.TabBar.SelectorByElement(f)}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup||(SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts={IsNew:null,SelectedRow:null,EditRow:null,IsLoading:!1,GetParent:function(){const n="Settings.PlatformSetup.PlatformSetup.CostSetup.InitialCosts.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const r=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();if(r){const u="Message",i=r.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SetMessage: "}Element with name ${u} missing`);return}i.setAttribute("class",t);i.innerHTML=n}},UpdateNewButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="NewButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.UpdateNewButtonToolTip: "}Element with name ${r} missing`);return}this.NewToolTip=n;this.NewButtonElement=t;t.onmousemove=this.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},UpdateEditButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="EditButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.UpdateEditButtonToolTip: "}Element with name ${r} missing`);return}this.EditToolTip=n;this.EditButtonElement=t;t.onmousemove=this.ShowEditToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},ShowEditToolTip:function(){const n=this.EditToolTip,t=this.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowNewToolTip:function(){const n=this.NewToolTip,t=this.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","EditButton","DeleteButton","SaveButton","CancelButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.EditButton.classList.add("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}this.IsNew||this.EditRow?n.NewButton.classList.add("hide"):n.NewButton.classList.remove("hide");this.SelectedRow?(n.EditButton.classList.remove("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.remove("hide")):this.EditRow?(n.EditButton.classList.add("hide"),n.CancelButton.classList.remove("hide"),n.SaveButton.classList.remove("hide"),n.DeleteButton.classList.add("hide")):(n.EditButton.classList.add("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.add("hide"))}},New_Click:function(){const n=this.GetParent();if(n){this.Cancel_Click();this.IsLoading=!0;this.UpdateView();const t=n.querySelector("tbody");SilkFlo.DataAccess.AppendElement("/api/settings/Tenant/platformSetup/CostSetup/InitialCosts/NewRow",null,t,this.New_CallBack,!0)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();if(n){const t=n.querySelector("tbody"),i=t.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.IsLoading=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SelectRow_Click(i);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Edit_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.IsNew=!0;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.UpdateView()}},Cancel_Click:function(){if(this.EditRow&&!this.EditRow.isEqualNode(this.SelectedRow)){const t=this.EditRow;if(this.EditRow=null,this.SelectedRow=t,this.IsNew){t.remove();this.SelectedRow=null;this.IsNew=!1;this.UpdateView();return}t.classList.remove("edit");SilkFlo.Models.Abstract.GetModelFromParent(t,["Name","RoleId","CostDisplay","Cost","MonthlyCostDisplay","MonthlyCost","AnnualCostDisplay","AnnualCost"],"Business.RoleCost.");const n=t.ModelElements,i=n.Name.getAttribute("oldId");n.RoleId.value=i;let r=n.CostDisplay.getAttribute("old");n.Cost.innerHTML=r;n.MonthlyCost.innerHTML=n.MonthlyCostDisplay.getAttribute("old");n.AnnualCost.innerHTML=n.AnnualCostDisplay.getAttribute("old");window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();this.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;this.Cancel_Click();const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Edit_Click:function(){this.Cancel_Click();const n=this.SelectedRow;if(this.EditRow=n,this.SelectedRow=null,!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Edit_Click: "}this.SelectedRow missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(n,["Cost","MonthlyCost","AnnualCost"],"Business.RoleCost.");n.classList.add("edit");this.IsNew=!1;Delaney.UI.ToolTip.Hide();this.UpdateView()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Cancel_Click()},Dbl_Click:function(n){this.SelectRow_Click(n);this.Edit_Click()},Save_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Save_Click: ";if(!this.EditRow){console.log(`${t}this.EditRow parameter missing`);return}const i=this.EditRow,n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","RoleId","Cost"],"Business.RoleCost.");if(!n){console.log(t+"Model is missing");return}if(!n.RoleId){this.SetMessage("Please select a role","text-warning");return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.InitialCosts.Container","/api/Business/RoleCost/Post","POST")},Save_CallBack:function(n){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Save_CallBack: ";if(!n){SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Cancel_Click();return}const u=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.EditRow;if(!u){console.log(`${r}this.EditRow missing`);return}if(SilkFlo.Models.Abstract.GetModelFromParent(u,["Id","Name","RoleId","CostDisplay","Cost","Cost_Container","MonthlyCostDisplay","MonthlyCost","MonthlyCost_Container","AnnualCostDisplay","AnnualCost","AnnualCost_Container"],"Business.RoleCost."),!u.ModelElements){console.log(`${r}ModelElements missing`);return}const t=u.ModelElements,h=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();let o="Business.InitialCosts.Currency";const s=h.querySelector(`[name="${o}"]`);if(!s){console.log(`${r}Element with name ${o} missing`);return}t.Name.setAttribute("oldId",t.RoleId.value);const f=t.RoleId.options[t.RoleId.selectedIndex];console.log(r+"selectedOption.text = "+f.text);t.Name.innerHTML=f.text;t.Name.setAttribute("old",f.text);let e=s.value,i=t.Cost.innerHTML;if(t.CostDisplay.setAttribute("old",i),t.CostDisplay.innerHTML=`${e}&nbsp;${i}`,i=t.MonthlyCost.innerHTML,t.MonthlyCostDisplay.setAttribute("old",i),t.MonthlyCostDisplay.innerHTML=`${e}&nbsp;${i}`,i=t.AnnualCost.innerHTML,t.AnnualCostDisplay.setAttribute("old",i),t.AnnualCostDisplay.innerHTML=`${e}&nbsp;${i}`,SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.IsNew){if(!t.Id){console.log(`${r}Element.Id missing`);return}t.Id.innerHTML=n}SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.IsNew=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Cancel_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SetMessage("Saved","text-success")},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Delete_Click: ",i=this.SelectedRow;if(!i){console.log(t+"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SelectedRow missing");return}const n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name"],"Business.RoleCost.");if(!n||!n.Id){console.log(t+"Cannot find software vender Id");return}if(!n.Name){console.log(t+"Cannot find software vender");return}const r=`/api/Business/RoleCost/Delete/${n.Id}`;SilkFlo.Models.Abstract.Delete(r,`${n.Name}`,"",this.Delete_Callback,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.InitialCosts.Container")},Delete_Callback:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Delete_Callback: this.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");setTimeout(function(){n.classList.remove("glow-border-red");n.remove()},1e3);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.SelectedRow=null;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.UpdateView()},Search:function(n,t,i){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Search: ";if(!i){console.log(`${r}targetElementId parameter missing`);return}const f=document.getElementById(i);if(!f){console.log(`${r}Element with id ${i} missing`);return}if(!n){const t="Settings.PlatformSetup.CostSetup.InitialCosts.Search",i=document.getElementById(t);if(!i){console.log(`${r}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/settings/Tenant/platformSetup/CostSetup/InitialCosts";o&&(u+=`/Search/${n}`);e&&(u+=`/page/${t}`);this.SelectedRow=null;SilkFlo.DataAccess.UpdateElement(u,null,f,"","GET",this.SearchResultCallBack)},Cost_OnInput:function(n){const f="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.Cost_OnInput: ",e=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();if(e){const t=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.EditRow;if(t){const o="Business.InitialCosts.AverageWorkingDay",s=e.querySelector(`[name="${o}"]`);if(!s){console.log(`${f}Element with name ${o} missing`);return}if(SilkFlo.Models.Abstract.GetModelFromParent(t,["MonthlyCost","AnnualCost"],"Business.RoleCost."),!t.ModelElements){console.log(`${f}ModelElements missing`);return}const h=t.ModelElements,c=n.target.innerHTML;let i=s.value;i&&i!=="0"||(i=260);let r=i*c,u=r/12;r=r.toFixed(2);u=u.toFixed(2);h.AnnualCost.innerHTML=r;h.MonthlyCost.innerHTML=u}}},MonthlyCost_OnInput:function(n){const f="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.MonthlyCost_OnInput: ",e=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();if(e){const o="Business.InitialCosts.AverageWorkingDay",s=e.querySelector(`[name="${o}"]`);if(!s){console.log(`${f}Element with name ${o} missing`);return}const t=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.EditRow;if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["Cost","AnnualCost"],"Business.RoleCost."),!t.ModelElements){console.log(`${f}ModelElements missing`);return}const h=t.ModelElements,c=n.target.innerHTML;let i=s.value;i&&i!=="0"||(i=260);let r=c*12,u=r/i;r=r.toFixed(2);u=u.toFixed(2);h.AnnualCost.innerHTML=r;h.Cost.innerHTML=u}}},AnnualCost_OnInput:function(n){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.AnnualCost_OnInput: ",u=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.GetParent();if(u){let f="Business.InitialCosts.AverageWorkingDay";const e=u.querySelector(`[name="${f}"]`);if(!e){console.log(`${r}Element with name ${f} missing`);return}const t=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.InitialCosts.EditRow;if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["Cost","MonthlyCost"],"Business.RoleCost."),!t.ModelElements){console.log(`${r}ModelElements missing`);return}const o=t.ModelElements,s=n.target.innerHTML;let i=e.value;i&&i!=="0"||(i=260);const h=s/i,c=s/12;o.Cost.innerHTML=h.toFixed(2);o.MonthlyCost.innerHTML=c.toFixed(2)}}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup||(SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts={IsNew:null,SelectedRow:null,EditRow:null,IsLoading:!1,GetParent:function(){const n="Settings.PlatformSetup.PlatformSetup.CostSetup.OtherRunningCosts.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t=""){const u=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.GetParent(),r="Message",i=u.querySelector(`[name="${r}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SetMessage: "}Element with name ${r} missing`);return}i.setAttribute("class",t);i.innerHTML=n},UpdateNewButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="NewButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.UpdateNewButtonToolTip: "}Element with name ${r} missing`);return}this.NewToolTip=n;this.NewButtonElement=t;t.onmousemove=this.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},UpdateEditButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="EditButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.UpdateEditButtonToolTip: "}Element with name ${r} missing`);return}this.EditToolTip=n;this.EditButtonElement=t;t.onmousemove=this.ShowEditToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},ShowEditToolTip:function(){const n=this.EditToolTip,t=this.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowNewToolTip:function(){const n=this.NewToolTip,t=this.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","EditButton","DeleteButton","SaveButton","CancelButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.EditButton.classList.add("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}this.IsNew||this.EditRow?n.NewButton.classList.add("hide"):n.NewButton.classList.remove("hide");this.SelectedRow?(n.EditButton.classList.remove("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.remove("hide")):this.EditRow?(n.EditButton.classList.add("hide"),n.CancelButton.classList.remove("hide"),n.SaveButton.classList.remove("hide"),n.DeleteButton.classList.add("hide")):(n.EditButton.classList.add("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.add("hide"))}},New_Click:function(){const n=this.GetParent();if(n){this.Cancel_Click();this.IsLoading=!0;this.UpdateView();const t=n.querySelector("tbody");SilkFlo.DataAccess.AppendElement("/api/settings/Tenant/platformSetup/CostSetup/OtherRunningCosts/NewRow",null,t,this.New_CallBack,!0)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.GetParent();if(n){const t=n.querySelector("tbody"),i=t.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.IsLoading=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SelectRow_Click(i);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Edit_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.IsNew=!0;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.UpdateView()}},Cancel_Click:function(){if(this.EditRow&&!this.EditRow.isEqualNode(this.SelectedRow)){const i=this.EditRow;if(this.EditRow=null,this.SelectedRow=i,this.IsNew){i.remove();this.SelectedRow=null;this.IsNew=!1;this.UpdateView();return}if(i.classList.remove("edit"),SilkFlo.Models.Abstract.GetModelFromParent(i,["NameDisplay","Name","CostTypeName","CostTypeId","DescriptionDisplay","Description","FrequencyName","FrequencyId","CostDisplay","Cost","AnnualCostDisplay","AnnualCost","IsLive"],"Business.OtherRunningCost."),!i.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Cancel_Click: "}ModelElements missing`);return}const n=i.ModelElements;let t=n.NameDisplay.getAttribute("old");n.Name.value=t;let r=n.CostTypeName.getAttribute("oldId");n.CostTypeId.value=r;t=n.DescriptionDisplay.getAttribute("old");n.Description.value=t;r=n.FrequencyName.getAttribute("oldId");n.FrequencyId.value=r;t=n.CostDisplay.getAttribute("old");n.Cost.value=t;t=n.AnnualCostDisplay.getAttribute("old");n.AnnualCost.value=t;n.IsLive.setAttribute("disabled","");t=n.IsLive.getAttribute("old");n.IsLive.checked=t==="True"?!0:!1;n.IsLive.value=t;this.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;this.Cancel_Click();const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Edit_Click:function(){this.Cancel_Click();const n=this.SelectedRow;if(this.EditRow=n,this.SelectedRow=null,!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Edit_Click: "}this.SelectedRow missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(n,["Name","Description","Cost","AnnualCost","IsLive"],"Business.OtherRunningCost.");const t=n.ModelElements;t.IsLive.removeAttribute("disabled");n.classList.add("edit");this.IsNew=!1;t.Name.onkeydown=this.KeyPress;t.Description.onkeydown=this.KeyPress;Delaney.UI.ToolTip.Hide();this.UpdateView()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Cancel_Click()},Dbl_Click:function(n){this.SelectRow_Click(n);this.Edit_Click()},Save_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Save_Click: ";if(!this.EditRow){console.log(`${t}this.EditRow parameter missing`);return}const i=this.EditRow,n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name","CostTypeId","Description","FrequencyId","Cost","AnnualCost","IsLive"],"Business.OtherRunningCost.");if(!n){console.log(t+"Model is missing");return}if(!n.Name){this.SetMessage("The cost name is missing","text-warning");return}if(!n.Description){this.SetMessage("The description is missing","text-warning");return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.OtherRunningCosts.Container","/api/Business/otherRunningCost/Post","POST")},Save_CallBack:function(n){const f="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Save_CallBack: ";if(!n){SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Cancel_Click();return}const e=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.EditRow;if(!e){console.log(`${f}this.EditRow missing`);return}const o=SilkFlo.Models.Abstract.GetModelFromParent(e,["NameDisplay","Name","CostTypeName","CostTypeId","DescriptionDisplay","Description","FrequencyName","FrequencyId","Cost","CostDisplay","AnnualCost","AnnualCostDisplay","IsLive"],"Business.OtherRunningCost."),t=e.ModelElements;if(!t){console.log(f+"Row elements missing");return}const l=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.GetParent();let r="Business.OtherRunningCosts.Currency";const h=l.querySelector(`[name="${r}"]`);if(!h){console.log(`${f}Element with name ${r} missing`);return}let i=o.Name;t.NameDisplay.innerHTML=i;t.NameDisplay.setAttribute("old",i);i=o.CostTypeId;t.CostTypeName.setAttribute("oldId",i);let u=t.CostTypeId.options[t.CostTypeId.selectedIndex];t.CostTypeName.innerHTML=u.text;t.CostTypeName.setAttribute("old",u.text);i=o.Description;t.DescriptionDisplay.innerHTML=i;t.DescriptionDisplay.setAttribute("old",i);t.FrequencyName.setAttribute("oldId",o.FrequencyId);u=t.FrequencyId.options[t.FrequencyId.selectedIndex];t.FrequencyName.innerHTML=u.text;t.FrequencyName.setAttribute("old",u.text);let c=h.value;i=t.Cost.innerHTML;t.CostDisplay.setAttribute("old",i);t.CostDisplay.innerHTML=`${c}&nbsp;${i}`;i=t.AnnualCost.innerHTML;t.AnnualCostDisplay.setAttribute("old",i);t.AnnualCostDisplay.innerHTML=`${c}&nbsp;${i}`;t.IsLive.setAttribute("disabled","");let s="False";if(t.IsLive.checked&&(s="True"),t.IsLive.value=s,t.IsLive.setAttribute("old",s),SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.IsNew){r="Business.OtherRunningCost.Id";const t=e.querySelector(`[name="${r}"]`);if(!t){console.log(`${f}Element with name ${r} missing`);return}t.innerHTML=n}SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.IsNew=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Cancel_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SetMessage("Saved","text-success")},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Delete_Click: ",i=this.SelectedRow;if(!i){console.log(t+"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SelectedRow missing");return}const n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name"],"Business.OtherRunningCost.");if(!n||!n.Id){console.log(t+"Cannot find other running cost Id");return}if(!n.Name){console.log(t+"Cannot find other running cost");return}const r=`/api/Business/OtherRunningCost/Delete/${n.Id}`;SilkFlo.Models.Abstract.Delete(r,n.Name,"",this.Delete_Callback,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.OtherRunningCosts.Container")},Delete_Callback:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Delete_Callback: this.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");setTimeout(function(){n.classList.remove("glow-border-red");n.remove()},1e3);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.SelectedRow=null;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.UpdateView()},Search:function(n,t,i){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Search: ";if(!i){console.log(`${r}targetElementId parameter missing`);return}const f=document.getElementById(i);if(!f){console.log(`${r}Element with id ${i} missing`);return}if(!n){const t="Settings.PlatformSetup.CostSetup.OtherRunningCosts.Search",i=document.getElementById(t);if(!i){console.log(`${r}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/settings/Tenant/platformSetup/CostSetup/OtherRunningCosts";o&&(u+=`/Search/${n}`);e&&(u+=`/page/${t}`);this.SelectedRow=null;SilkFlo.DataAccess.UpdateElement(u,null,f,"","GET",this.SearchResultCallBack)},Frequency_OnInput:function(n){const t=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.EditRow;if(t){const i=SilkFlo.Models.Abstract.GetModelFromParent(t,["Cost","AnnualCost"],"Business.OtherRunningCost.");if(!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Frequency_OnInput: "}ModelElements missing`);return}const r=t.ModelElements;i.Cost*=n.target.value==="Monthly"?12:1;let u=SilkFlo.FormatNumber(i.Cost);r.AnnualCost.value=i.Cost;r.AnnualCost.innerHTML=u}},Cost_OnInput:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.EditRow;if(n){const t=SilkFlo.Models.Abstract.GetModelFromParent(n,["FrequencyId","AnnualCost","Cost"],"Business.OtherRunningCost.");if(!n.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.Cost_OnInput: "}ModelElements missing`);return}const i=n.ModelElements;t.Cost*=t.FrequencyId==="Monthly"?12:1;const r=SilkFlo.FormatNumber(t.Cost);i.AnnualCost.value=t.Cost;i.AnnualCost.innerHTML=r}},AnnualCost_OnInput:function(){const t=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.EditRow;if(t){const n=SilkFlo.Models.Abstract.GetModelFromParent(t,["FrequencyId","AnnualCost","Cost"],"Business.OtherRunningCost.");if(!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.OtherRunningCosts.AnnualCost_OnInput: "}ModelElements missing`);return}const i=t.ModelElements;n.FrequencyId==="Monthly"?n.AnnualCost/=12:n.AnnualCost*=1;const r=SilkFlo.FormatNumber(n.AnnualCost);i.Cost.value=n.AnnualCost;i.Cost.innerHTML=r}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup||(SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts={IsNew:null,SelectedRow:null,EditRow:null,IsLoading:!1,GetParent:function(){const n="Settings.PlatformSetup.PlatformSetup.CostSetup.RunningCosts.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const u=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.GetParent(),r="Message",i=u.querySelector(`[name="${r}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SetMessage: "}Element with name ${r} missing`);return}i.setAttribute("class",t);i.innerHTML=n},UpdateNewButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="NewButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.UpdateNewButtonToolTip: "}Element with name ${r} missing`);return}this.NewToolTip=n;this.NewButtonElement=t;t.onmousemove=this.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},UpdateEditButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="EditButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.UpdateEditButtonToolTip: "}Element with name ${r} missing`);return}this.EditToolTip=n;this.EditButtonElement=t;t.onmousemove=this.ShowEditToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},ShowEditToolTip:function(){const n=this.EditToolTip,t=this.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowNewToolTip:function(){const n=this.NewToolTip,t=this.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","EditButton","DeleteButton","SaveButton","CancelButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.EditButton.classList.add("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}this.IsNew||this.EditRow?n.NewButton.classList.add("hide"):n.NewButton.classList.remove("hide");this.SelectedRow?(n.EditButton.classList.remove("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.remove("hide")):this.EditRow?(n.EditButton.classList.add("hide"),n.CancelButton.classList.remove("hide"),n.SaveButton.classList.remove("hide"),n.DeleteButton.classList.add("hide")):(n.EditButton.classList.add("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.add("hide"))}},New_Click:function(){const n=this.GetParent();if(n){this.IsLoading=!0;this.Cancel_Click();const t=n.querySelector("tbody");SilkFlo.DataAccess.AppendElement("/api/settings/Tenant/platformSetup/CostSetup/RunningCosts/NewRow",null,t,this.New_CallBack,!0)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.GetParent();if(n){const t=n.querySelector("tbody"),i=t.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.IsLoading=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SelectRow_Click(i);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Edit_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.IsNew=!0;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.UpdateView()}},Cancel_Click:function(){if(this.EditRow&&!this.EditRow.isEqualNode(this.SelectedRow)){const i=this.EditRow;if(this.EditRow=null,this.SelectedRow=i,this.IsNew){i.remove();this.SelectedRow=null;this.IsNew=!1;this.UpdateView();return}if(i.classList.remove("edit"),SilkFlo.Models.Abstract.GetModelFromParent(i,["VenderName","VenderId","AutomationTypeName","AutomationTypeId","LicenceTypeDisplay","LicenceType","FrequencyName","FrequencyId","CostDisplay","Cost","AnnualCostDisplay","AnnualCost","IsLive"],"Business.RunningCost."),!i.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Cancel_Click: "}ModelElements missing`);return}const n=i.ModelElements;let r=n.VenderName.getAttribute("oldId");n.VenderId.value=r;r=n.AutomationTypeName.getAttribute("oldId");n.AutomationTypeId.value=r;let t=n.LicenceTypeDisplay.getAttribute("old");n.LicenceType.value=t;r=n.FrequencyName.getAttribute("oldId");n.FrequencyId.value=r;t=n.CostDisplay.getAttribute("old");n.Cost.value=t;t=n.AnnualCostDisplay.getAttribute("old");n.AnnualCost.value=t;window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();n.IsLive.setAttribute("disabled","");t=n.IsLive.getAttribute("old");n.IsLive.checked=t==="True"?!0:!1;n.IsLive.value=t;this.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;this.Cancel_Click();const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Edit_Click:function(){this.Cancel_Click();const n=this.SelectedRow;if(this.EditRow=n,this.SelectedRow=null,!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Edit_Click: "}this.SelectedRow missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(n,["IsLive","LicenceType","Cost","AnnualCost"],"Business.RunningCost.");const t=n.ModelElements;t.IsLive.removeAttribute("disabled");n.classList.add("edit");this.IsNew=!1;t.LicenceType.onkeydown=this.KeyPress;Delaney.UI.ToolTip.Hide();this.UpdateView()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Cancel_Click()},Dbl_Click:function(n){this.SelectRow_Click(n);this.Edit_Click()},Save_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Save_Click: ";if(!this.EditRow){console.log(`${t}this.EditRow parameter missing`);return}const i=this.EditRow,n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","VenderId","AutomationTypeId","LicenceType","FrequencyId","Cost","IsLive"],"Business.RunningCost.");if(!n){console.log(t+"Model is missing");return}if(!n.VenderId){this.SetMessage("Please select a software vender","text-warning");return}if(!n.AutomationTypeId){this.SetMessage("Please select an automation type","text-warning");return}if(!n.LicenceType){this.SetMessage("Please provide a licence type","text-warning");return}const r=document.querySelectorAll('table[name="Business.RunningCosts"] tbody tr:not(:first-child)'),u=Array.from(r).some(t=>{const i=t.querySelector('select[name="Business.RunningCost.VenderId"]').value.toLowerCase(),r=t.querySelector('select[name="Business.RunningCost.AutomationTypeId"]').value.toLowerCase(),u=t.querySelector('div[name="Business.RunningCost.LicenceType"]').textContent.trim().toLowerCase();return i===n.VenderId.toLowerCase()&&r===n.AutomationTypeId.toLowerCase()&&u===n.LicenceType.toLowerCase()});if(u){bootbox.dialog({title:`Duplicate`,message:`It looks like this running cost is a duplicate. Please adjust your entry to ensure it's unique.`,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Ok",className:"btn-danger"}}});return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.RunningCosts.Container","/api/Business/runningCost/Post","POST")},Save_CallBack:function(n){const f="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Save_CallBack: ";if(!n){SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Cancel_Click();return}const e=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.EditRow;if(!e){console.log(`${f}this.EditRow missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(e,["VenderId","VenderName","AutomationTypeName","AutomationTypeId","LicenceType","LicenceTypeDisplay","FrequencyName","FrequencyId","Cost","CostDisplay","AnnualCost","AnnualCostDisplay","IsLive"],"Business.RunningCost.");const t=e.ModelElements;if(!t){console.log(f+"Row elements missing");return}const c=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.GetParent();let u="Business.RunningCosts.Currency";const s=c.querySelector(`[name="${u}"]`);if(!s){console.log(`${f}Element with name ${u} missing`);return}t.VenderName.setAttribute("oldId",t.VenderId.value);let i=t.VenderId.options[t.VenderId.selectedIndex];t.VenderName.innerHTML=i.text;t.VenderName.setAttribute("old",i.text);t.AutomationTypeName.setAttribute("oldId",t.AutomationTypeId.value);i=t.AutomationTypeId.options[t.AutomationTypeId.selectedIndex];t.AutomationTypeName.innerHTML=i.text;t.AutomationTypeName.setAttribute("old",i.text);let r=t.LicenceType.innerHTML;t.LicenceTypeDisplay.innerHTML=r;t.LicenceTypeDisplay.setAttribute("old",r);t.FrequencyName.setAttribute("oldId",t.FrequencyId.value);i=t.FrequencyId.options[t.FrequencyId.selectedIndex];t.FrequencyName.innerHTML=i.text;t.FrequencyName.setAttribute("old",i.text);let h=s.value;r=t.Cost.innerHTML;t.CostDisplay.setAttribute("old",r);t.CostDisplay.innerHTML=`${h}&nbsp;${r}`;r=t.AnnualCost.innerHTML;t.AnnualCostDisplay.setAttribute("old",r);t.AnnualCostDisplay.innerHTML=`${h}&nbsp;${r}`;t.IsLive.setAttribute("disabled","");let o="False";if(t.IsLive.checked&&(o="True"),t.IsLive.value=o,t.IsLive.setAttribute("old",o),SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.IsNew){u="Business.RunningCost.Id";const t=e.querySelector(`[name="${u}"]`);if(!t){console.log(`${f}Element with name ${u} missing`);return}t.innerHTML=n}SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.IsNew=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Cancel_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SetMessage("Saved","text-success")},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Delete_Click: ",i=this.SelectedRow;if(!i){console.log(t+"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SelectedRow missing");return}const n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","VenderName","AutomationTypeName"],"Business.RunningCost.");if(!n||!n.Id){console.log(t+"Cannot find software vender Id");return}if(!n.VenderName){console.log(t+"Cannot find software vender");return}const r=`/api/Business/RunningCost/Delete/${n.Id}`;SilkFlo.Models.Abstract.Delete(r,`${n.VenderName}&nbsp;-&nbsp;${n.AutomationTypeName}`,"",this.Delete_Callback,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.RunningCosts.Container")},Delete_Callback:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Delete_Callback: this.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");setTimeout(function(){n.classList.remove("glow-border-red");n.remove()},1e3);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.SelectedRow=null;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.UpdateView()},Search:function(n,t,i){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Search: ";if(!i){console.log(`${r}targetElementId parameter missing`);return}const f=document.getElementById(i);if(!f){console.log(`${r}Element with id ${i} missing`);return}if(!n){const t="Settings.PlatformSetup.CostSetup.RunningCosts.Search",i=document.getElementById(t);if(!i){console.log(`${r}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/settings/Tenant/platformSetup/CostSetup/RunningCosts";o&&(u+=`/Search/${n}`);e&&(u+=`/page/${t}`);this.SelectedRow=null;SilkFlo.DataAccess.UpdateElement(u,null,f,"","GET",this.SearchResultCallBack)},Frequency_OnInput:function(n){const i=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.EditRow;if(i){if(SilkFlo.Models.Abstract.GetModelFromParent(i,["Cost","AnnualCost"],"Business.RunningCost."),!i.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Frequency_OnInput: "}ModelElements missing`);return}const r=i.ModelElements;let t=r.Cost.innerHTML;n.target.value==="Monthly"&&(t=t*12);t=parseFloat(t).toFixed(2);r.AnnualCost.innerHTML=t}},Cost_OnInput:function(n){const i=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.EditRow;if(i){if(SilkFlo.Models.Abstract.GetModelFromParent(i,["FrequencyId","AnnualCost"],"Business.RunningCost."),!i.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.Cost_OnInput: "}ModelElements missing`);return}const r=i.ModelElements;let t=n.target.innerHTML;r.FrequencyId.value==="Monthly"&&(t=t*12);t=parseFloat(t).toFixed(2);r.AnnualCost.innerHTML=t}},AnnualCost_OnInput:function(n){const i=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.EditRow;if(i){if(SilkFlo.Models.Abstract.GetModelFromParent(i,["FrequencyId","Cost",],"Business.RunningCost."),!i.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.RunningCosts.AnnualCost_OnInput: "}ModelElements missing`);return}const r=i.ModelElements;let t=n.target.innerHTML;r.FrequencyId.value==="monthly"&&(t=t/12);t=parseFloat(t).toFixed(2);r.Cost.innerHTML=t}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Settings||(SilkFlo.ViewModels.Settings={});SilkFlo.ViewModels.Settings.PlatformSetup||(SilkFlo.ViewModels.Settings.PlatformSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup||(SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup={});SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender={IsNew:null,SelectedRow:null,EditRow:null,IsLoading:!1,GetParent:function(){const n="Settings.PlatformSetup.PlatformSetup.CostSetup.SoftwareVendor.Container",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const r=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.GetParent();if(r){const u="Message",i=r.querySelector(`[name="${u}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SetMessage: "}Element with name ${u} missing`);return}i.setAttribute("class",t);i.innerHTML=n}},UpdateNewButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="NewButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.UpdateNewButtonToolTip: "}Element with name ${r} missing`);return}this.NewToolTip=n;this.NewButtonElement=t;t.onmousemove=this.ShowNewToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},UpdateEditButtonToolTip:function(n){if(n){const i=this.GetParent();if(i){const r="EditButton",t=i.querySelector(`[name="${r}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.UpdateEditButtonToolTip: "}Element with name ${r} missing`);return}this.EditToolTip=n;this.EditButtonElement=t;t.onmousemove=this.ShowEditToolTip;t.onmouseout=Delaney.UI.ToolTip.Hide}}},ShowEditToolTip:function(){const n=this.EditToolTip,t=this.EditButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},ShowNewToolTip:function(){const n=this.NewToolTip,t=this.NewButtonElement;Delaney.UI.ToolTip.Show(event,n,t)},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","EditButton","DeleteButton","SaveButton","CancelButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.EditButton.classList.add("hide");n.CancelButton.classList.add("hide");n.SaveButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}this.IsNew||this.EditRow?n.NewButton.classList.add("hide"):n.NewButton.classList.remove("hide");this.SelectedRow?(n.EditButton.classList.remove("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.remove("hide")):this.EditRow?(n.EditButton.classList.add("hide"),n.CancelButton.classList.remove("hide"),n.SaveButton.classList.remove("hide"),n.DeleteButton.classList.add("hide")):(n.EditButton.classList.add("hide"),n.CancelButton.classList.add("hide"),n.SaveButton.classList.add("hide"),n.DeleteButton.classList.add("hide"))}},New_Click:function(){const n=this.GetParent();if(n){this.Cancel_Click();this.IsLoading=!0;this.UpdateView();const t=n.querySelector("tbody");SilkFlo.DataAccess.AppendElement("/api/settings/Tenant/platformSetup/CostSetup/SoftwareVender/NewRow",null,t,this.New_CallBack,!0)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.GetParent();if(n){const t=n.querySelector("tbody"),i=t.children[0];SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.IsLoading=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SelectRow_Click(i);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Edit_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.IsNew=!0;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.UpdateView()}},Cancel_Click:function(){if(this.EditRow&&!this.EditRow.isEqualNode(this.SelectedRow)){const t=this.EditRow;if(this.EditRow=null,this.SelectedRow=t,this.IsNew){t.remove();this.SelectedRow=null;this.IsNew=!1;this.UpdateView();return}if(t.classList.remove("edit"),SilkFlo.Models.Abstract.GetModelFromParent(t,["Name","IsLive"],"Business.SoftwareVender."),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Cancel_Click: "}ModelElements missing`);return}const n=t.ModelElements;let i=n.Name.getAttribute("old");n.Name.innerHTML=i;n.Name.removeAttribute("contenteditable");n.IsLive.setAttribute("disabled","");i=n.IsLive.getAttribute("old");n.IsLive.checked=i==="True"?!0:!1;n.IsLive.value=i;window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();this.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;this.Cancel_Click();const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Edit_Click:function(){const i="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Edit_Click: ";this.Cancel_Click();const n=this.SelectedRow;if(this.EditRow=n,this.SelectedRow=null,!n){console.log(`${i}this.SelectedRow missing`);return}if(SilkFlo.Models.Abstract.GetModelFromParent(n,["Name","IsLive"],"Business.SoftwareVender."),!n.ModelElements){console.log(`${i}ModelElements missing`);return}const t=n.ModelElements;if(n.classList.add("edit"),this.IsNew=!1,t.Name.setAttribute("contenteditable",""),t.IsLive.removeAttribute("disabled"),window.getSelection&&document.createRange){const n=document.createRange();n.selectNodeContents(t.Name);const i=window.getSelection();i.removeAllRanges();i.addRange(n)}else if(document.body.createTextRange){const n=document.body.createTextRange();n.moveToElementText(t.Name);n.select()}t.Name.onkeydown=this.KeyPress;t.IsLive.onkeydown=this.KeyPress;Delaney.UI.ToolTip.Hide();this.UpdateView()},Dbl_Click:function(n){this.SelectRow_Click(n);this.Edit_Click()},KeyPress:function(n){n.which===13&&n.preventDefault();n.key==="Enter"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Save_Click();n.key==="Escape"&&SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Cancel_Click()},Save_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Save_Click: ";if(!this.EditRow){console.log(`${t}this.EditRow parameter missing`);return}const i=this.EditRow,n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name","IsLive"],"Business.SoftwareVender.");if(!n){console.log(t+"Model is missing");return}if(!n.Name){this.SetMessage("Please provide a software vender name","text-warning");return}SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Save_CallBack,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.SoftwareVendor.Container","/api/Business/SoftwareVender/Post","POST")},Save_CallBack:function(n){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Save_CallBack: ";if(!n){SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Cancel_Click();return}const i=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.EditRow;if(!i){console.log(`${r}this.EditRow missing`);return}if(SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name","IsLive"],"Business.SoftwareVender."),!i.ModelElements){console.log(`${r}ModelElements missing`);return}const t=i.ModelElements,u=t.Name.innerHTML.trim();if(t.Name.setAttribute("old",u),t.IsLive.checked?t.IsLive.setAttribute("old","True"):t.IsLive.setAttribute("old","False"),SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.IsNew){if(!t.Id){console.log(`${r}Element.Id missing`);return}t.Id.innerHTML=n}SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.IsNew=!1;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Cancel_Click();SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SetMessage("Saved","text-success")},Delete_Click:function(){const t="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Delete_Click: ",i=this.SelectedRow;if(!i){console.log(t+"SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SelectedRow missing");return}const n=SilkFlo.Models.Abstract.GetModelFromParent(i,["Id","Name"],"Business.SoftwareVender.");if(!n||!n.Id){console.log(t+"Cannot find software vender Id");return}if(!n.Name){console.log(t+"Cannot find software vender");return}const r=`/api/Business/SoftwareVender/Delete/${n.Id}`;SilkFlo.Models.Abstract.Delete(r,`${n.Name}`,"",this.Delete_Callback,SilkFlo.DataAccess.Feedback,"Settings.PlatformSetup.PlatformSetup.CostSetup.SoftwareVendor.Container")},Delete_Callback:function(){const n=SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Delete_Callback: this.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");setTimeout(function(){n.classList.remove("glow-border-red");n.remove()},1e3);SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.SelectedRow=null;SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.UpdateView()},Search:function(n,t,i){const r="SilkFlo.ViewModels.Settings.PlatformSetup.CostSetup.SoftwareVender.Search: ";if(!i){console.log(`${r}targetElementId parameter missing`);return}const f=document.getElementById(i);if(!f){console.log(`${r}Element with id ${i} missing`);return}if(!n){const t="Settings.PlatformSetup.CostSetup.SoftwareVender.Search",i=document.getElementById(t);if(!i){console.log(`${r}Element with id ${t} missing`);return}n=i.value}let e=!0;(t===undefined||t===null||t===""||t==="1")&&(e=!1);let o=!0;n||(o=!1);let u="/api/settings/Tenant/platformSetup/CostSetup/SoftwareVenders";o&&(u+=`/Search/${n}`);e&&(u+=`/page/${t}`);this.SelectedRow=null;SilkFlo.DataAccess.UpdateElement(u,null,f,"","GET",this.SearchResultCallBack)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.User={UpdateUIComponents:function(){SilkFlo.DataAccess.UpdateElementFromAttribute("userProfileSummary")},Search:function(n,t,i,r,u=10){const f=`/api/user/search/${n}/page/${t}/PageCount/${i}/PageSize/${u}`;SilkFlo.DataAccess.UpdateElementById(f,null,r)}};SilkFlo.ViewModels.User.TeamMember={GetParent:function(){const n="TeamMember.Body",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.User.TeamMember.GetParent: "}Element with id ${n} missing`),null;return t},ShowMessage:function(n){const t=this.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.User.TeamMember.ShowMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},Invite:function(){const n="SilkFlo.ViewModels.User.TeamMember.Invite: ",t=this.GetParent();if(t){const i="ModalInviteTeamMember",r=document.getElementById(i);if(!r){console.log(`${n}Element with id ${i} missing`);return}const u="Modal.Invite.TeamMember.Send",f=r.querySelector(`[name="${u}"]`);if(!f){console.log(`${n}Element with name ${u} missing`);return}f.disabled=!1;SilkFlo.DataAccess.UpdateElement("/api/User/GetInviteTeamMemberModalBody",null,t)}},Post:function(){const n=this.GetParent();if(n){this.ShowMessage("");const t=SilkFlo.Models.Abstract.GetModelFromParent(n,["FirstName","LastName","EmailPrefix"],n.id+".");SilkFlo.Models.Abstract.Save(t,SilkFlo.ViewModels.User.TeamMember.PostCallBack,SilkFlo.DataAccess.Feedback,n.id,"/api/User/PostInviteTeamMember")}},PostCallBack:function(n){const i="ModalInviteTeamMember",t=document.getElementById(i);if(!t){console.log(`${logPrefix}Element with id ${i} missing`);return}SilkFlo.DataAccess.Feedback(n,t.id);const r="Modal.Invite.TeamMember.Send",u=t.querySelector(`[name="${r}"]`);if(!u){console.log(`${logPrefix}Element with name ${r} missing`);return}u.disabled=!0;setTimeout(SilkFlo.ViewModels.User.TeamMember.CloseModal,1500)},CloseModal:function(){const n=document.getElementById("ModalInviteTeamMember"),t=bootstrap.Modal.getInstance(n);t.hide()}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.UserProfile={GetParent:function(){const n="UserProfile.User",t=document.getElementById(n);if(t)return t;return console.log(`${"SilkFlo.ViewModels.UserProfile.GetParent: "}element with id ${n} missing`),null},Validate:function(){const u="SilkFlo.ViewModels.UserProfile.Validate: ",n=SilkFlo.ViewModels.UserProfile.GetParent();if(!n)return!1;const e="UserProfile.User.EmailNewPrefix_InvalidFeedback",t=document.getElementById(e);if(!t)return console.log(`${u}Element with id ${e} missing`),!1;SilkFlo.ViewModels.UserProfile.ClearErrorMessages();const i=SilkFlo.Models.User.GetModelFromParent(n,["Id","About","DepartmentId","EmailNewPrefix","EmailPrefix","FirstName","LastName","LocationId","ManagerId"],"UserProfile.User.");if(!i)return console.log(u+"model missing"),!1;let r=!0;if(i.EmailNewPrefix)n.ModelElements.EmailNewPrefix.classList.remove("is-invalid");else{if(t.innerHTML="The email address is not present.",!n.ModelElements)return console.log(u+"parent.ModelElements missing"),!1;if(!n.ModelElements.EmailNewPrefix)return console.log(u+"parent.ModelElements.EmailNewPrefix missing"),!1;n.ModelElements.EmailNewPrefix.classList.add("is-invalid");r=!1}let f=i.EmailNewPrefix;if(f){f.indexOf("@")===-1&&(f+="@a.a");const i=SilkFlo.Models2.User.ValidateEmail(f);i?(t.innerHTML=i,n.ModelElements.EmailNewPrefix.classList.add("is-invalid"),t.style.display="block",r=!1):(n.ModelElements.EmailNewPrefix.classList.remove("is-invalid"),t.style.display="")}else t.innerHTML="Email address missing.",n.ModelElements.EmailNewPrefix.classList.add("is-invalid"),t.style.display="block",r=!1;return i.FirstName||i.LastName||(SilkFlo.ViewModels.UserProfile.AddErrorMessage("Both the first and last names are not present.","User_errors"),r=!1),r},ClearErrorMessages:function(){const n="UserProfile.User.Errors",t=document.getElementById(n);if(!t){console.log("SilkFlo.ViewModels.UserProfile.AddErrorMessage: element with id "+n+" missing");return}t.innerHTML=""},AddErrorMessage:function(n,t){const r=document.getElementById(t);if(!r){console.log("SilkFlo.ViewModels.UserProfile.AddErrorMessage: element with id "+t+" missing");return}const i=document.createElement("p");i.classList.add("text-danger");i.innerHTML=n;r.appendChild(i)},ConfirmEmailChange_Click:function(){window.$("#MessageBoxUserProfileEmailChangeConfirmation").modal("hide");SilkFlo.ViewModels.UserProfile.CanChangeEmail=!0;SilkFlo.ViewModels.UserProfile.Post()},PasswordChangedConfirmation_Click:function(){window.$("#ModalChangePassword").modal("hide");window.$("#ModalUserProfile").modal("show")},Save:function(){(SilkFlo.ViewModels.UserProfile.CanChangeEmail=!1,SilkFlo.ViewModels.UserProfile.Validate())&&SilkFlo.ViewModels.UserProfile.Post()},Post:function(){const n=document.getElementById("UserProfile.User");if(!n){console.log("SilkFlo.ViewModels.UserProfile.Post: element with id UserProfile.User missing");return}const t=SilkFlo.Models.User.GetModelFromParent(n,["Id","About","DepartmentId","EmailNewPrefix","EmailPrefix","FirstName","JobTitle","LastName","LocationId","ManagerId"],"UserProfile.User.");if(t.EmailPrefix!==t.EmailNewPrefix&&!SilkFlo.ViewModels.UserProfile.CanChangeEmail){window.$("#MessageBoxUserProfileEmailChangeConfirmation").modal("show");return}SilkFlo.Models.Abstract.Save(t,SilkFlo.ViewModels.UserProfile.Post_Callback,SilkFlo.ViewModels.UserProfile.PostFailed_Callback,n.id,"/api/User/PostProfile","POST")},Post_Callback:function(){SilkFlo.ViewModels.User.UpdateUIComponents();window.$("#ModalUserProfile").modal("hide")},PostFailed_Callback:function(n,t){console.log("SilkFlo.ViewModels.UserProfile.Save_Callback");window.$("#ModalUserProfile").modal("show");SilkFlo.DataAccess.Feedback(n,t)},ChangePassword:{GetParent:function(){const n="Modal.ChangePassword",t=document.getElementById(n);if(t)return t;return console.log(`${"SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent: "}element with id ${n} missing`),null},ToggleButtonState:function(){const t="SilkFlo.ViewModels.UserProfile.ChangePassword.ToggleButtonState: ",u="User.ChangePasswordButton",i=document.getElementById(u);if(!i){console.log(`${t}Element with id ${u} missing`);return}const r=SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent();if(r){let n="User.OldPassword";const f=r.querySelector(`[name="${n}"]`);if(!f){console.log(`${t}Element with name ${n} missing`);return}n="User.Password";const e=r.querySelector(`[name="${n}"]`);if(!e){console.log(`${t}Element with name ${n} missing`);return}n="User.ConfirmPassword";const o=r.querySelector(`[name="${n}"]`);if(!o){console.log(`${t}Element with name ${n} missing`);return}f.value.length>0&&e.value===o.value?window.PasswordValid?i.classList.remove("disabled"):i.classList.add("disabled"):i.classList.add("disabled")}},SetMessage:function(n){const t=SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.UserProfile.ChangePassword.SetMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},Click:function(){SilkFlo.ViewModels.UserProfile.ChangePassword.Validate()&&SilkFlo.ViewModels.UserProfile.ChangePassword.Save()},Validate:function(){const n=SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent();if(!n)return!1;const t=SilkFlo.Models.User.GetModelFromParent(n,["OldPassword","Password","ConfirmPassword"]);let i=!0;return SilkFlo.ViewModels.UserProfile.ChangePassword.ClearErrorMessages(),t.OldPassword||(i=!1,n.ModelElements.OldPassword.classList.add("is-invalid")),t.Password||(i=!1,n.ModelElements.Password.classList.add("is-invalid")),t.ConfirmPassword||(i=!1,n.ModelElements.ConfirmPassword.classList.add("is-invalid")),t.Password!==t.ConfirmPassword&&(SilkFlo.ViewModels.UserProfile.ChangePassword.SetMessage('<span class="text-danger">The new and confirm passwords do not match.<\/span>'),i=!1),i},ClearErrorMessages:function(){const n=SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent();n&&(SilkFlo.Models.User.GetModelFromParent(n,["OldPassword","Password","ConfirmPassword"]),n.ModelElements.OldPassword.classList.remove("is-invalid"),n.ModelElements.Password.classList.remove("is-invalid"),n.ModelElements.ConfirmPassword.classList.remove("is-invalid"),SilkFlo.ViewModels.UserProfile.ChangePassword.SetMessage(""))},Save:function(){const n=SilkFlo.ViewModels.UserProfile.ChangePassword.GetParent();if(n){const t=SilkFlo.Models.User.GetModelFromParent(n,["OldPassword","Password","ConfirmPassword","Id"]);SilkFlo.Models.Abstract.Save(t,SilkFlo.ViewModels.UserProfile.ChangePassword.Save_Callback,SilkFlo.DataAccess.Feedback,"Modal.ChangePassword","/api/User/PostPasswordChange","POST")}},Save_Callback:function(){SilkFlo.ViewModels.User.UpdateUIComponents();window.$("#MessageBoxPasswordChangedConfirmation").modal("show")}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit={GetParent:function(){const n="FormEdit_BusinessIdea",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.GetParent: "}Element with id "${n}" missing`),null;return t},Get_Callback:function(){const n="SilkFlo.ViewModels.Business.Idea.Edit.Get_Callback: ";if(!SilkFlo.SideBar.ClearMenu){console.log(`${n}SilkFlo.SideBar.ClearMenu function missing.`);return}SilkFlo.SideBar.ClearMenu();const t=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();if(t){const i="Business.Idea.Name",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${n}Element with name ${i} missing`);return}setTimeout(()=>{r.focus()},500)}},ValidateElement:function(n,t,i,r){const u=n.querySelector('[name="'+t+'"]');if(!u)return console.log("SilkFlo.ViewModels.Business.Idea.Edit.ValidateElement: Element with name "+t+" is missing."),!1;return SilkFlo.IsRequired(u,i,r,"Required.",!1)},ValidateRangeElement:function(n,t,i,r){const u=n.querySelector(`[name="${t}"]`);if(!u)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.ValidateRangeElement: "}Element with name ${t} is missing.`),!1;return SilkFlo.IsInRange(u,i,r)},GetBusinessTeam:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Edit.GetBusinessTeam: ",r=SilkFlo.GetElementInParentId(n,"Business.Idea.TeamId");if(!r){console.log(`${i}Could not find an element with id Business.Idea.TeamId.`);return}if(!t){console.log(`${i}departmentElement Element is null.`);return}const u=t.value;if(u)SilkFlo.DataAccess.UpdateElement(`/api/business/team/departmentId/${u}`,null,r,"",SilkFlo.ViewModels.Business.Idea.Edit.ResetProcessComboList(n));else{const t='<option value="">Select...<\/option>';r.innerHTML=t;const u=SilkFlo.GetElementInParentId(n,"Business.Idea.ProcessId");if(!u){console.log(`${i}Element with id Business.Idea.ProcessId is null.`);return}u.innerHTML=t}},GetBusinessProcess:function(n,t){const r="SilkFlo.ViewModels.Business.Idea.Edit.GetBusinessProcess: ";if(!t){console.log(`${r}teamElement Element is null.`);return}const i=SilkFlo.GetElementInParentId(n,"Business.Idea.ProcessId");if(!i){console.log(`${r}Could not find an element with id Business.Idea.ProcessId.`);return}const u=t.value;u?SilkFlo.DataAccess.UpdateElement(`/api/business/process/team/${u}`,null,i):i.innerHTML='<option value="">Select...<\/option>'},ResetProcessComboList:function(n){const t=SilkFlo.GetElementInParentId(n,"Business.Idea.ProcessId");if(!t){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.ResetProcessComboList: "}Element with id Business.Idea.ProcessId is null.`);return}t.innerHTML='<option value="">Select...<\/option>'},Submit_OnClick:function(){const n=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();if(n){const t=n.querySelector('[name="Business.Idea.IsDraft"]');t.checked=!1;SilkFlo.ViewModels.Business.Idea.Edit.Save()}},SaveDraft_OnClick:function(){const n=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();if(n){const t=n.querySelector('[name="Business.Idea.IsDraft"]');if(!t){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.SaveDraft_OnClick: "}Element with name "Business.Idea.IsDraft" missing`);return}t.checked=!0;SilkFlo.ViewModels.Business.Idea.Edit.Save()}},Save:function(){const t=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();if(t){const n=SilkFlo.Models.Business.Idea.GetModelFromParent(t);if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.Save: "}model missing`);return}n.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(t);n.Collaborators=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetModel(t);this.ReturnURL=n.ReturnURL;SilkFlo.Models.Business.Idea.Save(n,SilkFlo.ViewModels.Business.Idea.Edit.Redirect,SilkFlo.ViewModels.Business.Idea.Edit.SaveFailed_CallBack,"content")}},SaveFailed_CallBack:function(n){const t=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();SilkFlo.DataAccess.Feedback(n,t.id)},Cancel_OnClick:function(){const n=SilkFlo.ViewModels.Business.Idea.Edit.GetParent();if(n){const t=SilkFlo.Models.Business.Idea.GetModelFromParent(n,["ReturnURL"]);if(!t.ReturnURL)console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.Cancel_OnClick: "}model.ReturnURL is missing.`),SilkFlo.SideBar.OnClick("/Dashboard");window.location.href=t.ReturnURL}},Redirect:function(){if(!SilkFlo.ViewModels.Business.Idea.Edit.ReturnURL||SilkFlo.ViewModels.Business.Idea.Edit.ReturnURL.indexOf("/account/signin")!==-1)console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.Redirect: "}SilkFlo.ViewModels.Business.Idea.Edit.ReturnURL is missing.`),SilkFlo.SideBar.OnClick("/Dashboard");SilkFlo.SideBar.OnClick(SilkFlo.ViewModels.Business.Idea.Edit.ReturnURL)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts={SelectedRow:null,IsLoading:!1,GetCurrency:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency: ",i="Business.Idea.Currency",n=document.getElementById(i);return n?n.value?n.value:(console.log(`${t}currency symbol missing`),""):(console.log(`${t}Element with id ${i} missing`),null)},GetParent:function(){const n="Business.Idea.CostBenefit.CostEstimates.RPASoftwareCosts",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent: "}Element with id ${n} missing`),null;return t},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","DeleteButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}n.NewButton.classList.remove("hide");this.SelectedRow?n.DeleteButton.classList.remove("hide"):n.DeleteButton.classList.add("hide")}},New_Click:function(){const t=this.GetParent();if(t){this.IsLoading=!0;this.UpdateView();const i="Business.IdeaRunningCost.Tbody",n=t.querySelector(`[name="${i}"]`);if(!n){console.log(`${logPrefix}Element with name ${i} missing`);return}SilkFlo.DataAccess.AppendElement("/api/Business/ImplementationCost/GetRPSSoftwareCosts/NewRow",null,n,this.New_CallBack,!0,n.lastElementChild)}},New_CallBack:function(){const i=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent();if(i){const r="Business.IdeaRunningCost.Tbody",n=i.querySelector(`[name="${r}"]`);if(!n){console.log(`${logPrefix}Element with name ${r} missing`);return}let t=n.children.length;t&&(t-=2);const u=n.children[t];SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.IsLoading=!1;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectRow_Click(u);SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Delete_Click:function(){const i="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Click: ",r=this.SelectedRow;if(!r){console.log(i+"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow missing");return}const t="Business.IdeaRunningCost.RunningCostId",n=r.querySelector(`[name="${t}"]`);if(!n){console.log(`${i}Element with name ${t} missing`);return}let u="unknown";n.selectedIndex!==-1&&(u=n.children[n.selectedIndex].textContent);bootbox.dialog({title:`Delete ${t}`,message:`Are you sure that you want to delete <b>${u}</b>?`,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Cancel",className:"btn-secondary bootbox-accept"},"delete":{label:"Delete",className:"btn-danger",callback:SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Callback}}})},Delete_Callback:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Callback: ",n=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow;if(!n){console.log(t+"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow=null;setTimeout(function(){n.classList.remove("glow-border-red");n.remove();SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView();const u=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent(),i="Business.IdeaRunningCost.Tbody",r=u.querySelector(`[name="${i}"]`);if(!r){console.log(`${t}Element with name ${i} missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals(r)},1e3)},RunningCost_Change:function(n){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.RunningCost_Change: ";if(!n){console.log(`${t}element parameter missing`);return}const i=n.parentElement.parentElement.parentElement;if(i.localName!=="tr"){console.log(t+"parent not tr");return}SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal(i)},LicenceCount_Input:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.LicenceCount_Input: "}element parameter missing`);return}const t=n.parentElement.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal(t)},CalculateRowTotal:function(n){const h="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal: ";if(!n){console.log(`${h}rowElement parameter missing`);return}if(n.localName!=="tr"){console.log(`${h}rowElement is not a tr. It is a ${n.localName}`);return}const l=SilkFlo.Models.Abstract.GetModelFromParent(n,["RunningCostId","LicenceCount","CostPerYear","CostPerMonth","TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaRunningCost."),e=n.ModelElements.RunningCostId;let c="",r=0;if(e.selectedIndex!==-1){const n=e.children[e.selectedIndex];c=n.getAttribute("period");r=n.getAttribute("cost")}let u=l.LicenceCount;u||(u=0);let t=0,i=0,o=0,s=0;c==="Annual"?(t=r*1,i=r/12):(t=r*12,i=r*1);o=t*u;s=i*u;t=SilkFlo.FormatNumber(t);i=SilkFlo.FormatNumber(i);const a=SilkFlo.FormatNumber(o),v=SilkFlo.FormatNumber(s);let f=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();n.ModelElements.CostPerYear.innerHTML=f+"&nbsp;"+t;n.ModelElements.CostPerMonth.innerHTML=f+"&nbsp;"+i;n.ModelElements.TotalCostPerYear.innerHTML=f+"&nbsp;"+a;n.ModelElements.TotalCostPerMonth.innerHTML=f+"&nbsp;"+v;n.ModelElements.TotalCostPerYear.setAttribute("value",o);n.ModelElements.TotalCostPerMonth.setAttribute("value",s);const y=n.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals(y)},UpdateTotals:function(n){const i="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals: ";if(!n){console.log(`${i}tbody parameter missing`);return}const s=SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,"Business.IdeaRunningCost",["TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaRunningCost.");let r=0,u=0;const h=s.length;for(let t=0;t<h;t++){const f=n.ModelElements[t],i=f.ModelElements,e=i.TotalCostPerYear.getAttribute("value");r+=e*1;const o=i.TotalCostPerMonth.getAttribute("value");u+=o*1}let t="RpaTotalCostPerYear";const f=n.querySelector(`[name="${t}"]`);if(!f){console.log(`${i}Element with name ${t} missing`);return}t="RpaTotalCostPerMonth";const e=n.querySelector(`[name="${t}"]`);if(!e){console.log(`${i}Element with name ${t} missing`);return}let o=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();f.innerHTML=o+"&nbsp;"+SilkFlo.FormatNumber(r);e.innerHTML=o+"&nbsp;"+SilkFlo.FormatNumber(u);SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals()}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.Calculations={GetTotals:function(n){const i="SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetTotals: ";if(!n){console.log(i+"parentElementId parameter is missing.");return}const r=document.getElementById(n);if(!r){console.log(`${i}Element with id ${n} missing`);return}const t=SilkFlo.Models.Business.Idea.GetModelFromParent(r);if(t.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(r),!t){console.log(i+"The model is missing.");return}SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetTotalProcessingTime","TotalProcessingTime",SilkFlo.Models2.Business.Idea.Populate_And_FormatToHoursPerYear);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetTotalReworkTime","TotalReworkTime",SilkFlo.Models2.Business.Idea.Populate_And_FormatToHoursPerYear);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetTotalReviewTime","TotalReviewTime",SilkFlo.Models2.Business.Idea.Populate_And_FormatToHoursPerYear);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetTimeNeededToPerformWorkWithoutAutomation","TotalTimeNeededToPerformWorkWithoutAutomation",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetFullTimeEquivalentsRequired","FullTimeEquivalentsRequired",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetCostPerYear","CostPerYear",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToCurrency);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetFeasibilityScore","FeasibilityScore",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetFitnessScore","FitnessScore",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetIdeaScore","IdeaScore",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetEstimatedBenefitPerCompany_Hours","EstimatedBenefitPerCompany_Hours",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetEstimatedBenefitPerCompany_Currency","BenefitPerCompany_Currency",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToCurrency);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetEstimatedBenefitPerCompany_FTE","EstimatedBenefitPerEmployee_FTE",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetEstimatedBenefitPerEmployee_Hours","EstimatedBenefitPerEmployee_Hours",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetEstimatedBenefitPerEmployee_Currency","BenefitPerEmployee_Currency",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToCurrency);SilkFlo.Models2.Business.Idea.GetCalculation(t,"/api/Business/Ideas/GetBenefitPerEmployee_FTE","BenefitPerEmployee_FTE",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberTo2DecimalPlaces)},AutomationPotential:function(n){const t="SilkFlo.ViewModels.Business.Idea.Edit.Calculations.AutomationPotential: ";if(!n){console.log(t+"parentElementId parameter is missing.");return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id ${n} missing`);return}const r=SilkFlo.Models.Business.Idea.GetModelFromParent(i);if(r.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(i),!r){console.log(t+"The model is missing.");return}SilkFlo.Models2.Business.Idea.GetCalculation(r,"/api/Business/Ideas/GetAutomationPotential","AutomationPotential",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent)},EaseOfImplementation:function(n){const t="SilkFlo.ViewModels.Business.Idea.Edit.Calculations.EaseOfImplementation: ";if(!n){console.log(t+"parentElementId parameter is missing.");return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id ${n} missing`);return}const r=SilkFlo.Models.Business.Idea.GetModelFromParent(i);if(r.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(i),!r){console.log(t+"The model is missing.");return}SilkFlo.Models2.Business.Idea.GetCalculation(r,"/api/Business/Ideas/GetEaseOfImplementation","EaseOfImplementation",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent)},PrimedScore:function(n){const t="SilkFlo.ViewModels.Business.Idea.Edit.Calculations.EaseOfImplementation: ";if(!n){console.log(t+"parentElementId parameter missing.");return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id ${n} missing`);return}const r=SilkFlo.Models.Business.Idea.GetModelFromParent(i);if(r.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(i),!r){console.log(t+"The model is missing.");return}SilkFlo.Models2.Business.Idea.GetCalculation(r,"/api/Business/Ideas/GetPrimedScore","PrimedScore",SilkFlo.Models2.Business.Idea.Populate_And_FormatNumberToPercent)},GetApplications:function(n){if(!n)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications: "}parentElement parameter missing`),null;const r=SilkFlo.GetElementInParent(n,"Business.Applications"),t=SilkFlo.Models.Business.Application.GetModelCollectionFromParent(r,"Business.Application",["Id","IsSelected","IsThinClient","LanguageId","VersionId"]);if(!t)return null;const i=[],u=t.length;for(let n=0;n<u;n++){const r=t[n];r.IsSelected&&i.push(r)}return i}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts={ParentId:null,GetCurrency:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency: ",i="Business.Idea.Currency",n=document.getElementById(i);return n?n.value?n.value:(console.log(`${t}currency symbol missing`),""):(console.log(`${t}Element with id ${i} missing`),null)},GetParent:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent: ",n=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId;if(!n)return console.log(`${t}ParentId is null`),null;const i=document.getElementById(n);return i?i:(console.log(`${t}Element with id ${n} missing`),null)},UpdateView:function(){const n=this.GetParent();if(n){if(SilkFlo.Models.Abstract.GetModelFromParent(n,["NewButton","DeleteButton"],""),!n.ModelElements){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateView: "}ModelElements missing`);return}const t=n.ModelElements;if(n.IsLoading){t.NewButton.classList.add("hide");t.DeleteButton.classList.add("hide");return}t.NewButton.classList.remove("hide");n.SelectedRow?t.DeleteButton.classList.remove("hide"):t.DeleteButton.classList.add("hide")}},New_Click:function(n,t){SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId=n;const i=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent();if(i){i.IsLoading=!0;this.UpdateView();const u="/api/Business/ImplementationCost/GetOtherRunningCosts/NewRow/"+t,r=i.querySelector("tbody");SilkFlo.DataAccess.AppendElement(u,null,r,this.New_CallBack,!0,r.lastElementChild)}},New_CallBack:function(){const n=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent();if(n){const i=n.querySelector("tbody");let t=i.children.length;t&&(t-=2);const r=i.children[t];n.IsLoading=!1;SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.SelectRow_Click(r,n.id);SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateView()}},SelectRow_Click:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.SelectRow_Click: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i}parentId parameter missing`);return}if(SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId=t,!this.EditRow||!n.isEqualNode(this.EditRow)){const r=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent();if(r){r.SelectedRow=n;const f=n.parentElement,u=f.children,e=u.length;for(let n=0;n<e;n++){const t=u[n];t.classList.remove("select")}n.classList.add("select");this.UpdateView()}}},Delete_Click:function(n){const i="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.Delete_Click: ";if(!n){console.log(`${i}parentId parameter missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId=n;const e=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent(),u=e.SelectedRow;if(!u){console.log(i+"parent.SelectedRow missing");return}const r="Business.IdeaOtherRunningCost.OtherRunningCostId",t=u.querySelector(`[name="${r}"]`);if(!t){console.log(`${i}Element with name ${r} missing`);return}let f="unknown";t.selectedIndex!==-1&&(f=t.children[t.selectedIndex].textContent);bootbox.dialog({title:`Delete ${r}`,message:`Are you sure that you want to delete <b>${f}</b>?`,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Cancel",className:"btn-secondary bootbox-accept"},"delete":{label:"Delete",className:"btn-danger",callback:SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.Delete_Callback}}})},Delete_Callback:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.Delete_Callback: ",i=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent(),n=i.SelectedRow;if(!n){console.log(t+"parent.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");i.SelectedRow=null;setTimeout(function(){n.classList.remove("glow-border-red");n.remove();SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateView();const u=SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.GetParent(),i="tbody",r=u.querySelector(`[name="${i}"]`);if(!r){console.log(`${t}Element with name ${i} missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateTotals(r)},1e3)},OtherRunningCost_Change:function(n,t){const r="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.RunningCost_Change: ";if(!n){console.log(`${r}element parameter missing`);return}if(!t){console.log(`${r}parentId parameter missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId=t;const i=n.parentElement.parentElement.parentElement;let u="";if(n.selectedIndex!==-1){const t=n.children[n.selectedIndex];u=t.getAttribute("description")}const s=SilkFlo.Models.Abstract.GetModelFromParent(i,["More","None","Description"],"Business.IdeaOtherRunningCost."),f=i.ModelElements.More,e=i.ModelElements.None,o=i.ModelElements.Description;if(o.innerHTML=u,u?(f.style.display="inline",e.style.display="none"):(f.style.display="none",e.style.display="inline"),i.localName!=="tr"){console.log(r+"parent not tr");return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateCosts(i)},Number_Input:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.Number_Input: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i}parentId parameter missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.ParentId=t;const r=n.parentElement.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateCosts(r)},UpdateCosts:function(n){const h="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateCosts: ";if(!n){console.log(`${h}rowElement parameter missing`);return}if(n.localName!=="tr"){console.log(`${h}rowElement is not a tr. It is a ${n.localName}`);return}const l=SilkFlo.Models.Abstract.GetModelFromParent(n,["OtherRunningCostId","Number","CostPerYear","CostPerMonth","TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaOtherRunningCost.");let f=l.Number;f||(f=0);let t=0,i=0,e=0,o=0;const s=n.ModelElements.OtherRunningCostId;let c="Annual",r=0,a="";if(s.selectedIndex!==-1){const n=s.children[s.selectedIndex];c=n.getAttribute("period");r=n.getAttribute("cost");a=n.getAttribute("description")}c==="Annual"?(t=r*1,i=r/12):(t=r*12,i=r*1);e=t*f;o=i*f;t=SilkFlo.FormatNumber(t);i=SilkFlo.FormatNumber(i);const v=SilkFlo.FormatNumber(e),y=SilkFlo.FormatNumber(o);let u=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();if(u){n.ModelElements.CostPerYear.innerHTML=u+"&nbsp;"+t;n.ModelElements.CostPerMonth.innerHTML=u+"&nbsp;"+i;n.ModelElements.TotalCostPerYear.innerHTML=u+"&nbsp;"+v;n.ModelElements.TotalCostPerMonth.innerHTML=u+"&nbsp;"+y;n.ModelElements.TotalCostPerYear.setAttribute("value",e);n.ModelElements.TotalCostPerMonth.setAttribute("value",o);const p=n.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateTotals(p)}},UpdateTotals:function(n){const i="SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateTotals: ";if(!n){console.log(`${i}tbody parameter missing`);return}const s=SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,"Business.IdeaOtherRunningCost",["TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaOtherRunningCost.");let u=0,f=0;const h=s.length;for(let t=0;t<h;t++){const i=n.ModelElements[t],s=i.Model,r=i.ModelElements,e=r.TotalCostPerYear.getAttribute("value");u+=e*1;const o=r.TotalCostPerMonth.getAttribute("value");f+=o*1}let t="TotalCostPerYear";const e=n.querySelector(`[name="${t}"]`);if(!e){console.log(`${i}Element with name ${t} missing`);return}t="TotalCostPerMonth";const o=n.querySelector(`[name="${t}"]`);if(!o){console.log(`${i}Element with name ${t} missing`);return}let r=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();r&&(e.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(u),o.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(f),SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals())}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts={SelectedRow:null,IsLoading:!1,ParentId:null,GetCurrency:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.GetCurrency: ",i="Business.Idea.Currency",n=document.getElementById(i);return n?n.value?n.value:(console.log(`${t}currency symbol missing`),""):(console.log(`${t}Element with id ${i} missing`),null)},GetParent:function(){const n="Business.Idea.CostBenefit.CostEstimates.OneTimeCosts",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.GetParent: "}Element with id ${n} missing`),null;return t},UpdateView:function(){const n=this.GetParent();if(n){if(SilkFlo.Models.Abstract.GetModelFromParent(n,["NewButton","DeleteButton"],""),!n.ModelElements){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateView: "}ModelElements missing`);return}const t=n.ModelElements;if(n.IsLoading){t.NewButton.classList.add("hide");t.DeleteButton.classList.add("hide");return}t.NewButton.classList.remove("hide");this.SelectedRow?t.DeleteButton.classList.remove("hide"):t.DeleteButton.classList.add("hide")}},New_Click:function(n){const t=this.GetParent();if(t){this.IsLoading=!0;this.UpdateView();const i=`/api/Business/ImplementationCost/GetOneTimeCosts/NewRow/IdeaId/${n}`,r=t.querySelector("tbody");SilkFlo.DataAccess.AppendElement(i,null,r,this.New_CallBack)}},New_CallBack:function(){const t=SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.GetParent();if(t){const i=t.querySelector("tbody");let n=i.children.length;n&&(n-=1);const r=i.children[n];SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.IsLoading=!1;SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectRow_Click(r);SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateView();SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateCycleDays();SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateRowTotal(r)}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Delete_Click:function(){const r="SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Delete_Click: ",u=this.SelectedRow;if(!u){console.log(r+"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectedRow missing");return}let n="Business.ImplementationCost.IdeaStageId";const t=u.querySelector(`[name="${n}"]`);if(!t){console.log(`${r}Element with name ${n} missing`);return}n="Business.ImplementationCost.RoleId";const i=u.querySelector(`[name="${n}"]`);if(!i){console.log(`${r}Element with name ${n} missing`);return}let f="unknown stage",e="unknown role";t.selectedIndex!==-1&&(f=t.children[t.selectedIndex].textContent);i.selectedIndex!==-1&&(e=i.children[i.selectedIndex].textContent);bootbox.dialog({title:`Delete ${n}`,message:`Are you sure that you want to delete <b>${f}&nbsp;-&nbsp;${e}</b>?`,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Cancel",className:"btn-secondary bootbox-accept"},"delete":{label:"Delete",className:"btn-danger",callback:SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Delete_Callback}}})},Delete_Callback:function(){const n=SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectedRow;if(!n){console.log("SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Delete_Callback: SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.SelectedRow=null;setTimeout(function(){n.remove();SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateView();SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateTotals()},1e3)},IdeaStage_Change:function(n){const t=n.parentElement.parentElement.parentElement,i="CycleDays",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.IdeaStage_Change: "}Element with name ${i} missing`);return}r.children[0].setAttribute("name",`CycleDays${n.value}`);SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateRowTotal(t);SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateCycleDays()},Role_Change:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Role_Change: "}element parameter missing`);return}const t=n.parentElement.parentElement;if(t.localName!=="tr"){console.log(`${logPrefix}rowElement is not a tr. It is a ${rowElement.localName}`);return}let i="";if(n.selectedIndex!==-1){const t=n.children[n.selectedIndex];i=t.getAttribute("description")}SilkFlo.Models.Abstract.GetModelFromParent(t,["More","None","Description"],"Business.ImplementationCost.");const r=t.ModelElements.More,u=t.ModelElements.None,f=t.ModelElements.Description;f.innerHTML=i;i?(r.style.display="inline",u.style.display="none"):(r.style.display="none",u.style.display="inline");this.CalculateRowTotal(t)},Allocation_Input:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Allocation_Input: "}element parameter missing`);return}this.CalculateRowTotal(n.parentElement.parentElement.parentElement)},Day_Input:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.Day_Input: "}element parameter missing`);return}this.CalculateRowTotal(n.parentElement.parentElement)},CalculateRowTotal:function(n){const r="SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateRowTotal: ";if(!n){console.log(`${r}element parameter missing`);return}if(n.localName!=="tr"){console.log(`${r}rowElement is not a tr. It is a ${n.localName}`);return}const u=SilkFlo.Models.Abstract.GetModelFromParent(n,["RoleId","Allocation","Day","CostDay","TotalCost","TotalCostValue"],"Business.ImplementationCost.");let t=0;const i=n.ModelElements.RoleId;if(i.selectedIndex!==-1){const n=i.children[i.selectedIndex];t=n.getAttribute("cost")}const f=SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.GetCurrency();n.ModelElements.CostDay.innerHTML=f+"&nbsp;"+SilkFlo.FormatNumber(t);const e=t*u.Day/100*u.Allocation;n.ModelElements.TotalCost.innerHTML=f+"&nbsp;"+SilkFlo.FormatNumber(e);n.ModelElements.TotalCostValue.value=e;SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateTotals()},CalculateTotals:function(){const i="SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateTotals: ",t=this.GetParent();if(t){let n="Business.ImplementationCosts";const u=t.querySelector(`[name="${n}"]`);if(!u){console.log(`${i}Element with name ${n} missing`);return}const h=SilkFlo.Models.Abstract.GetModelCollectionFromParent(u,"Business.ImplementationCost",["IdeaStageId","TotalCostValue"],"Business.ImplementationCost.");let f=0,e=0,o=0,s=0,c=0;const g=h.length;for(let n=0;n<g;n++){const t=h[n],r=u.ModelElements[n],i=r.ModelElements.IdeaStageId;if(i.selectedIndex!==-1){const r=i.children[i.selectedIndex],n=r.getAttribute("stageId");n==="n03_Analysis"?f+=t.TotalCostValue*1:n==="n04_SolutionDesign"?e+=t.TotalCostValue*1:n==="n05_Development"?o+=t.TotalCostValue*1:n==="n06_Testing"&&(s+=t.TotalCostValue*1);c+=t.TotalCostValue*1}}n=`OneTimeCostn03_AnalysisTotal`;const l=t.querySelector(`[name="${n}"]`);if(!l){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn03_AnalysisTotalvalue`;const a=t.querySelector(`[name="${n}"]`);if(!a){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn04_SolutionDesignTotal`;const v=t.querySelector(`[name="${n}"]`);if(!v){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn04_SolutionDesignTotalvalue`;const y=t.querySelector(`[name="${n}"]`);if(!y){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn05_DevelopmentTotal`;const p=t.querySelector(`[name="${n}"]`);if(!p){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn05_DevelopmentTotalvalue`;const w=t.querySelector(`[name="${n}"]`);if(!w){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn06_TestingTotal`;const b=t.querySelector(`[name="${n}"]`);if(!b){console.log(`${i}Element with name ${n} missing`);return}n=`OneTimeCostn06_TestingTotalvalue`;const k=t.querySelector(`[name="${n}"]`);if(!k){console.log(`${i}Element with name ${n} missing`);return}n="Business.ImplementationCost.Total";const d=t.querySelector(`[name="${n}"]`);if(!d){console.log(`${i}Element with name ${n} missing`);return}const r=SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.GetCurrency();l.innerHTML=`${r} ${SilkFlo.FormatNumber(f)}`;a.value=f;v.innerHTML=`${r} ${SilkFlo.FormatNumber(e)}`;y.value=e;p.innerHTML=`${r} ${SilkFlo.FormatNumber(o)}`;w.value=o;b.innerHTML=`${r} ${SilkFlo.FormatNumber(s)}`;k.value=s;d.innerHTML=`${r} ${SilkFlo.FormatNumber(c)}`;SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals()}},UpdateCycleDays:function(){const i="SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.UpdateCycleDays: ";let n="gantt1";const r=document.getElementById(n);if(!r){console.log(`${i}Element with id ${n} missing`);return}n="LastNameCell";const f=document.getElementById(n);let t=null;t=SilkFlo.Models.Abstract.GetModelCollectionFromParent(r,"Business.IdeaStage",["Id","DateStart","DateEnd"],"Business.IdeaStage.");const u=t.length;for(let n=0;n<u;n++){const r=t[n];if(r.DateEnd){let f=0;const o=Delaney.UI.DatePicker.Moments.GetDate(r.DateStart),s=Delaney.UI.DatePicker.Moments.GetDate(r.DateEnd);f=Delaney.UI.DatePicker.Moments.CountCertainDays([1,2,3,4,5],o,s);const e=`CycleDays${r.Id}`,u=document.querySelectorAll(`[name="${e}"]`);if(!u){console.log(`${i}Element with name ${e} missing`);return}const h=u.length;for(let n=0;n<h;n++){const t=u[n];console.log(t);t.innerHTML=f}}}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts={SelectedRow:null,IsLoading:!1,GetCurrency:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency: ",i="Business.Idea.Currency",n=document.getElementById(i);return n?n.value?n.value:(console.log(`${t}currency symbol missing`),""):(console.log(`${t}Element with id ${i} missing`),null)},GetParent:function(){const n="Business.Idea.CostBenefit.CostEstimates.RPASoftwareCosts",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent: "}Element with id ${n} missing`),null;return t},UpdateView:function(){const t=this.GetParent();if(t){if(SilkFlo.Models.Abstract.GetModelFromParent(t,["NewButton","DeleteButton"],""),!t.ModelElements){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView: "}ModelElements missing`);return}const n=t.ModelElements;if(this.IsLoading){n.NewButton.classList.add("hide");n.DeleteButton.classList.add("hide");return}n.NewButton.classList.remove("hide");this.SelectedRow?n.DeleteButton.classList.remove("hide"):n.DeleteButton.classList.add("hide")}},New_Click:function(){const t=this.GetParent();if(t){this.IsLoading=!0;this.UpdateView();const i="Business.IdeaRunningCost.Tbody",n=t.querySelector(`[name="${i}"]`);if(!n){console.log(`${logPrefix}Element with name ${i} missing`);return}SilkFlo.DataAccess.AppendElement("/api/Business/ImplementationCost/GetRPSSoftwareCosts/NewRow",null,n,this.New_CallBack,!0,n.lastElementChild)}},New_CallBack:function(){const i=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent();if(i){const r="Business.IdeaRunningCost.Tbody",n=i.querySelector(`[name="${r}"]`);if(!n){console.log(`${logPrefix}Element with name ${r} missing`);return}let t=n.children.length;t&&(t-=2);const u=n.children[t];SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.IsLoading=!1;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectRow_Click(u);SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView()}},SelectRow_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectRow_Click: "}element parameter missing`);return}if(!this.EditRow||!n.isEqualNode(this.EditRow)){this.SelectedRow=n;const i=n.parentElement,t=i.children,r=t.length;for(let n=0;n<r;n++){const i=t[n];i.classList.remove("select")}n.classList.add("select");this.UpdateView()}},Delete_Click:function(){const i="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Click: ",r=this.SelectedRow;if(!r){console.log(i+"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow missing");return}const t="Business.IdeaRunningCost.RunningCostId",n=r.querySelector(`[name="${t}"]`);if(!n){console.log(`${i}Element with name ${t} missing`);return}let u="unknown";n.selectedIndex!==-1&&(u=n.children[n.selectedIndex].textContent);bootbox.dialog({title:`Delete ${t}`,message:`Are you sure that you want to delete <b>${u}</b>?`,onEscape:!0,backdrop:!0,buttons:{cancel:{label:"Cancel",className:"btn-secondary bootbox-accept"},"delete":{label:"Delete",className:"btn-danger",callback:SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Callback}}})},Delete_Callback:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.Delete_Callback: ",n=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow;if(!n){console.log(t+"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow missing");return}n.classList.remove("select");n.classList.add("glow-border-red");SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.SelectedRow=null;setTimeout(function(){n.classList.remove("glow-border-red");n.remove();SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateView();const u=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetParent(),i="Business.IdeaRunningCost.Tbody",r=u.querySelector(`[name="${i}"]`);if(!r){console.log(`${t}Element with name ${i} missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals(r)},1e3)},RunningCost_Change:function(n){const t="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.RunningCost_Change: ";if(!n){console.log(`${t}element parameter missing`);return}const i=n.parentElement.parentElement.parentElement;if(i.localName!=="tr"){console.log(t+"parent not tr");return}SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal(i)},LicenceCount_Input:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.LicenceCount_Input: "}element parameter missing`);return}const t=n.parentElement.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal(t)},CalculateRowTotal:function(n){const h="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.CalculateRowTotal: ";if(!n){console.log(`${h}rowElement parameter missing`);return}if(n.localName!=="tr"){console.log(`${h}rowElement is not a tr. It is a ${n.localName}`);return}const l=SilkFlo.Models.Abstract.GetModelFromParent(n,["RunningCostId","LicenceCount","CostPerYear","CostPerMonth","TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaRunningCost."),e=n.ModelElements.RunningCostId;let c="",r=0;if(e.selectedIndex!==-1){const n=e.children[e.selectedIndex];c=n.getAttribute("period");r=n.getAttribute("cost")}let u=l.LicenceCount;u||(u=0);let t=0,i=0,o=0,s=0;c==="Annual"?(t=r*1,i=r/12):(t=r*12,i=r*1);o=t*u;s=i*u;t=SilkFlo.FormatNumber(t);i=SilkFlo.FormatNumber(i);const a=SilkFlo.FormatNumber(o),v=SilkFlo.FormatNumber(s);let f=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();n.ModelElements.CostPerYear.innerHTML=f+"&nbsp;"+t;n.ModelElements.CostPerMonth.innerHTML=f+"&nbsp;"+i;n.ModelElements.TotalCostPerYear.innerHTML=f+"&nbsp;"+a;n.ModelElements.TotalCostPerMonth.innerHTML=f+"&nbsp;"+v;n.ModelElements.TotalCostPerYear.setAttribute("value",o);n.ModelElements.TotalCostPerMonth.setAttribute("value",s);const y=n.parentElement;SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals(y)},UpdateTotals:function(n){const i="SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals: ";if(!n){console.log(`${i}tbody parameter missing`);return}const s=SilkFlo.Models.Abstract.GetModelCollectionFromParent(n,"Business.IdeaRunningCost",["TotalCostPerYear","TotalCostPerMonth"],"Business.IdeaRunningCost.");let r=0,u=0;const h=s.length;for(let t=0;t<h;t++){const f=n.ModelElements[t],i=f.ModelElements,e=i.TotalCostPerYear.getAttribute("value");r+=e*1;const o=i.TotalCostPerMonth.getAttribute("value");u+=o*1}let t="RpaTotalCostPerYear";const f=n.querySelector(`[name="${t}"]`);if(!f){console.log(`${i}Element with name ${t} missing`);return}t="RpaTotalCostPerMonth";const e=n.querySelector(`[name="${t}"]`);if(!e){console.log(`${i}Element with name ${t} missing`);return}let o=SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.GetCurrency();f.innerHTML=o+"&nbsp;"+SilkFlo.FormatNumber(r);e.innerHTML=o+"&nbsp;"+SilkFlo.FormatNumber(u);SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals()}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Edit||(SilkFlo.ViewModels.Business.Idea.Edit={});SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts={GetCurrency:function(){const t="SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.GetCurrency: ",i="Business.Idea.Currency",n=document.getElementById(i);return n?n.value?n.value:(console.log(`${t}currency symbol missing`),""):(console.log(`${t}Element with id ${i} missing`),null)},GetParent:function(){const n="Business.Idea.Edit.CostBenefit",t=document.getElementById(n);return t?t:(console.log(`${"SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.GetParent: "}Element with id ${n} missing`),null)},UpdateTotals:function(){const c="SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals: ",u=SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.GetParent();if(u){SilkFlo.Models.Abstract.GetModelFromParent(u,["RunningCosts","HumanCosts","ImplementationPeopleCosts","RpaSoftwareCosts","OtherSoftwareCosts","SupportTeam","Infrastructure","OtherCosts","Total"],"GrandTotal.Year.");const t=u.ModelElements;SilkFlo.Models.Abstract.GetModelFromParent(u,["RunningCosts","HumanCosts","ImplementationPeopleCosts","RpaSoftwareCosts","OtherSoftwareCosts","SupportTeam","Infrastructure","OtherCosts","Total"],"GrandTotal.Month.");const i=u.ModelElements,s={IdeaRunningCost:null,IdeaOtherRunningCost:null},h={IdeaRunningCost:null,IdeaOtherRunningCost:null},f={OtherSoftware:0,Infrastructure:0,OtherCosts:0,SupportTeam:0},e={OtherSoftware:0,Infrastructure:0,OtherCosts:0,SupportTeam:0};let l=0,a=0;const b="Business.Idea.B5",k=document.getElementById(b);if(!k){console.log(`${c}Element with id ${b} missing`);return}let v=0,y=0;const p=k.getAttribute("value")*1,d=p/12;l+=p;a+=d;let g=0,n="Business.IdeaRunningCost.TotalCostPerYear";s.IdeaRunningCost=u.querySelectorAll(`[name="${n}"]`);let o=s.IdeaRunningCost.length;for(let n=0;n<o;n++){const i=s.IdeaRunningCost[n],t=i.getAttribute("value");g+=t*1;l+=t*1;v+=t*1}n="Business.IdeaOtherRunningCost.TotalCostPerYear";s.IdeaOtherRunningCost=u.querySelectorAll(`[name="${n}"]`);o=s.IdeaOtherRunningCost.length;for(let n=0;n<o;n++){const r=s.IdeaOtherRunningCost[n],t=r.getAttribute("value"),i=r.getAttribute("costTypeId");l+=t*1;v+=t*1;i==="Infrastructure"?f.Infrastructure+=t*1:i==="Other"?f.OtherCosts+=t*1:i==="SoftwareLicence"?f.OtherSoftware+=t*1:i==="Support"&&(f.SupportTeam+=t*1)}let nt=0;n="Business.IdeaRunningCost.TotalCostPerMonth";h.IdeaRunningCost=u.querySelectorAll(`[name="${n}"]`);o=h.IdeaRunningCost.length;for(let n=0;n<o;n++){const i=h.IdeaRunningCost[n],t=i.getAttribute("value");nt+=t*1;a+=t*1;y+=t*1}n="Business.IdeaOtherRunningCost.TotalCostPerMonth";h.IdeaOtherRunningCost=u.querySelectorAll(`[name="${n}"]`);o=h.IdeaOtherRunningCost.length;for(let n=0;n<o;n++){const r=h.IdeaOtherRunningCost[n],t=r.getAttribute("value"),i=r.getAttribute("costTypeId");a+=t*1;y+=t*1;i==="Infrastructure"?e.Infrastructure+=t*1:i==="Other"?e.OtherCosts+=t*1:i==="SoftwareLicence"?e.OtherSoftware+=t*1:i==="Support"&&(e.SupportTeam+=t*1)}n="OneTimeCostn03_AnalysisTotalvalue";const tt=u.querySelector(`[name="${n}"]`);if(!tt){console.log(`${c}Element with name ${n} missing`);return}n="OneTimeCostn04_SolutionDesignTotalvalue";const it=u.querySelector(`[name="${n}"]`);if(!it){console.log(`${c}Element with name ${n} missing`);return}n="OneTimeCostn05_DevelopmentTotalvalue";const rt=u.querySelector(`[name="${n}"]`);if(!rt){console.log(`${c}Element with name ${n} missing`);return}n="OneTimeCostn06_TestingTotalvalue";const ut=u.querySelector(`[name="${n}"]`);if(!ut){console.log(`${c}Element with name ${n} missing`);return}const w=tt.value*1+it.value*1+rt.value*1+ut.value*1,ft=w/12;l+=w;a+=ft;const r=SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.GetCurrency();t.HumanCosts&&(t.HumanCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(p));t.ImplementationPeopleCosts&&(t.ImplementationPeopleCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(w));t.RunningCosts&&(t.RunningCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(v));t.RpaSoftwareCosts&&(t.RpaSoftwareCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(g));t.Infrastructure&&(t.Infrastructure.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(f.Infrastructure));t.OtherCosts&&(t.OtherCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(f.OtherCosts));t.OtherSoftwareCosts&&(t.OtherSoftwareCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(f.OtherSoftware));t.SupportTeam&&(t.SupportTeam.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(f.SupportTeam));t.Total&&(t.Total.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(l));i.HumanCosts&&(i.HumanCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(d));i.ImplementationPeopleCosts&&(i.ImplementationPeopleCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(ft));i.RunningCosts&&(i.RunningCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(y));i.RpaSoftwareCosts&&(i.RpaSoftwareCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(nt));i.Infrastructure&&(i.Infrastructure.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(e.Infrastructure));i.OtherCosts&&(i.OtherCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(e.OtherCosts));i.OtherSoftwareCosts&&(i.OtherSoftwareCosts.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(e.OtherSoftware));i.SupportTeam&&(i.SupportTeam.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(e.SupportTeam));i.Total&&(i.Total.innerHTML=r+"&nbsp;"+SilkFlo.FormatNumber(a));SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateWorkloadSplitEstimations()}}};SilkFlo.Business===undefined&&(SilkFlo.Business={});SilkFlo.Business.Idea===undefined&&(SilkFlo.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Modal={PageNumber:0,PageCount:10,Width:798,ModalSubmitIdeaPages:null,CtrlErrors:null,IsValid:!0,ValidateDepartments:!1,GetParent:function(){const n="FormModal_BusinessIdea",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Modal.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n){const t=this.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Business.Idea.Modal.SetMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},Reset:function(){const t="SilkFlo.ViewModels.Business.Idea.Modal.Reset: ",u="ModalSubmitIdeaContent";let r=document.getElementById(u);if(!r){console.log(`${t}Element with id ${u} missing`);return}r.style.paddingTop="";r.style.paddingLeft="";SilkFlo.ViewModels.Business.Idea.Modal.PageNumber=0;SilkFlo.ViewModels.Business.Idea.Modal.ModalSubmitIdeaPages=null;const f="FormModal_BusinessIdea",i=document.getElementById(f);if(!i){console.log(`${t}Element with id "${f}" missing`);return}let n="Business.Idea.RuleId";const e=SilkFlo.GetElementInParent(i,n);e?DelaneysSlider_Main(e):console.log(`${t}Element with name ${n} missing`);n="Business.Idea.InputId";const o=SilkFlo.GetElementInParent(i,n);o?DelaneysSlider_Main(o):console.log(`${t}Element with name ${n} missing`);n="Business.Idea.InputDataStructureId";const s=SilkFlo.GetElementInParent(i,n);s?DelaneysSlider_Main(s):console.log(`${t}Element with name ${n} missing`);n="Business.Idea.Rating";const h=SilkFlo.GetElementInParent(i,n);h?DelaneysSlider_Main(h):console.log(`${t}Element with name ${n} missing`);n="Business.Idea.DocumentationPresentId";const c=SilkFlo.GetElementInParent(i,n);c?DelaneysSlider_Main(c):console.log(`${t}Element with name ${n} missing`);n="Business.Idea.ProcessStabilityId";const l=SilkFlo.GetElementInParent(i,n);l?DelaneysSlider_Main(l):console.log(`${t}Element with name ${n} missing`);const a=SilkFlo.ViewModels.Business.Idea.Modal.GetParent();if(n="NextPage0",r=a.querySelector(`[name="${n}"]`),!r){console.log(`${t}Element with name ${n} missing`);return}setTimeout(()=>{r.focus()},500)},PreviousPage:function(){SilkFlo.ViewModels.Business.Idea.Modal.PageNumber--;HotSpot.Card&&HotSpot.Card.Close();SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===-1&&(SilkFlo.ViewModels.Business.Idea.Modal.PageNumber=SilkFlo.ViewModels.Business.Idea.Modal.PageCount-1);SilkFlo.ViewModels.Business.Idea.Modal.Move()},PreviousPageOnKeyDown:function(n){n.code==="Tab"&&n.shiftKey&&(console.log("back"),SilkFlo.ViewModels.Business.Idea.Modal.PreviousPage())},NextPageOnKeyDown:function(n){n.preventDefault();n.stopPropagation();(n.code==="Tab"||n.code==="Space")&&(SilkFlo.ViewModels.Business.Idea.Modal.UpdateRatingScreen(),SilkFlo.ViewModels.Business.Idea.Modal.NextPage())},NextPageGetGaugeComponentOnKeyDown:function(n){n.preventDefault();n.stopPropagation();(n.code==="Tab"||n.code==="Space")&&(SilkFlo.Models2.Business.Idea.GetFeasibilityGaugeComponent(),SilkFlo.Models2.Business.Idea.GetReadinessGaugeComponent(),SilkFlo.Models2.Business.Idea.GetIdeaGaugeComponent(),SilkFlo.ViewModels.Business.Idea.Modal.NextPage())},NextPage:function(){(HotSpot.Card&&HotSpot.Card.Close(),this.ValidatePage(SilkFlo.ViewModels.Business.Idea.Modal.PageNumber))&&(SilkFlo.ViewModels.Business.Idea.Modal.PageNumber++,SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===SilkFlo.ViewModels.Business.Idea.Modal.PageCount&&(SilkFlo.ViewModels.Business.Idea.Modal.PageNumber=0),SilkFlo.ViewModels.Business.Idea.Modal.Move())},MovePage:function(n){SilkFlo.ViewModels.Business.Idea.Modal.PageNumber=n;SilkFlo.ViewModels.Business.Idea.Modal.Move()},Move:function(){const n=SilkFlo.ViewModels.Business.Idea.Modal.Width*SilkFlo.ViewModels.Business.Idea.Modal.PageNumber*-1,t=`matrix( 1, 0, 0, 1, ${n}, 0)`;SilkFlo.ViewModels.Business.Idea.Modal.ModalSubmitIdeaPages||(SilkFlo.ViewModels.Business.Idea.Modal.ModalSubmitIdeaPages=document.getElementById("ModalSubmitIdeaPages"));SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===9&&SilkFlo.SVGTools.AnimatePaths(SilkFlo.ViewModels.Business.Idea.Modal.ModalSubmitIdeaPages);SilkFlo.ViewModels.Business.Idea.Modal.ModalSubmitIdeaPages.style.transform=t;SilkFlo.ViewModels.Business.Idea.Modal.SetFocus()},SetFocus:function(){const i=SilkFlo.ViewModels.Business.Idea.Modal.GetParent();let n="";n=SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===1?"Business.Idea.Name":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===2?"Business.Idea.DepartmentId":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===3?"ButtonBusiness.Idea.RuleId":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===4?"ButtonBusiness.Idea.InputDataStructureId":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===5?"ButtonBusiness.Idea.Rating":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===6?"ButtonBusiness.Idea.DocumentationPresentId":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===7?"AssignProcessOwner":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===8?"btnAddCollaborators":SilkFlo.ViewModels.Business.Idea.Modal.PageNumber===9?"btnFinish":`NextPage${SilkFlo.ViewModels.Business.Idea.Modal.PageNumber}`;const t=i.querySelector(`[name="${n}"]`);if(!t){console.log(`${"SilkFlo.ViewModels.Business.Idea.Modal.SetFocus: "}Element with name ${n} missing`);return}setTimeout(()=>{t.focus()},300)},ValidatePage:function(n){const i="SilkFlo.ViewModels.Business.Idea.Modal.ValidatePage: ",t=document.getElementById("FormModal_BusinessIdea");if(!t)return console.log(i+'The parent element with id of "FormModal_BusinessIdea" is missing.'),!1;const r=t.querySelector('[name="Business.Idea.noDepartments"]');if(SilkFlo.ViewModels.Business.Idea.Modal.ValidateDepartments=r?!1:!0,this.IsValid=!0,n===1){this.ValidateName(t);const n=SilkFlo.GetElementInParent(t,"Business.Idea.Summary");if(!n)return console.log(i+'The parent element with name of "Business.Idea.Summary" is missing.'),!1;this.ValidateElement(n)||(this.IsValid=!1)}if(SilkFlo.ViewModels.Business.Idea.Modal.ValidateDepartments){if(n===2){const n=SilkFlo.GetElementInParent(t,"Business.Idea.DepartmentId");this.ValidateElement(n)||(this.IsValid=!1)}}else n++;if(n===7){const n=SilkFlo.GetElementInParent(t,"Business.Idea.ProcessOwnerId");if(!n)return console.log(i+'The parent element with name of "Business.Idea.ProcessOwnerId" is missing.'),!1;this.ValidateElement(n)||(this.IsValid=!1)}return this.IsValid},ValidateName:function(n){const r="SilkFlo.ViewModels.Business.Idea.Modal.ValidateName: ",t=SilkFlo.GetElementInParent(n,"Business.Idea.Name_InvalidFeedback");if(!t){console.log(r+'The parent element with name of "Business.Idea.Name_InvalidFeedbackName" is missing.');return}const i=SilkFlo.GetElementInParent(n,"Business.Idea.Name");if(!i){console.log(r+'The parent element with name of "Business.Idea.Name" is missing.');return}t.innerHTML="Required";this.ValidateElement(i)?(this.IsValid=!0,this.CheckUniqueName(i)):(this.IsValid=!1,t.innerHTML="* Required")},CheckUniqueName:function(n){const r="SilkFlo.ViewModels.Business.Idea.Modal.CheckUniqueName: ",i=n.value;if(!i){this.IsValid=!1;return}const u=`/api/Business/Idea/CheckUniqueName/${i}`,t=new XMLHttpRequest;t.open("GET",u,!1);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.onreadystatechange=function(){return function(){if(t.readyState===XMLHttpRequest.DONE&&t.status===200){const f=t.responseText,u="FormModal_BusinessIdea",i=document.getElementById(u);if(!i){console.log(`${r}Element with id "${u}" missing`);return}n=SilkFlo.GetElementInParent(i,"Business.Idea.Name");const e=SilkFlo.GetElementInParent(i,"Business.Idea.Name_InvalidFeedback");f==="true"?(SilkFlo.ViewModels.Business.Idea.Modal.IsValid=!0,n.classList.remove("is-invalid")):(SilkFlo.ViewModels.Business.Idea.Modal.IsValid=!1,n.classList.add("is-invalid"),e.innerHTML="* The name is already used")}}}(this);t.send()},ValidateElement:function(n){let t=!0;return n.value===undefined||n.value===null||n.value.length===0?(t=!1,n.classList.add("is-invalid")):n.classList.remove("is-invalid"),t},Save:function(){const n=this.GetParent();if(n){const t=SilkFlo.Models.Business.Idea.GetModelFromParent(n,["Name","Summary","DepartmentId","TeamId","ProcessId","RuleId","InputId","InputDataStructureId","ProcessStabilityId","DocumentationPresentId","ProcessOwnerId","Rating"]);t.Collaborators=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetModel(n);SilkFlo.Models.Business.Idea.Save(t,SilkFlo.ViewModels.Business.Idea.Modal.UpdateElements,SilkFlo.DataAccess.Feedback,"ModalSubmitIdeaPages","/api/Business/Idea/Modal/Post")}},UpdateElements:function(){var n,t;window.$("#ModalSubmitIdea").modal("hide");$("#MyIdeas").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#MyTotalInBuild").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#MyTotalDeployed").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');$("#MyCollaborations").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...');n=document.getElementById("Dashboard.Idaes");$(n).empty();n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';t=document.getElementById("Dashboard.Collaborations");$(t).empty();t.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span> Loading...';$.when($.get("/api/Dashboard/Tile/GetMyIdeas"),$.get("/api/Dashboard/Tile/GetMyTotalInBuild"),$.get("/api/Dashboard/Tile/GetMyTotalDeployed"),$.get("/api/Dashboard/Tile/GetMyCollaborations"),$.get("/api/Dashboard/GetMyIdeas"),$.get("/api/Dashboard/GetMyCollaborations")).done(function(n,t,i,r,u,f){var e,o;$("#MyIdeas").html(n[0]);$("#MyTotalInBuild").html(t[0]);$("#MyTotalDeployed").html(i[0]);$("#MyCollaborations").html(r[0]);e=document.getElementById("Dashboard.Idaes");$(e).empty();e.innerHTML=u[0];o=document.getElementById("Dashboard.Collaborations");$(o).empty();o.innerHTML=f[0]})},UpdateRatingScreen:function(){const n=this.GetParent();if(n){const t=SilkFlo.Models.Business.Idea.GetModelFromParent(n,["Name","DisplayName"]);n.ModelElements.DisplayName.innerHTML=t.Name}}};SilkFlo.ViewModels.Business===undefined&&(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea===undefined&&(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.ManageCollaborators={ParentId:null,GetParent:function(){const n=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ParentId,t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetParent: "}Element with id ${n} missing`),null;return t},OpenModal:function(n,t=false){const r="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.OpenModal: ";if(!n){console.log(`${r}parentId parameter missing`);return}const i="ManageCollaborators_Modal",u=document.getElementById(i);if(!u){console.log(`${r}Element with id ${i} missing`);return}SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ParentId=n;SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Scroll=t;window.$(`#${i}`).modal("show")},GetCollaboratorCount:function(n){if(!n)return console.log(`${"SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetCollaboratorCount: "}parent parameter missing`),null;const t="Business.Idea.Collaborators",i=n.querySelector(`[name="${t}"]`);if(!i)return console.log(`${"SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetCollaboratorCount: "}Element with name ${t} missing`),null;return i.children.length},Search_KeyUp:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Search: ";if(!n){console.log(i+"modalId parameter missing");return}if(!t){console.log(i+"element parameter missing");return}const r=document.getElementById(n);if(SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ModalId=n,!r){console.log(i+'element with id "modalId" missing');return}const u=r.querySelector('[name="SearchResults"]');if(!u){console.log(i+'element with name "SearchResults" missing');return}const f=r.querySelector('[name="Collaborator_Selected"]');if(!f){console.log(i+'element with name "Collaborator_Selected" missing');return}if(t.value){const n=`/api/User/GetCollaborators/Search/${t.value}`;SilkFlo.DataAccess.UpdateElement(n,null,u)}else u.innerHTML='<div name="Collaborators_Potential"> <\/div>'},Add:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Add: ";if(n.stopPropagation(),!t){console.log(i+"id parameter missing");return}const o=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ModalId,u=document.getElementById(o);if(!u){console.log(i+'modal element with id "'+o+'" missing');return}const f=u.querySelector('[name="Collaborators_Potential"]');if(!f){console.log(i+'element with name "Collaborators_Potential" missing');return}const e=u.querySelector('[name="Collaborator_Selected"]');if(!e){console.log(i+'element with name "Collaborator_Selected" missing');return}if(e.childElementCount>0){const n=e.children[0];f.prepend(n);n.classList.remove("pulse-background-green");n.classList.add("pulse-background-red")}const r=u.querySelector('[name="'+t+'"]');if(!r){console.log(i+'Element with name "'+t+'" missing');return}e.prepend(r);r.classList.remove("pulse-background-red");r.classList.add("pulse-background-green");f.children.length===0&&f.classList.remove("Collaborators_Potential");const s=r.querySelector('[name="User.FullnameDisplay"]');s.classList.add("pulse-font-weight")},Deselect:function(n){const t="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Deselect: ";n||console.log(t+"id parameter is missing");const f=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ModalId,i=document.getElementById(f);if(!i){console.log(t+'modal element with id "'+f+'" missing');return}const u=i.querySelector('[name="Collaborators_Potential"]');if(!u){console.log(t+'element with name "Collaborators_Potential" missing');return}u.classList.add("Collaborators_Potential");const e=i.querySelector('[name="Collaborator_Selected"]');if(!e){console.log(t+'element with name "Collaborator_Selected" missing');return}const r=i.querySelector('[name="'+n+'"]');if(!r){console.log(t+'Element with name "'+n+'" missing');return}u.prepend(r);r.classList.remove("pulse-background-green");r.classList.add("pulse-background-red")},Select:function(){const n="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Select: ",i=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ModalId;let t=document.getElementById(i);if(!t){console.log(`${n}modal element with id "${i}" missing`);SilkFlo.ShowOKMessage("Missing collaborator","Please search for then select a collaborator.");return}const f=t.querySelector('[name="Collaborator_Selected"]');if(!f){console.log(n+'element with name "Collaborator_Selected" missing');return}const e=t.querySelector('[name="Collaborators_Potential"]');if(!e){console.log(n+'element with name "Collaborators_Potential" missing');return}const o=f.children;if(o.length===0){console.log(n+"No users selected");SilkFlo.ShowOKMessage("Missing Collaborator","Please search for then select a collaborator.");return}const s=o[0];if(!s){console.log(n+'element with name "User" missing');return}const r=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetModel(s);if(r.Roles.length===0){SilkFlo.ShowOKMessage("Missing Roles",`Please select roles to be assigned to ${r.Fullname}.`);return}if(SilkFlo.ViewModels.Business.Idea.ManageCollaborators.CreateCard(r))window.$(`#${i}`).modal("hide"),SilkFlo.ViewModels.Business.Idea.ManageCollaborators.Scroll&&window.scrollTo(0,document.body.scrollHeight);else{console.log(n+"Card creation failed");return}const u=e.children,h=u.length;if(u.length>0)for(let t=0;t<h;t++){const i=u[t];i.classList.remove("pulse-background-red");const r=i.querySelector('[name="User.FullnameDisplay"]');if(!r){console.log(n+'element with name "User.FullnameDisplay" missing');return}r.classList.remove("pulse-font-weight")}(t=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetParent(),t)&&SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ToggleAddCollaboratorsButton(t)},ToggleAddCollaboratorsButton:function(n){const i="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ToggleAddCollaboratorsButton: ";if(!n){console.log(`${i}parent parameter missing`);return}let t="btnAddCollaborators";const r=n.querySelector(`[name="${t}"]`);if(!r){console.log(`${i}Element with name ${t} missing`);return}t="CollaboratorMessage";const u=n.querySelector(`[name="${t}"]`);if(!u){console.log(`${i}Element with name ${t} missing`);return}t="CollaboratorLimit";const f=n.querySelector(`[name="${t}"]`);if(!f){console.log(`${i}Element with name ${t} missing`);return}const o=Number(f.value),e=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetCollaboratorCount(n);e&&(o<=e?(r.style.display="none",u.style.display=""):(r.style.display="",u.style.display="none"))},GetModel:function(n){if(!n)return console.log(`${"SilkFlo.ViewModels.Business.Idea.ManageCollaborators.GetModel: "}userElement parameter is missing`),null;const t=SilkFlo.Models.User.GetModelFromParent(n,["Id","Fullname","Email","FirstName","LastName","Status"]),i=SilkFlo.Models.Business.Role.GetModelCollectionFromParent(n,"Business.Role",["Id","IsSelected","Name"]);t.Roles=[];const r=i.length;for(let n=0;n<r;n++)i[n].IsSelected&&(t.Roles.push(i[n]),t.RolesSelected=!0);return t.RolesSelected&&n.remove(),t},CreateCard:function(n){const i="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.CreateCard: ";if(!n)return console.log(i+"model parameter is missing"),!1;if(n.Roles.length===0)return console.log(i+"No roles"),!1;if(!SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ParentId)return console.log(i+"SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ParentId missing"),!1;let r=SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ParentId;const o=document.getElementById(r);if(!o)return console.log(`${i}Element with id ${r} missing`),!1;let f="Business.Idea.Collaborators";const s=o.querySelector(`[name="${f}"]`);if(!s)return console.log(`${i}Element with name ${f} missing`),!1;r="Template.SelectedCollaborator";const h=document.getElementById(r);if(!h)return console.log(`${i}Element with id ${r} missing`),!1;r="Template.BusinessRole";const e=document.getElementById(r);if(!e)return console.log(`${i}Element with id ${r} missing`),!1;const c=document.getElementById(n.Id);if(c){f="Business.Roles";const r=c.querySelector(`[name="${f}"]`);if(!r)return console.log(`${i}Element with name ${f} missing`),!1;let t="",u=e.innerHTML;const o=n.Roles.length;for(let i=0;i<o;i++)t+=u,t=t.replaceAll("{id}",n.Roles[i].Id),t=t.replaceAll("{name}",n.Roles[i].Name);return r.innerHTML=t,!0}let t=h.innerHTML;t=t.replaceAll("{id}",n.Id);t=t.replaceAll("{firstname} {lastname}",n.Fullname);t=t.replaceAll("{firstname}",n.FirstName);t=t.replaceAll("{lastname}",n.LastName);t=t.replaceAll("{email}",n.Email);t=t.replaceAll("{status}",n.Status);let u="",l=e.innerHTML;const a=n.Roles.length;for(let t=0;t<a;t++)u+=l,u=u.replaceAll("{id}",n.Roles[t].Id),u=u.replaceAll("{name}",n.Roles[t].Name);return t=t.replaceAll("<span>roles<\/span>",u),s.innerHTML+=t,!0},Remove:function(n,t){SilkFlo.ViewModels.Business.Idea.ManageCollaborators.CollaboratorId=n;SilkFlo.ShowYesNoMessage("Remove Collaborator",`Are you sure you would like to remove the collaborator ${t}?`,SilkFlo.ViewModels.Business.Idea.ManageCollaborators.RemoveMessage_Yes)},RemoveMessage_Yes:function(){const i="SilkFlo.ViewModels.Business.Idea.ManageCollaborators.RemoveMessage_Yes: ";if(!SilkFlo.ViewModels.Business.Idea.ManageCollaborators.CollaboratorId){console.log(i+"collaborator id missing");return}const r=document.getElementById(SilkFlo.ViewModels.Business.Idea.ManageCollaborators.CollaboratorId);let n=r.parentElement,t="Business.Idea.Collaborators";if(!n&&n.name!==t){console.log(`${i}Element with name ${t} missing`);return}if(n=n.parentElement,t="Business.Idea.CollaboratorSummary",!n&&n.name!==t){console.log(`${i}Element with name ${t} missing`);return}r.remove();SilkFlo.ViewModels.Business.Idea.ManageCollaborators.ToggleAddCollaboratorsButton(n)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Section={ScrollTop:function(){window.scroll(0,0)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Section||(SilkFlo.ViewModels.Business.Idea.Section={});SilkFlo.ViewModels.Business.Idea.Section.About={ParentId:"",Parent:null,GetParent:function(){const n="Business.Idea.Section.About.Content",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.About.GetParent: "}Element with id "${n}" missing`),null;return t},Edit:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Section.About.Edit: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i}id parameter missing`);return}SilkFlo.DisableButton(n);const r=SilkFlo.ViewModels.Business.Idea.Section.About.GetParent();if(r){const u=`/api/Business/Idea/Section/About/Edit/${t}`;SilkFlo.DataAccess.UpdateElement(u,null,r,"","GET",SilkFlo.ViewModels.Business.Idea.Section.About.Edit_Callback)}},Edit_Callback:function(){SilkFlo.VieModels.Business.ManageStageAndStatus.SetDatePickers()},GetModel:function(n,t,i){if(!n)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.About.GetModel: "}parentElement parameter missing`),null;let u;u=t?["Id","Name","SubTitle","Summary","PainPointComment","NegativeImpactComment","DepartmentId","TeamId","ProcessId","RuleId","RuleComment","InputId","InputComment","InputDataStructureId","StructureComment","ProcessStabilityId","ProcessStabilityComment","DocumentationPresentId","DocumentationPresentComment","BenefitExpected","BenefitActual","ChallengeExpected","ChallengeActual","LessenLearnt","ApplicationStabilityId","ApplicationStabilityComment","AutomationGoalId","AverageWorkingDay","AverageWorkingDayComment","WorkingHour","WorkingHourComment","AverageEmployeeFullCost","AverageEmployeeFullCostComment","EmployeeCount","EmployeeCountComment","TaskFrequencyId","TaskFrequencyComment","ActivityVolumeAverage","ActivityVolumeAverageComment","AverageProcessingTime","AverageProcessingTimeComment","AverageErrorRate","AverageErrorRateComment","AverageReworkTime","AverageReworkTimeComment","AverageWorkToBeReviewed","AverageWorkToBeReviewedComment","AverageReviewTime","AverageReviewTimeComment","ProcessPeakId","ProcessPeakComment","AverageNumberOfStepId","AverageNumberOfStepComment","DataInputPercentOfStructuredId","DataInputPercentOfStructuredComment","NumberOfWaysToCompleteProcessId","NumberOfWaysToCompleteProcessComment","DecisionCountId","DecisionCountComment","DecisionDifficultyId","DecisionDifficultyComment","PotentialFineAmount","PotentialFineProbability","IsDataInputScanned","DataInputScannedComment","IsDataSensitive","IsHighRisk","IsAlternative","IsHostUpgrade"]:["Id","Name","SubTitle","Summary","PainPointComment","NegativeImpactComment","DepartmentId","TeamId","RuleComment","ProcessId","RuleId","RuleComment","InputId","InputComment","InputDataStructureId","StructureComment","ProcessStabilityId","ProcessStabilityComment","DocumentationPresentId","DocumentationPresentComment","BenefitExpected","BenefitActual","ChallengeExpected","ChallengeActual","LessenLearnt"];i&&(u.push("ProcessOwnerId"),u.push("ProcessOwnerFullname"));const r=SilkFlo.Models.Business.Idea.GetModelFromParent(n,u);t&&(r.IdeaApplicationVersions=SilkFlo.ViewModels.Business.Idea.Edit.Calculations.GetApplications(n));const f=n.querySelector(`[name="${"ManageStageAndStatus"}"]`);if(f){if(!SilkFlo.VieModels.Business.ManageStageAndStatus.Validate(n))return r;r.ManageStageAndStatus=n.Model}return SilkFlo.ViewModels.Business.Idea.Section.About.Model=r,r},Save:function(){const n=SilkFlo.ViewModels.Business.Idea.Section.About.GetParent();if(n){let t=!1,i="EditAllIdeaFields",r=n.querySelector(`[name="${i}"]`);r&&(t=!0);let f=!1;i="AssignProcessOwner";r=n.querySelector(`[name="${i}"]`);r&&(f=!0);let e="/api/Business/Idea/Section/Overview/Put";t&&(e="/api/Business/Idea/Section/DetailedAssessment/Put");const u=SilkFlo.ViewModels.Business.Idea.Section.About.GetModel(n,t,f);if(!u){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.About.Save: "}model missing`);return}SilkFlo.ViewModels.Business.Idea.Section.About.Model=u;SilkFlo.Models.Business.Idea.Save(u,SilkFlo.ViewModels.Business.Idea.Section.About.Save_Callback,SilkFlo.DataAccess.Feedback,n.id,e,"PUT")}},Save_Callback:function(){const i="SilkFlo.ViewModels.Business.Idea.Section.About.Save_Callback: ",u=SilkFlo.ViewModels.Business.Idea.Section.About.Model;if(!u){console.log(`${i}model missing`);return}const r=SilkFlo.Business.Idea.Summary.GetParent();if(r){let n="Business.Idea.Name",t=r.querySelector(`[name="${n}"]`);if(!t){console.log(`${i}Element with name ${n} missing`);return}if(t.innerHTML=u.Name,u.ProcessOwnerFullname){if(n="Business.Idea.ProcessOwner.Fullname",t=r.querySelector(`[name="${n}"]`),!t){console.log(`${i}Element with name ${n} missing`);return}t.innerHTML=u.ProcessOwnerFullname}n="ManageStageAndStatus";const f=r.querySelector(`[name="${n}"]`);if(f){if(n="Business.Idea.Detail.Meta",t=r.querySelector(`[name="${n}"]`),!t){console.log(`${i}Element with name ${n} missing`);return}n="Business.Idea.IdeaId";const u=r.querySelector(`[name="${n}"]`);if(!u){console.log(`${i}Element with name ${n} missing`);return}const f=u.value;if(!f){console.log(`${i}ideaId value missing`);return}SilkFlo.DataAccess.UpdateElement(`/api/business/idea/Detail/GetMeta/IdeaId/${f}`,null,t)}SilkFlo.ViewModels.Business.Idea.Section.About.Cancel(u.Id)}},Cancel:function(n){const t=SilkFlo.ViewModels.Business.Idea.Section.About.GetParent();if(t){const i=`/api/Business/Idea/Section/About/Detail/${n}`;SilkFlo.DataAccess.UpdateElement(i,null,t,"","GET",SilkFlo.ViewModels.Business.Idea.Section.About.Cancel_CallBack)}},Cancel_CallBack:function(){SilkFlo.ViewModels.Business.Idea.Section.ScrollTop();const n="Business.Idea.Section.About.Content",t=document.getElementById(n);if(!t){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.About.Cancel_CallBack: "}Element with id ${n} missing`);return}SilkFlo.SVGTools.AnimatePaths(t)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Section||(SilkFlo.ViewModels.Business.Idea.Section={});SilkFlo.ViewModels.Business.Idea.Section.Collaborators={IdeaId:null,GetParent:function(){const n="Business.Idea.Section.Collaborators.Content",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent: "}Element with id ${n} missing`),null;return t},Edit:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Edit: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i}id parameter missing`);return}SilkFlo.DisableButton(n);this.IdeaId=t;const r=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent();if(r){const u=`/api/Idea/Collaborator/Edit/${t}`;SilkFlo.DataAccess.UpdateElement(u,null,r)}},GetModel:function(n){const r="SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetModel: ";if(!n)return console.log(`${r}parentElement parameter missing`),null;let t="Business.Idea.Collaborators";const i=n.querySelector(`[name="${t}"]`);if(!i)return console.log(`${r}Element with name ${t} missing`),null;const f=SilkFlo.Models.Abstract.GetModelCollectionFromParent(i,"User",["Id","FirstName","LastName"],"User."),u=[],e=i.children.length;for(let n=0;n<e;n++){const r=i.children[n],s=SilkFlo.Models.Abstract.GetModelFromParent(r,["Id"],"User.");t="Business.Roles";const h=r.querySelector(`[name="${t}"]`),e=SilkFlo.Models.Abstract.GetModelCollectionFromParent(h,"Business.Role",["Id","Name"],"Business.Role.");r.Model.Roles=e;const c=f[n],o={UserId:c.Id,IdeaId:this.IdeaId};u.push(o);o.CollaboratorRoles=[];const l=e.length;for(let n=0;n<l;n++){const t=e[n],i={RoleId:t.Id,CollaboratorId:s.Id};o.CollaboratorRoles.push(i)}}return u},Save:function(){const i="SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Save: ",n=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent();if(n){if(!this.IdeaId){console.log(`${i}IdeaId missing`);return}const t=this.GetModel(n);if(!t){console.log(`${i}model missing`);return}this.Collaborators=t;this.Parent=n;SilkFlo.Models.Abstract.Save(t,SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Save_Callback,SilkFlo.DataAccess.Feedback,n.id,`/api/Business/Idea/Section/Collaborators/Post/IdeaId/${this.IdeaId}`,"POST")}},Save_Callback:function(n){const t=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent();if(t){t.innerHTML=n;const u=SilkFlo.Business.Idea.Summary.GetParent(),i="Business.Idea.Section.Collaborators.Count",r=u.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Save_Callback: "}Element with name ${i} missing`);return}r.innerHTML=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Collaborators.length}},SaveFailed_Callback:function(n){if(!SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Parent){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.Collaborators.SaveFailed_Callback: "}Parent missing`);return}let t="Save failed";if(n){const i=JSON.parse(n);t=i.error[0]}const i=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent();i&&(i.innerHTML=t)},Cancel:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.Collaborators.Cancel: "}id parameter missing`);return}const t=SilkFlo.ViewModels.Business.Idea.Section.Collaborators.GetParent();if(t){const i=`/api/Business/Idea/Section/Collaborators/Detail/ideaid/${n}`;SilkFlo.DataAccess.UpdateElement(i,null,t,"","GET",SilkFlo.ViewModels.Business.Idea.Section.ScrollTop,SilkFlo.DataAccess.Feedback)}}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Business||(SilkFlo.ViewModels.Business={});SilkFlo.ViewModels.Business.Idea||(SilkFlo.ViewModels.Business.Idea={});SilkFlo.ViewModels.Business.Idea.Section||(SilkFlo.ViewModels.Business.Idea.Section={});SilkFlo.ViewModels.Business.Idea.Section.CostBenefit={GetParent:function(){const n="Business.Idea.Section.CostBenefit.Content",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent: "}Element with id ${n} missing`),null;return t},SetMessage:function(n,t){const u="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.SetMessage";let i="errorButton";const r=document.getElementById(i);if(!r){console.log(`${u}Element with id ${i} missing`);return}n?(r.style.display="block",r.innerHTML=t===0?"1 error":t+" errors"):r.style.display="none";i="errorModalBody";const f=document.getElementById(i);if(!f){console.log(`${u}Element with id ${i} missing`);return}n=`<div style="color: var(--bs-danger);">${n}</div>`;f.innerHTML=n},Edit:function(n,t){const i="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Edit: ";if(!n){console.log(`${i}element parameter missing`);return}if(!t){console.log(`${i}id parameter missing`);return}SilkFlo.DisableButton(n);const r=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(r){const u=`/api/Business/Idea/Section/CostBenefit/Edit/${t}`;SilkFlo.DataAccess.UpdateElement(u,null,r,null,"GET",SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Edit_CallBack)}},Edit_CallBack:function(){SilkFlo.DataAccess.GetComponents();SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.CreateGanttCharts();SilkFlo.ViewModels.Business.Idea.Edit.OneTimeCosts.CalculateTotals();const n=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(n){const t="Business.IdeaRunningCost.Tbody",i=n.querySelector(`[name="${t}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Edit_CallBack: "}Element with name ${t} missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.RPSSoftwareCosts.UpdateTotals(i);SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateOtherRunningCosts("Business.Idea.CostBenefit.CostEstimates.SoftwareLicence");SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateOtherRunningCosts("Business.Idea.CostBenefit.CostEstimates.Support");SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateOtherRunningCosts("Business.Idea.CostBenefit.CostEstimates.Infrastructure");SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateOtherRunningCosts("Business.Idea.CostBenefit.CostEstimates.Other");SilkFlo.ViewModels.Business.Idea.Edit.RunningCosts.UpdateTotals()}},UpdateOtherRunningCosts:function(n){const t="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateOtherRunningCosts: ";if(!n){console.log(`${t}parentId parameter missing`);return}const i=document.getElementById(n);if(!i){console.log(`${t}Element with id ${n} missing`);return}const r="tbody",u=i.querySelector(`[name="${r}"]`);if(!u){console.log(`${t}Element with name ${r} missing`);return}SilkFlo.ViewModels.Business.Idea.Edit.IdeaOtherRunningCosts.UpdateTotals(u)},RunningCostId_Change:function(){SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateDisplay();SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateWorkloadSplitEstimations()},WorkloadSplit_OnInput:function(n){const t=n.target,i=t.innerHTML.trim();IsNumeric(i)&&(i<0&&(t.innerHTML=0),i>100&&(t.innerHTML=100));SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateWorkloadSplitEstimations()},UpdateWorkloadSplitEstimations:function(){const f="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateWorkloadSplitEstimations: ",n=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(n){const e=SilkFlo.Models.Abstract.GetModelFromParent(n,["RunningCostId","B1","C1","WorkloadSplit"],"Business.Idea.");let u="";if(n.ModelElements.RunningCostId.selectedIndex!==-1){const t=n.ModelElements.RunningCostId.children[n.ModelElements.RunningCostId.selectedIndex];u=t.getAttribute("AutomationTypeId")}let i=100;if(u==="Unattended"){const t=n.ModelElements.C1.getAttribute("estimatedAutomationPotential");if(!t){console.log(`${f}B2 value attribute missing`);return}i=t*1}let t=e.WorkloadSplit;t||t===0||(t=0);const r=100-t;n.ModelElements.B1.innerHTML=SilkFlo.FormatNumber(r)+"&nbsp;%";n.ModelElements.C1.innerHTML=u?SilkFlo.FormatNumber(i)+"&nbsp;%":"";SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow2VolumePerYear(r,i,t);SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow3TotalFTEFTR(r,i,t,u);SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow4TotalHoursYear(r,i,t);SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow567RunningCost(r,i,t)}},UpdateAHTRobotPerTransaction:function(){const i=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(i){const t=SilkFlo.Models.Abstract.GetModelFromParent(i,["RobotSpeedMultiplier","AHT","AHTRobot"],"Business.Idea."),r=i.ModelElements;let n;if(t.RobotSpeedMultiplier){const i=t.AHT*1,r=t.RobotSpeedMultiplier*1,u=i/r;n=SilkFlo.FormatNumber(u)}else n=SilkFlo.FormatNumber(t.AHT);n=n.replace(",","");r.AHTRobot.innerHTML=n;SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateWorkloadSplitEstimations()}},UpdateDisplay:function(){const r=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(r){const t=SilkFlo.Models.Abstract.GetModelFromParent(r,["RunningCostId","ProcessVolumetryPerYear","ProcessVolumetryPerMonth","EmployeeCount","RobotWorkHourDay","RobotWorkDayYear","RobotSpeedMultiplier","RobotWorkHourDay_Container","RobotWorkDayYear_Container"],"Business.Idea."),n=r.ModelElements;let u="";if(n.RunningCostId.selectedIndex!==-1){const t=n.RunningCostId.children[n.RunningCostId.selectedIndex];u=t.getAttribute("AutomationTypeId")}u==="Attended"?(n.ProcessVolumetryPerYear.style.background="",n.ProcessVolumetryPerYear.setAttribute("contenteditable",""),n.ProcessVolumetryPerMonth.style.background="",n.ProcessVolumetryPerMonth.setAttribute("contenteditable",""),n.EmployeeCount.style.background="",n.EmployeeCount.setAttribute("contenteditable",""),n.RobotWorkHourDay_Container.style.display="none",n.RobotWorkDayYear_Container.style.display="none"):u==="Unattended"?(n.ProcessVolumetryPerYear.style.background="var(--readOnly-background)",n.ProcessVolumetryPerYear.removeAttribute("contenteditable"),n.ProcessVolumetryPerMonth.style.background="var(--readOnly-background)",n.ProcessVolumetryPerMonth.removeAttribute("contenteditable"),n.EmployeeCount.style.background="var(--readOnly-background)",n.EmployeeCount.removeAttribute("contenteditable"),n.RobotWorkHourDay_Container.style.display="block",n.RobotWorkDayYear_Container.style.display="block"):(n.ProcessVolumetryPerYear.style.background="var(--readOnly-background)",n.ProcessVolumetryPerYear.removeAttribute("contenteditable"),n.ProcessVolumetryPerMonth.style.background="var(--readOnly-background)",n.ProcessVolumetryPerMonth.removeAttribute("contenteditable"),n.EmployeeCount.style.background="var(--readOnly-background)",n.EmployeeCount.removeAttribute("contenteditable"),n.RobotWorkHourDay_Container.style.display="none",n.RobotWorkDayYear_Container.style.display="none");let i="",f=0;(t.RobotWorkHourDay<0||t.RobotWorkHourDay>24)&&(i+="<p>The robot working hours in a day must be between 0 and 24.<\/p>",f++);(t.RobotWorkDayYear<0||t.RobotWorkDayYear>365)&&(i+="<p>The robot working days in a year must be between 0 and 365.<\/p>",f++);SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.SetMessage(i,f);i}},UpdateRow2VolumePerYear:function(n,t,i){const r="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow2VolumePerYear: ";if(!IsNumeric(n)){console.log(`${r}automationPotential is not a number`);return}if(!IsNumeric(t)){console.log(`${r}estimatedAutomationPotential is not a number`);return}if(!IsNumeric(i)){console.log(`${r}workloadSplit is not a number`);return}const f=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(f){const o=SilkFlo.Models.Abstract.GetModelFromParent(f,["RunningCostId","A2","B2","C2","D2"],"Business.Idea."),u=f.ModelElements,s=u.A2.getAttribute("value");if(!s){console.log(`${r}A2 value attribute missing`);return}const e=s*1;u.B2.innerHTML=o.RunningCostId?SilkFlo.FormatNumber(e/100*n):"";u.C2.innerHTML=o.RunningCostId?SilkFlo.FormatNumber(e/100*t):"";u.D2.innerHTML=SilkFlo.FormatNumber(e/100*i)}},UpdateRow3TotalFTEFTR:function(n,t,i,r){const e="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow3TotalFTEFTR: ";if(!IsNumeric(n)){console.log(`${e}automationPotential is not a number`);return}if(!IsNumeric(t)){console.log(`${e}estimatedAutomationPotential is not a number`);return}if(!IsNumeric(i)){console.log(`${e}workloadSplit is not a number`);return}const o=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(o){const u=SilkFlo.Models.Abstract.GetModelFromParent(o,["RunningCostId","A3","B3","C3","D3","ProcessVolumetryPerYear","AHTRobot","RobotWorkDayYear","RobotWorkHourDay"],"Business.Idea."),f=o.ModelElements,s=f.A3.getAttribute("value");if(!s){console.log(`${e}A3 value attribute missing`);return}const v=s*1;f.B3.innerHTML=u.RunningCostId?SilkFlo.FormatNumber(v/100*n):"";const h=u.ProcessVolumetryPerYear*1,c=u.AHTRobot*1,l=u.RobotWorkDayYear*1,a=u.RobotWorkHourDay*1;u.RunningCostId?u.RobotWorkDayYear&&u.RobotWorkHourDay&&r!=="Attended"?(f.C3.innerHTML=SilkFlo.FormatNumber(h*t*c/100/l/a/60),f.D3.innerHTML=SilkFlo.FormatNumber(h*i*c/100/l/a/60)):(f.C3.innerHTML="",f.D3.innerHTML=""):(f.C3.innerHTML="",f.D3.innerHTML="")}},UpdateRow4TotalHoursYear:function(n,t,i){const r="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow4TotalHoursYear: ";if(!IsNumeric(n)){console.log(`${r}automationPotential is not a number`);return}if(!IsNumeric(t)){console.log(`${r}estimatedAutomationPotential is not a number`);return}if(!IsNumeric(i)){console.log(`${r}workloadSplit is not a number`);return}const u=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(u){const o=SilkFlo.Models.Abstract.GetModelFromParent(u,["RunningCostId","A4","B4","C4","D4"],"Business.Idea."),f=u.ModelElements,e=f.A4.getAttribute("value");if(!e){console.log(`${r}A4 value attribute missing`);return}const s=e*1;f.B4.innerHTML=o.RunningCostId?SilkFlo.FormatNumber(s/100*n):""}},UpdateRow567RunningCost:function(n,t,i){const e="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow567RunningCost: ";if(!IsNumeric(n)){console.log(`${e}automationPotential is not a number`);return}if(!IsNumeric(t)){console.log(`${e}estimatedAutomationPotential is not a number`);return}if(!IsNumeric(i)){console.log(`${e}workloadSplit is not a number`);return}const o=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(o){const u=SilkFlo.Models.Abstract.GetModelFromParent(o,["RunningCostId","A5","B5","C5","D5","B6","C6","D6","A7","B7","C7","D7","Currency","ProcessVolumetryPerYear"],"Business.Idea."),r=o.ModelElements,l=r.A5.getAttribute("value");if(!l){console.log(`${e}A5 value attribute missing`);return}const w=l*1;if(u.RunningCostId){const t=w/100*n;r.B5.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(t);r.B6.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(t/12)}else r.B5.innerHTML="",r.B6.innerHTML="";const a=r.A7.getAttribute("value");if(!a){console.log(`${e}A7 value attribute missing`);return}const b=a*1;if(u.RunningCostId){const t=b/100*n;r.B7.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(t)}else r.B7.innerHTML="";let f=0,s="Business.IdeaRunningCost.TotalCostPerYear";const v=o.querySelectorAll('[name="'+s+'"]');let h=v.length;for(let n=0;n<h;n++){const t=v[n].getAttribute("value");t&&(f+=t*1)}s="Business.IdeaOtherRunningCost.TotalCostPerYear";const y=o.querySelectorAll('[name="'+s+'"]');h=y.length;for(let n=0;n<h;n++){const t=y[n].getAttribute("value");t&&(f+=t*1)}let c=0;u.ProcessVolumetryPerYear&&(c=f/u.ProcessVolumetryPerYear*1);const p=f/12;r.C5.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(f);r.D5.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(f);r.C6.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(p);r.D6.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(p);r.C7.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(c);r.D7.innerHTML=u.Currency+"&nbsp;"+SilkFlo.FormatNumber(c)}},UpdateRow7HumanRunningCostTransaction:function(n,t,i){const r="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.UpdateRow7HumanRunningCostTransaction: ";if(!IsNumeric(n)){console.log(`${r}automationPotential is not a number`);return}if(!IsNumeric(t)){console.log(`${r}estimatedAutomationPotential is not a number`);return}if(!IsNumeric(i)){console.log(`${r}workloadSplit is not a number`);return}const u=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(u){const e=SilkFlo.Models.Abstract.GetModelFromParent(u,["RunningCostId","A7","B7","C7","D7","Currency"],"Business.Idea."),f=u.ModelElements,o=f.A7.getAttribute("value");if(!o){console.log(`${r}A7 value attribute missing`);return}const s=o*1;if(e.RunningCostId){const t=s/100*n;f.B7.innerHTML=e.Currency+"&nbsp;"+SilkFlo.FormatNumber(t)}else f.B7.innerHTML=""}},GetTimeLineModel:function(){const r="SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetTimeLineModel: ",i={};let n="gantt1",t=document.getElementById(n);if(!t)return console.log(`${r}Element with id ${n} missing`),null;let u=SilkFlo.Models.Abstract.GetModelCollectionFromParent(t,"Business.IdeaStage",["Id","DateStart","DateEnd"],"Business.IdeaStage.");if(i.IdeaStageEstimates=u,n="gantt2",t=document.getElementById(n),!t)return console.log(`${r}Element with id ${n} missing`),null;const f=SilkFlo.Models.Abstract.GetModelCollectionFromParent(t,"Business.IdeaStage",["Id","DateStart","DateEnd"],"Business.IdeaStage.");return i.IdeaStages=f,SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Model=i,i},Save:function(){const t=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(t){const n=SilkFlo.Models.Abstract.GetModelFromParent(t,["Id","EaseOfImplementationFinal","RunningCostId","ProcessVolumetryPerYear","ProcessVolumetryPerMonth","EmployeeCount","RobotWorkHourDay","RobotWorkDayYear","RobotSpeedMultiplier","AHTRobot","WorkloadSplit"],"Business.Idea."),i=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetTimeLineModel();if(!i){console.log(`${"SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Save: "}timelineModel missing`);return}const r=SilkFlo.Models.Abstract.GetModelCollectionFromParent(t,"Business.ImplementationCost",["IdeaStageId","RoleId","Allocation","Day"],"Business.ImplementationCost."),u=SilkFlo.Models.Abstract.GetModelCollectionFromParent(t,"Business.IdeaRunningCost",["RunningCostId","LicenceCount"],"Business.IdeaRunningCost."),f=SilkFlo.Models.Abstract.GetModelCollectionFromParent(t,"Business.IdeaOtherRunningCost",["OtherRunningCostId","Number"],"Business.IdeaOtherRunningCost.");n.IdeaStageEstimates=i.IdeaStageEstimates;n.IdeaStages=i.IdeaStages;n.ImplementationCosts=r;n.IdeaRunningCosts=u;n.IdeaOtherRunningCosts=f;SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Model=n;SilkFlo.Models.Abstract.Save(n,SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Save_Callback,SilkFlo.DataAccess.Feedback,t.id,"/api/Business/Idea/Section/CostBenefit/Post","PUT")}},Save_Callback:function(){const n=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Model;SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Cancel(n.Id)},Cancel:function(n){const t=SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.GetParent();if(t){const i=`/api/Business/Idea/Section/CostBenefit/Detail/${n}`;SilkFlo.DataAccess.UpdateElement(i,null,t,"","GET",SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.Cancel_Callback)}},Cancel_Callback:function(){SilkFlo.ViewModels.Business.Idea.Section.CostBenefit.CreateGanttCharts();SilkFlo.ViewModels.Business.Idea.Section.ScrollTop();SilkFlo.DataAccess.GetComponents()},CreateGanttCharts:function(){Gantt.MainById("gantt1");Gantt.MainById("gantt2")}};SilkFlo.VieModels===undefined&&(SilkFlo.VieModels={});SilkFlo.VieModels.Business===undefined&&(SilkFlo.VieModels.Business={});SilkFlo.VieModels.Business.ManageStageAndStatus={GetParent:function(){const n="ManageStageAndStatus",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.VieModels.Business.ManageStageAndStatus.GetParent: "}Element with id ${n} missing`),null;return t},SetWarning:function(n){n||SilkFlo.VieModels.Business.ManageStageAndStatus.SetMessage("");SilkFlo.VieModels.Business.ManageStageAndStatus.SetMessage(`<span class="text-warning">${n}</span>`)},ShowError:function(n){n||SilkFlo.VieModels.Business.ManageStageAndStatus.SetMessage("");SilkFlo.VieModels.Business.ManageStageAndStatus.SetMessage(`<span class="text-danger">${n}</span>`)},SetMessage:function(n){const t=this.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.VieModels.Business.ManageStageAndStatus.SetMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},Get:function(n,t){const i=document.getElementById("manageStageAndStatus");if(i){SilkFlo.VieModels.Business.ManageStageAndStatus.ReturnFunction=t;const r=`/api/Business/Idea/GetManageStageAndStatus/modal/ideaId/${n}`;SilkFlo.DataAccess.UpdateElement(r,null,i,"","GET",SilkFlo.VieModels.Business.ManageStageAndStatus.SetDatePickers)}},SetDatePickers:function(){const i="SilkFlo.VieModels.Business.ManageStageAndStatus.SetDatePickers: ";let r=document.getElementById("AccessDenied.Modal.Message");if(!r){const t=SilkFlo.VieModels.Business.ManageStageAndStatus.GetParent();if(t){let n="AutomaticStartDate";if(r=t.querySelector(`[name="${n}"]`),!r){n="Shared.StageGroup.Id";const s=t.querySelector(`[name="${n}"]`);if(!s){console.log(`${i}Element with name ${n} missing`);return}const h=s.value;if(!h){console.log(`${i}stageGroupId missing`);return}n="Business.IdeaStage.DateStartEstimate";const u=t.querySelector(`[name="${n}"]`);if(!u){console.log(`${i}element with name "${n}" missing`);return}n="Business.IdeaStage.BtnEstimateDate";const f=t.querySelector(`[name="${n}"]`);if(!f){console.log(`${i}element with name "${n}" missing`);return}n="Business.IdeaStage.DateStart";const e=t.querySelector(`[name="${n}"]`);if(!e){console.log(`${i}element with name "${n}" missing`);return}n="Business.IdeaStage.BtnActualDate";const o=t.querySelector(`[name="${n}"]`);if(!o){console.log(`${i}element with name "${n}" missing`);return}if(h==="n04_Deployed")Delaney.UI.DatePicker.Main(u,f),Delaney.UI.DatePicker.Main(e,o);else{n="Business.IdeaStage.DateEndEstimate";const r=t.querySelector(`[name="${n}"]`);if(!r){console.log(`${i}element with name "${n}" missing`);return}n="Business.IdeaStage.DateEnd";const s=t.querySelector(`[name="${n}"]`);if(!s){console.log(`${i}element with name "${n}" missing`);return}Delaney.UI.DatePicker.MainRangeSelector(u,r,f);Delaney.UI.DatePicker.MainRangeSelector(e,s,o)}}}}},SetDateTimeElements:function(){const t="SilkFlo.VieModels.Business.ManageStageAndStatus.SetDateTimeElements: ",n=SilkFlo.VieModels.Business.ManageStageAndStatus.GetParent();if(n){const i=SilkFlo.VieModels.Business.ManageStageAndStatus.GetModel(n);if(!i){console.log(`${t}model missing`);return}if(!i.CurrentIdeaStage){console.log(`${t}model.CurrentIdeaStage missing`);return}if(!i.CurrentIdeaStage.IsAutomaticDate){if(!n.ModelElements){console.log(`${t}parent.ModelElements missing`);return}if(i.CurrentIdeaStage.IsDeployedGroup)SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["LblDateEstimate","DateStartEstimate","BtnEstimateDate","LblDate","DateStart","BtnActualDate"],"Business.IdeaStage.");else{if(SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["LblDateEstimate","DateStartEstimate","DateEndEstimate","BtnEstimateDate","LblDate","DateStart","DateEnd","BtnActualDate"],"Business.IdeaStage."),!n.ModelElements.DateEndEstimate){console.log(`${t}parent.ModelElements.DateEndEstimate missing`);return}if(!n.ModelElements.DateEnd){console.log(`${t}parent.ModelElements.DateEnd missing`);return}}if(!n.ModelElements.LblDateEstimate){console.log(`${t}parent.ModelElements.LblDateEstimate missing`);return}if(!n.ModelElements.DateStartEstimate){console.log(`${t}parent.ModelElements.DateStartEstimate missing`);return}if(!n.ModelElements.BtnEstimateDate){console.log(`${t}parent.ModelElements.BtnEstimateDate missing`);return}if(!n.ModelElements.LblDate){console.log(`${t}parent.ModelElements.LblDate missing`);return}if(!n.ModelElements.DateStart){console.log(`${t}parent.ModelElements.DateStart missing`);return}if(!n.ModelElements.BtnActualDate){console.log(`${t}parent.ModelElements.BtnActualDate missing`);return}i.CurrentIdeaStage.IsAutomaticDate||i.NextIdeaStatus.StatusId===null?(n.ModelElements.LblDateEstimate.classList.remove("has-validation"),n.ModelElements.LblDateEstimate.classList.remove("mandatory"),n.ModelElements.DateStartEstimate.setAttribute("disabled","disabled"),n.ModelElements.DateStartEstimate.LastValue&&(n.ModelElements.DateStartEstimate.value=n.ModelElements.DateStartEstimate.LastValue),n.ModelElements.BtnEstimateDate.setAttribute("disabled","disabled"),n.ModelElements.DateEndEstimate.setAttribute("disabled","disabled"),n.ModelElements.DateEndEstimate.LastValue!==undefined&&(n.ModelElements.DateEndEstimate.value=n.ModelElements.DateEndEstimate.LastValue),n.ModelElements.BtnActualDate.setAttribute("disabled","disabled"),n.ModelElements.LblDate.classList.remove("has-validation"),n.ModelElements.LblDate.classList.remove("mandatory"),n.ModelElements.DateStart.setAttribute("disabled","disabled"),n.ModelElements.DateStart.LastValue!==undefined&&(n.ModelElements.DateStart.value=n.ModelElements.DateStart.LastValue),n.ModelElements.BtnActualDate.setAttribute("disabled","disabled"),n.ModelElements.DateEnd.setAttribute("disabled","disabled"),n.ModelElements.DateEnd.LastValue!==undefined&&(n.ModelElements.DateEnd.value=n.ModelElements.DateEnd.LastValue)):(n.ModelElements.LblDateEstimate.classList.add("has-validation"),n.ModelElements.LblDateEstimate.classList.add("mandatory"),n.ModelElements.DateStartEstimate.removeAttribute("disabled"),n.ModelElements.DateStartEstimate.LastValue=n.ModelElements.DateStartEstimate.value,n.ModelElements.BtnEstimateDate.removeAttribute("disabled"),i.CurrentIdeaStage.IsDeployedGroup||(n.ModelElements.DateEndEstimate.removeAttribute("disabled"),n.ModelElements.DateEndEstimate.LastValue=n.ModelElements.DateEndEstimate.value),n.ModelElements.LblDate.classList.add("has-validation"),n.ModelElements.LblDate.classList.add("mandatory"),n.ModelElements.DateStart.removeAttribute("disabled"),n.ModelElements.DateStart.LastValue=n.ModelElements.DateStart.value,n.ModelElements.BtnActualDate.removeAttribute("disabled"),i.CurrentIdeaStage.IsDeployedGroup||(n.ModelElements.DateEnd.removeAttribute("disabled"),n.ModelElements.DateEnd.LastValue=n.ModelElements.DateEnd.value))}}},UncheckOption:function(n){const t=SilkFlo.VieModels.Business.ManageStageAndStatus.GetParent();if(t){const i="Shared.IdeaStatuses",u=t.querySelector(`[name="${i}"]`);if(!u){console.log(`${"SilkFlo.VieModels.Business.ManageStageAndStatus.UncheckOption: "}element with name "${i}" missing`);return}const r=t.querySelectorAll('[name="Shared.IdeaStatus.IsSelected"]'),f=r.length;for(let t=0;t<f;t++){const i=r[t];i!==n&&(i.checked=!1)}}},GetModel:function(n){const r="SilkFlo.VieModels.Business.ManageStageAndStatus.GetModel: ",t={NextIdeaStatus:{StatusId:null,StageId:null},CurrentIdeaStage:{IsAutomaticDate:!1,IsDeployedGroup:!1,StageId:null,DateStartEstimate:null,DateEndEstimate:null,DateStart:null,DateEnd:null},MinDate:null,IdeaId:null,IsSelected:!1};if(!n)return console.log(`${r}parent parameter missing`),null;let i="Shared.IdeaStatuses",u=n.querySelector(`[name="${i}"]`);if(!u)return console.log(`${r}Element with name ${i} missing`),null;const f=SilkFlo.Models.Shared.IdeaStatus.GetModelCollectionFromParent(n,"Shared.IdeaStatus",["StatusId","StageId","IsSelected"]),e=f.length;for(let n=0;n<e;n++){const i=f[n];if(i.IsSelected){t.NextIdeaStatus.StatusId=i.StatusId;t.NextIdeaStatus.StageId=i.StageId;t.IsSelected=!0;break}}if(i="Business.Idea.Id",u=n.querySelector(`[name="${i}"]`),!u)return console.log(`${r}Element with name ${i} missing`),null;t.IdeaId=u.value;i="AutomaticStartDate";const o=n.querySelector(`[name="${i}"]`);if(o){t.CurrentIdeaStage.IsAutomaticDate=!0;const i=SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["StageId"],"Business.IdeaStage.");return t.CurrentIdeaStage.StageId=i.StageId,n.Model=t,t}if(t.CurrentIdeaStage.IsDeployedGroup=SilkFlo.VieModels.Business.ManageStageAndStatus.IsDeployedGroup(n),t.CurrentIdeaStage.IsDeployedGroup){const i=SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["StageId","DateStartEstimate","DateStart"],"Business.IdeaStage.");t.CurrentIdeaStage.StageId=i.StageId;t.CurrentIdeaStage.DateStartEstimate=i.DateStartEstimate;t.CurrentIdeaStage.DateStart=i.DateStart;const u=n.ModelElements.DateStartEstimate.getAttribute("min");if(!u)return console.log(`${r}min attribute is missing from element with name "Business.IdeaStage.DateStartEstimate"`),null;const f=SilkFlo.VieModels.Business.ManageStageAndStatus.GetISOString(u);t.MinDate=new Date(f)}else{const i=SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["StageId","DateStartEstimate","DateEndEstimate","DateStart","DateEnd"],"Business.IdeaStage.");t.CurrentIdeaStage.StageId=i.StageId;t.CurrentIdeaStage.DateStartEstimate=i.DateStartEstimate;t.CurrentIdeaStage.DateEndEstimate=i.DateEndEstimate;t.CurrentIdeaStage.DateStart=i.DateStart;t.CurrentIdeaStage.DateEnd=i.DateEnd}return t},IsDeployedGroup:function(n){const t="SilkFlo.VieModels.Business.ManageStageAndStatus.IsDeployedGroup: ";if(!n)return console.log(`${t}element parameter missing`),!1;const i="Shared.StageGroup.Id",r=n.querySelector(`[name="${i}"]`);if(!r)return console.log(`${t}Element with name ${i} missing`),!1;const u=r.value;return u?u==="n04_Deployed":(console.log(`${t}stageGroupId missing`),!1)},Validate:function(n){const r="SilkFlo.VieModels.Business.ManageStageAndStatus.Validate: ";if(!n)return console.log(r+"parent parameter missing"),!1;const t=SilkFlo.VieModels.Business.ManageStageAndStatus.GetModel(n);if(!t)return console.log(r+"model is missing"),!1;if(!t.IsSelected)return SilkFlo.VieModels.Business.ManageStageAndStatus.SetWarning("Please select a status."),!1;if(!t.CurrentIdeaStage.IsAutomaticDate)if(t.CurrentIdeaStage.IsDeployedGroup){if(!t.CurrentIdeaStage.DateStartEstimate&&!t.CurrentIdeaStage.DateStart)return SilkFlo.VieModels.Business.ManageStageAndStatus.SetWarning("Please provide dates."),!1}else if(!t.CurrentIdeaStage.DateStartEstimate&&!t.CurrentIdeaStage.DateEndEstimate&&!t.CurrentIdeaStage.DateStart&&!t.CurrentIdeaStage.DateEnd)return SilkFlo.VieModels.Business.ManageStageAndStatus.SetWarning("Please provide dates."),!1;if(!t.NextIdeaStatus.StatusId)return SilkFlo.VieModels.Business.ManageStageAndStatus.ShowError("Please select a status."),!1;let i=!0;if(!t.CurrentIdeaStage.IsAutomaticDate){if(t.CurrentIdeaStage.IsDeployedGroup){if(!t.CurrentIdeaStage.DateStartEstimate||!t.CurrentIdeaStage.DateStart)return SilkFlo.VieModels.Business.ManageStageAndStatus.SetWarning("Please complete current stage information."),!1;SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["DateStartEstimate_InvalidFeedback","DateStart_InvalidFeedback"],"Business.IdeaStage.")}else{if(!t.CurrentIdeaStage.DateStartEstimate||!t.CurrentIdeaStage.DateEndEstimate||!t.CurrentIdeaStage.DateStart||!t.CurrentIdeaStage.DateEnd)return SilkFlo.VieModels.Business.ManageStageAndStatus.SetWarning("Please complete current stage information."),!1;SilkFlo.Models.Shared.IdeaStatus.GetModelFromParent(n,["DateStartEstimate_InvalidFeedback","DateEndEstimate_InvalidFeedback","DateStart_InvalidFeedback","DateEnd_InvalidFeedback"],"Business.IdeaStage.")}t.CurrentIdeaStage.DateStartEstimate<t.MinDate?(n.ModelElements.DateStartEstimate_InvalidFeedback.style.display="block",n.ModelElements.DateStartEstimate_InvalidFeedback.innerHTML=`The estimated date must be greater than ${this.GetISOString(t.MinDate)}.`,i=!1):n.ModelElements.DateStartEstimate_InvalidFeedback.style.display="";t.CurrentIdeaStage.IsDeployedGroup||(t.CurrentIdeaStage.DateEndEstimate<=0?(n.ModelElements.DateEndEstimate_InvalidFeedback.style.display="block",i=!1):n.ModelElements.DateEndEstimate_InvalidFeedback.style.display="");t.CurrentIdeaStage.DateStart<t.MinDate?(n.ModelElements.DateStart_InvalidFeedback.style.display="block",n.ModelElements.DateStart_InvalidFeedback.innerHTML=`The actual date must be greater than ${this.GetISOString(this.Model.MinDate)}.`,i=!1):n.ModelElements.DateStart_InvalidFeedback.style.display="";t.CurrentIdeaStage.DateStartEstimate!==""&&t.CurrentIdeaStage.DateStartEstimate<t.MinDate&&(SilkFlo.VieModels.Business.ManageStageAndStatus.ShowError("Please complete the stage fields."),i=!1);t.CurrentIdeaStage.IsDeployedGroup||t.CurrentIdeaStage.IsDeployedGroup||(t.CurrentIdeaStage.DateEnd<t.MinDate?(n.ModelElements.DateEnd_InvalidFeedback.style.display="block",n.ModelElements.DateEnd_InvalidFeedback.innerHTML=`The actual date must be greater than ${this.GetISOString(this.Model.MinDate)}.`,i=!1):n.ModelElements.DateEnd_InvalidFeedback.style.display="")}return(n.Model=t,!i)?!1:!0},Save:function(){const n=SilkFlo.VieModels.Business.ManageStageAndStatus.GetParent();if(n&&SilkFlo.VieModels.Business.ManageStageAndStatus.Validate(n)){SilkFlo.VieModels.Business.ManageStageAndStatus.Parent=n;SilkFlo.VieModels.Business.ManageStageAndStatus.IdeaId=n.Model.IdeaId;SilkFlo.Models.Shared.IdeaStatus.Save(n.Model,SilkFlo.VieModels.Business.ManageStageAndStatus.Save_Callback,SilkFlo.DataAccess.Feedback,n.id,"/api/Business/Idea/SaveStatus")}},Save_Callback:function(){const i="SilkFlo.VieModels.Business.ManageStageAndStatus.Save_Callback: ",u=SilkFlo.VieModels.Business.ManageStageAndStatus.Parent;if(!u){console.log(`${i}SilkFlo.VieModels.Business.ManageStageAndStatus.Parent missing`);return}const r=SilkFlo.VieModels.Business.ManageStageAndStatus.IdeaId;if(!r){console.log(`${i}SilkFlo.VieModels.Business.ManageStageAndStatus.IdeaId missing`);return}const f=u.Model;if(!f){console.log(`${i}parent.Model missing`);return}let t=`StageCell_${r}`,n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t=`StatusCell_${r}`;n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="totalIdeas";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="totalInBuild";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="Dashboard/GetTotalIdeas";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="totalDeployed";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="Chart.AutomationProgramPerformance";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="Chart.AutomationBuildPipeline";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);t="Chart.GlobalOverview";n=document.getElementById(t);n&&SilkFlo.DataAccess.UpdateTargetElement(n);window.$("#manageStageAndStatusContainer").modal("hide")},GetISOString:function(n){if(!n)return console.log("SilkFlo.VieModels.Business.ManageStageAndStatus.GetISOString: dateString parameter missing"),null;const t=new Date(n);let i=t.toISOString();return i.substring(0,10)}};SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Subscribe={Model:null,GetParent:function(){const n="subscribe",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Subscribe.GetParent: "}Element with id ${n} missing`),null;return t},ShowMessage:function(n){const t=this.GetParent();if(t){const i="Message",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Subscribe.ShowMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},UpdateCoupon_OnInput:function(n){n.code==="Enter"&&SilkFlo.ViewModels.Subscribe.UpdateCoupon()},UpdateCoupon:function(){const i="SilkFlo.ViewModels.Subscribe.UpdateCoupon: ",r=SilkFlo.ViewModels.Subscribe.GetParent();let n="Account.SignUp.CouponCode",t=r.querySelector(`[name="${n}"]`);if(!t){console.log(`${i}Element with name ${n} missing`);return}if(SilkFlo.SetCookie("CouponName",t.value),n="Account.SignUp.PriceId",t=r.querySelector(`[name="${n}"]`),!t){console.log(`${i}Element with name ${n} missing`);return}SilkFlo.SetCookie("PriceId",t.value);SilkFlo.DataAccess.GetObject("/api/shop/Subscribe/GetCoupon",SilkFlo.ViewModels.Subscribe.CouponUpdateAmount,SilkFlo.ViewModels.Subscribe.NoCouponFeedback)},CouponUpdateAmount:function(n){const u="SilkFlo.ViewModels.Subscribe.CouponUpdateAmount: ";if(n){const f=JSON.parse(n),r=SilkFlo.ViewModels.Subscribe.GetParent();SilkFlo.ViewModels.Subscribe.UpdateOrderSummary(f,r,"Account.SignUp.OrderSummary");let i="Account.SignUp.CouponCode",t=r.querySelector(`[name="${i}"]`);if(!t){console.log(`${u}Element with name ${i} missing`);return}if(t.classList.remove("is-invalid"),i="Account.SignUp.CouponCodeMessage",t=r.querySelector(`[name="${i}"]`),!t){console.log(`${u}Element with name ${i} missing`);return}t.innerHTML="Coupon Applied!";t.classList.remove("text-danger");t.classList.add("text-success");t.style.display=""}},NoCouponFeedback:function(n){const u="SilkFlo.ViewModels.Subscribe.NoCouponFeedback: ";if(n){const f=JSON.parse(n);if(f.message){const r=SilkFlo.ViewModels.Subscribe.GetParent();SilkFlo.ViewModels.Subscribe.UpdateOrderSummary(null,r,"Account.SignUp.OrderSummary");let i="Account.SignUp.CouponCode",t=r.querySelector(`[name="${i}"]`);if(!t){console.log(`${u}Element with name ${i} missing`);return}if(t.classList.add("is-invalid"),i="Account.SignUp.CouponCodeMessage",t=r.querySelector(`[name="${i}"]`),!t){console.log(`${u}Element with name ${i} missing`);return}t.innerHTML=f.message;t.classList.add("text-danger");t.classList.remove("text-success");t.style.display=""}}},UpdateOrderSummary:function(n,t,i){const u="SilkFlo.ViewModels.Subscribe.UpdateOrderSummary: ";if(!t){console.log(`${u}parent parameter missing`);return}if(!i){console.log(`${u}name parameter missing`);return}let f=t.querySelector(`[name="${i}"]`);if(!f){console.log(`${u}Element with name ${i} missing`);return}i="OrderSummary.Price";let r=f.querySelector(`[name="${i}"]`);if(!r){console.log(`${u}Element with name ${i} missing`);return}const c=r.value;let e=0;if(n&&(e=n.discountAmount),i="OrderSummary.Symbol",r=f.querySelector(`[name="${i}"]`),!r){console.log(`${u}Element with name ${i} missing`);return}const o=r.value+"&nbsp;";if(i="OrderSummary.Discount",r=f.querySelector(`[name="${i}"]`),!r){console.log(`${u}Element with name ${i} missing`);return}r.innerHTML="-&nbsp;"+o+e.toLocaleString("en-US",{minimumFractionDigits:2});i="OrderSummary.DiscountRow";const s=f.querySelector(`[name="${i}"]`);if(!s){console.log(`${u}Element with name ${i} missing`);return}if(s.style.display=e?"flex":"none",i="OrderSummary.Total",r=f.querySelector(`[name="${i}"]`),!r){console.log(`${u}Element with name ${i} missing`);return}if(r.innerHTML=o+(c-e).toLocaleString("en-US",{minimumFractionDigits:2}),i="OrderSummary.TrialDays",r=f.querySelector(`[name="${i}"]`),!r){console.log(`${u}Element with name ${i} missing`);return}if(n&&n.trialDay){const t=n.trialDay;r.innerHTML=t;r.style.display=""}else{i="OrderSummary.TrialDaysDefault";const n=f.querySelector(`[name="${i}"]`);if(!n){console.log(`${u}Element with name ${i} missing`);return}var h=n.value;h?r.innerHTML=h:r.style.display="none"}},ToggleContinueButton:function(n,t){const r="SilkFlo.ViewModels.Subscribe.ToggleContinueButton";if(!n){console.log(`${r}parent parameter missing`);return}const u="Account.SignUp.AccountDetailsContinue",i=n.querySelector(`[name="${u}"]`);if(!i){console.log(`${r}Element with name ${u} missing`);return}t?SilkFlo.EnableButton(i):SilkFlo.DisableButton(i)},ToggleSaveButton:function(n,t){const r="SilkFlo.ViewModels.Subscribe.ToggleSaveButton";if(!n){console.log(`${r}parent parameter missing`);return}const u="Account.SignUp.BillingAddress.Save",i=n.querySelector(`[name="${u}"]`);if(!i){console.log(`${r}Element with name ${u} missing`);return}t?SilkFlo.EnableButton(i):SilkFlo.DisableButton(i)},ToggleCancelButton:function(n,t){const r="SilkFlo.ViewModels.Subscribe.ToggleCancelButton";if(!n){console.log(`${r}parent parameter missing`);return}const u="Account.SignUp.BillingAddress.Cancel",i=n.querySelector(`[name="${u}"]`);if(!i){console.log(`${r}Element with name ${u} missing`);return}t?SilkFlo.EnableButton(i):SilkFlo.DisableButton(i)},ToggleAccountDetails:function(n,t){if(!n){console.log(`${"SilkFlo.ViewModels.Subscribe.ToggleAccountDetails"}parent parameter missing`);return}SilkFlo.Models.Abstract.GetModelFromParent(n,["FirstName","LastName","Email","EmailConfirmation","Password","Name","Address1","Address2","City","State","PostCode","CountryId","Website","TermsAgreed","ReceiveMarketing"],"Account.SignUp.",!1);const i=n.ModelElementsList.length;for(let r=0;r<i;r++){const i=n.ModelElementsList[r];t?i.removeAttribute("disabled"):i.setAttribute("disabled","")}},TermsAgreedOnInput:function(n){const t=n.target;t.checked?t.classList.remove("is-invalid"):t.classList.add("is-invalid")},BillingAddress:{UndoModel:null,ModelElements:null,Edit:function(){const i="SilkFlo.ViewModels.Subscribe.BillingAddress.Edit: ",n=SilkFlo.ViewModels.Subscribe.GetParent();if(n){let t="Account.SignUp.BillingAddress.Readonly";const r=n.querySelector(`[name="${t}"]`);if(!r){console.log(`${i}Element with name ${t} missing`);return}t="Account.SignUp.BillingAddress.Edit";const u=n.querySelector(`[name="${t}"]`);if(!u){console.log(`${i}Element with name ${t} missing`);return}SilkFlo.ViewModels.Subscribe.BillingAddress.UndoModel=SilkFlo.Models.Abstract.GetModelFromParent(n,["ClientId","Name","Address1","Address2","City","State","PostCode","CountryId"],"Account.SignUp.",!1);r.style.display="none";u.style.display="";SilkFlo.ViewModels.Subscribe.BillingAddress.ModelElements=n.ModelElements}},Save:function(){const n=SilkFlo.ViewModels.Subscribe.GetParent();n&&(SilkFlo.ViewModels.Subscribe.ToggleSaveButton(n,!1),SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(n,!1),SilkFlo.ViewModels.Subscribe.ShowMessage('<span class="text-info">Validating details.<\/span>'),SilkFlo.ViewModels.Subscribe.Model=SilkFlo.Models.Abstract.GetModelFromParent(n,["ClientId","Name","Address1","Address2","City","State","PostCode","CountryId"],"Account.SignUp.",!1),SilkFlo.Models.Abstract.Save(SilkFlo.ViewModels.Subscribe.Model,SilkFlo.ViewModels.Subscribe.BillingAddress.Save_Callback,SilkFlo.ViewModels.Subscribe.BillingAddress.SaveFailed_Callback,n.id,"/api/shop/Subscribe/SaveBillingAddress"))},Save_Callback:function(){const u="SilkFlo.ViewModels.Subscribe.BillingAddress.Save_Callback";SilkFlo.ViewModels.Subscribe.ShowMessage("");const r=SilkFlo.ViewModels.Subscribe.GetParent();if(r){let n="";SilkFlo.ViewModels.Subscribe.Model.Name&&(n+=SilkFlo.ViewModels.Subscribe.Model.Name);SilkFlo.ViewModels.Subscribe.Model.Address1&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.Address1}`);SilkFlo.ViewModels.Subscribe.Model.Address2&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.Address2}`);SilkFlo.ViewModels.Subscribe.Model.City&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.City}`);SilkFlo.ViewModels.Subscribe.Model.State&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.State}`);SilkFlo.ViewModels.Subscribe.Model.PostCode&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.PostCode}`);SilkFlo.ViewModels.Subscribe.Model.CountryIdDisplayText&&(n+=`<br/>${SilkFlo.ViewModels.Subscribe.Model.CountryIdDisplayText}`);let t="Account.SignUp.BillingAddress.ReadonlyText",i=r.querySelector(`[name="${t}"]`);if(!i){console.log(`${u}Element with name ${t} missing`);return}if(i.innerHTML=n,t="Account.SignUp.BillingAddress.Readonly",i=r.querySelector(`[name="${t}"]`),!i){console.log(`${u}Element with name ${t} missing`);return}if(i.style.display="",t="Account.SignUp.BillingAddress.Edit",i=r.querySelector(`[name="${t}"]`),!i){console.log(`${u}Element with name ${t} missing`);return}i.style.display="none";SilkFlo.DataAccess.ResetFeedback(r,["Name","Address1","Address2","City","State","PostCode","CountryId"],"Account.SignUp.");SilkFlo.ViewModels.Subscribe.ToggleSaveButton(r,!0);SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(r,!0);SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent()}},SaveFailed_Callback:function(n,t){const i=SilkFlo.ViewModels.Subscribe.GetParent();i&&(SilkFlo.ViewModels.Subscribe.ShowMessage(""),SilkFlo.ViewModels.Subscribe.ToggleSaveButton(i,!0),SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(i,!0),SilkFlo.DataAccess.Feedback(n,t))},Cancel:function(){const u="SilkFlo.ViewModels.Subscribe.BillingAddress.Cancel: ";if(!SilkFlo.ViewModels.Subscribe.BillingAddress.UndoModel){console.log(u+"SilkFlo.ViewModels.Subscribe.BillingAddress.UndoModel missing");return}const r=SilkFlo.ViewModels.Subscribe.GetParent();if(r){let i="Account.SignUp.BillingAddress.Readonly";const f=r.querySelector(`[name="${i}"]`);if(!f){console.log(`${u}Element with name ${i} missing`);return}i="Account.SignUp.BillingAddress.Edit";const e=r.querySelector(`[name="${i}"]`);if(!e){console.log(`${u}Element with name ${i} missing`);return}const n=SilkFlo.ViewModels.Subscribe.BillingAddress.UndoModel,t=SilkFlo.ViewModels.Subscribe.BillingAddress.ModelElements;t.Name.value=n.Name;t.Address1.value=n.Address1;t.Address2.value=n.Address2;t.City.value=n.City;t.State.value=n.State;t.PostCode.value=n.PostCode;t.CountryId.value=n.CountryId;f.style.display="";e.style.display="none";SilkFlo.DataAccess.ResetFeedback(r,["Name","Address1","Address2","City","Styate","PostCode","CountryId"],"Account.SignUp.")}}},AccountDetails:{ContinueButton:null,ValidateDomain:function(){const r="SilkFlo.ViewModels.Subscribe.AccountDetails.ValidateDomain: ",i=SilkFlo.ViewModels.Subscribe.GetParent();if(i){let n="Account.SignUp.Email";const f=i.querySelector(`[name="${n}"]`);if(!f){console.log(`${r}Element with name ${n} missing`);return}n="Account.SignUp.Website";const e=i.querySelector(`[name="${n}"]`);if(!e){console.log(`${r}Element with name ${n} missing`);return}n="EmailRule";const t=i.querySelector(`[name="${n}"]`);if(!t){console.log(`${r}Element with name ${n} missing`);return}let o=!1;const u=f.value;if(u.length>0&&u.indexOf("@")>-1){const n=u.split("@");if(n.length>1){const t=n[1];e.value.toLowerCase()===t.toLowerCase()&&(o=!0)}}o?(t.classList.add("isValid"),t.classList.remove("isInValid")):(t.classList.add("isInValid"),t.classList.remove("isValid"))}},ValidateEmail:function(n,t,i,r){const u="SilkFlo.Models2.User.ValidateEmailDetailed: ";if(!n){console.log(`${u}email1Name parameter missing`);return}if(!t){console.log(`${u}email2Name parameter missing`);return}if(!i){console.log(`${u}emailInvalidId parameter missing`);return}if(!r){console.log(`${u}urlSignIn parameter missing`);return}const f=SilkFlo.ViewModels.Subscribe.GetParent();if(f){let e="EmailRule";const o=f.querySelector(`[name="${e}"]`);if(!o){console.log(`${u}Element with name ${e} missing`);return}e="Account.SignUp.Website";const s=f.querySelector(`[name="${e}"]`);if(!s){console.log(`${u}Element with name ${e} missing`);return}if(SilkFlo.Compare(f.id,n,t,i,"Confirm email does not match email.",!0)){const t=f.querySelector(`[name="${n}"]`);if(!t){console.log(`${u}Element with name ${n} missing`);return}SilkFlo.Models2.User.ValidateEmailDetailed(t,i,r)}}},Save_Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Subscribe.AccountDetails.Save_Click: "}event parameter missing`);return}if(!window.PasswordValid){SilkFlo.ViewModels.Subscribe.ShowMessage('<span class="text-warning">Password Invalid.<\/span>');return}n.preventDefault();grecaptcha.ready(function(){grecaptcha.execute(SilkFlo.GReCaptchaPublicKey,{action:"signup"}).then(function(t){const r=n.target;SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton=r;const i=SilkFlo.ViewModels.Subscribe.GetParent();if(i){SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(i,!1);SilkFlo.ViewModels.Subscribe.ToggleContinueButton(i,!1);SilkFlo.ViewModels.Subscribe.ShowMessage('<span class="text-info">Validating details.<\/span>');SilkFlo.RemoveSpinner(r);const u=SilkFlo.Models.Abstract.GetModelFromParent(i,["FirstName","LastName","Email","EmailConfirmation","Password","Name","Address1","Address2","City","State","PostCode","CountryId","TermsAgreed","CountryId","Website"],"Account.SignUp.",!1);u.ReCaptchaToken=t;SilkFlo.Models.Abstract.Save(u,SilkFlo.ViewModels.Subscribe.AccountDetails.Save_Callback,SilkFlo.ViewModels.Subscribe.AccountDetails.SaveInValid_Callback,i.id,"/api/shop/Subscribe/ClientDetails/Post")}})})},Save_Callback:function(n){try{const r="SilkFlo.ViewModels.Subscribe.AccountDetails.Save_Callback: ";if(!n){console.log(`${r}clientId parameter missing`);return}if(!SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton){console.log(`${r}SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton missing`);return}SilkFlo.RemoveSpinner(SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton);SilkFlo.ViewModels.Subscribe.ShowMessage("");const t=SilkFlo.ViewModels.Subscribe.GetParent();if(!t)return;SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(t,!1);let i="Account.SignUp.AccountDetailsContinue";const u=t.querySelector(`[name="${i}"]`);if(!u){console.log(`${r}Element with name ${i} missing`);return}i="Account.SignUp.ClientId";const f=t.querySelector(`[name="${i}"]`);if(!f){console.log(`${r}Element with name ${i} missing`);return}f.value=n;SilkFlo.RemoveSpinner(u);SilkFlo.DataAccess.ResetFeedback(t,["FirstName","LastName","Email","EmailConfirmation","Password","Name","Address1","Address2","City","State","PostCode","CountryId","TermsAgreed","CountryId","Website"],"Account.SignUp.");SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent()}catch(t){console.log(t.message)}},SaveInValid_Callback:function(n){const i="SilkFlo.ViewModels.Subscribe.AccountDetails.SaveInValid_Callback: ";if(!n){console.log(`${i}feedback parameter missing`);return}if(!SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton){console.log(`${i}SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton missing`);return}SilkFlo.RemoveSpinner(SilkFlo.ViewModels.Subscribe.AccountDetails.ContinueButton);SilkFlo.ViewModels.Subscribe.ShowMessage("");const t=SilkFlo.ViewModels.Subscribe.GetParent();t&&(SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(t,!0),SilkFlo.ViewModels.Subscribe.ToggleContinueButton(t,!0),SilkFlo.DataAccess.ResetFeedback(t,["FirstName","LastName","Email","EmailConfirmation","Password","Name","Address1","Address2","City","State","PostCode","CountryId","TermsAgreed","CountryId","Website"],"Account.SignUp.",!1),SilkFlo.DataAccess.Feedback(n,t.id))}},FreeTrial:{ContinueButton:null,ToggleContinueButton:function(n,t){const r="SilkFlo.ViewModels.Subscribe.FreeTrial.ToggleContinueButton";if(!n){console.log(`${r}parent parameter missing`);return}const u="AccountDetailsContinue",i=n.querySelector(`[name="${u}"]`);if(!i){console.log(`${r}Element with name ${u} missing`);return}t?SilkFlo.EnableButton(i):SilkFlo.DisableButton(i)},Click:function(n){if(!n){console.log(`${"SilkFlo.ViewModels.Subscribe.FreeTrial.Click: "}event parameter missing`);return}n.preventDefault();grecaptcha.ready(function(){grecaptcha.execute(SilkFlo.GReCaptchaPublicKey,{action:"signup"}).then(function(t){let r=n.target;SilkFlo.ViewModels.Subscribe.FreeTrial.ContinueButton=r;const i=SilkFlo.ViewModels.Subscribe.GetParent();if(i){SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(i,!1);SilkFlo.ViewModels.Subscribe.FreeTrial.ToggleContinueButton(i,!1);SilkFlo.ViewModels.Subscribe.ShowMessage('<span class="text-info">Validating details.<\/span>');SilkFlo.RemoveSpinner(r);r=i.querySelector(`[name="${"Account.SignUp.ClientId"}"]`);let u={};u=r&&r.value?SilkFlo.Models.Abstract.GetModelFromParent(i,["ClientId","TermsAgreed","ReceiveMarketing"],"Account.SignUp.",!1):SilkFlo.Models.Abstract.GetModelFromParent(i,["FirstName","LastName","Email","EmailConfirmation","Password","Name","Website","TermsAgreed","ReceiveMarketing"],"Account.SignUp.",!1);u.ReCaptchaToken=t;SilkFlo.Models.Abstract.Save(u,SilkFlo.ViewModels.Subscribe.FreeTrial.Callback,SilkFlo.ViewModels.Subscribe.FreeTrial.InValid_Callback,i.id,"/api/shop/Subscribe/FreeTrial/Post")}})})},Callback:function(){window.location.href="../Welcome"},InValid_Callback:function(n){const i="SilkFlo.ViewModels.Subscribe.FreeTrial.InValid_Callback: ";if(!n){console.log(`${i}feedback parameter missing`);return}if(!SilkFlo.ViewModels.Subscribe.FreeTrial.ContinueButton){console.log(`${i}SilkFlo.ViewModels.Subscribe.FreeTrial.ContinueButton missing`);return}SilkFlo.RemoveSpinner(SilkFlo.ViewModels.Subscribe.FreeTrial.ContinueButton);SilkFlo.ViewModels.Subscribe.ShowMessage("");const t=SilkFlo.ViewModels.Subscribe.GetParent();if(t){SilkFlo.ViewModels.Subscribe.ToggleAccountDetails(t,!0);SilkFlo.ViewModels.Subscribe.FreeTrial.ToggleContinueButton(t,!0);const r=t.querySelector(`[name="${"Account.SignUp.ClientId"}"]`);r||SilkFlo.DataAccess.ResetFeedback(t,["FirstName","LastName","Email","EmailConfirmation","Password","Name","TermsAgreed","Website"],"Account.SignUp.",!1);SilkFlo.DataAccess.Feedback(n,t.id)}}},IsTermsAgreedChecked:function(){const n=SilkFlo.ViewModels.Subscribe.GetParent();return n?(SilkFlo.Models.Abstract.GetModelFromParent(n,["TermsAgreed"],"Account.SignUp."),n.ModelElements.TermsAgreed.checked)?(n.ModelElements.TermsAgreed.classList.remove("is-invalid"),!0):(n.ModelElements.TermsAgreed.classList.add("is-invalid"),!1):!1},Continue_Click:function(n){const t="SilkFlo.ViewModels.Subscribe.Continue_Click: ";if(!n){console.log(`${t}element parameter missing`);return}if(SilkFlo.ViewModels.Subscribe.IsTermsAgreedChecked()){SilkFlo.AddSpinner(n);const r=SilkFlo.ViewModels.Subscribe.GetParent();if(r){const u=document.getElementById("Account.SignUp.NotYou");if(!u){console.log(`${t}Element with name ${i} missing`);return}u.remove();const i="Account.SignUp.Fieldset",f=r.querySelector(`[name="${i}"]`);if(!f){console.log(`${t}Element with name ${i} missing`);return}f.disabled=!0;SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent()}}},Stripe:{Object:null,PaymentElement:null,ShowMessage:function(n){const t=SilkFlo.ViewModels.Subscribe.GetParent();if(t){const i="MessagePayment",r=t.querySelector(`[name="${i}"]`);if(!r){console.log(`${"SilkFlo.ViewModels.Subscribe.Stripe.ShowMessage: "}Element with name ${i} missing`);return}r.innerHTML=n}},CreateSetupIntent:function(){const n=SilkFlo.ViewModels.Subscribe.GetParent();if(n){const t="Account.SignUp.ClientId",i=n.querySelector(`[name="${t}"]`);if(!i){console.log(`${"SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent: "}Element with name ${t} missing`);return}SilkFlo.DataAccess.GetObject("/api/shop/CreateSetupIntent/ClientId/"+i.value,SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent_CallBack,SilkFlo.DataAccess.Feedback,n.id);const r=document.getElementById("payment-form");if(!r){console.log("payment-form not found");return}}},CreateSetupIntent_CallBack:function(n){const t="SilkFlo.ViewModels.Subscribe.Stripe.CreateSetupIntent_CallBack: ";if(!n){console.log(`${t}clientSecret parameter missing`);return}if(!SilkFlo.ViewModels.Subscribe.Stripe.Object){console.log(`${t}SilkFlo.ViewModels.Subscribe.Stripe.Object parameter missing`);return}const o=SilkFlo.ViewModels.Subscribe.GetParent();if(o){const i="payment-form",r=document.getElementById(i);if(!r){console.log(`${t}Element with id ${i} missing`);return}r.style.display="";const u=SilkFlo.ViewModels.Subscribe.Stripe.Object,s={clientSecret:n,appearance:{theme:"stripe",labels:"floating"}},f=u.elements(s);SilkFlo.ViewModels.Subscribe.Stripe.StripeElements=f;const e=f.create("card",{style:{base:{fontSize:"16px",color:"#32325d"}}});e.mount("#payment-element");const h=document.getElementById("payment-form-subs");h.addEventListener("click",async i=>{i.preventDefault();const r=SilkFlo.ViewModels.Subscribe.GetParent();if(r){const f=SilkFlo.Models.Abstract.GetModelFromParent(r,["ClientId","PriceId"],"Account.SignUp."),o=`https://app.silkflo.com/shop/SubscriptionComplete/clientId/${f.ClientId}/PriceId/${f.PriceId}`,{error:s}=await u.confirmCardSetup(n,{payment_method:{card:e},return_url:o});s?console.log(`${t}Error confirming setup: ${s}`):(console.log(`${t}Setup confirmed`),window.location.href=o)}})}},StripeElements:null,Form_OnSubmit:function(){if(!SilkFlo.ViewModels.Subscribe.Stripe.StripeElements){console.log(`${"SilkFlo.ViewModels.Subscribe.Stripe.Form_OnSubmit: "}SilkFlo.ViewModels.Subscribe.Stripe.StripeElements missing`);return}const n=SilkFlo.ViewModels.Subscribe.GetParent();if(n){const t=SilkFlo.Models.Abstract.GetModelFromParent(n,["ClientId","PriceId"],"Account.SignUp."),r=SilkFlo.ViewModels.Subscribe.Stripe.StripeElements,u=`https://app.silkflo.com/shop/SubscriptionComplete/clientId/${t.ClientId}/PriceId/${t.PriceId}`,f=SilkFlo.ViewModels.Subscribe.Stripe.Object,{error:i}=f.confirmSetup({elements:r,confirmParams:{return_url:u}});if(i){const n=document.querySelector("#error-message");n.textContent=i.message}}}}};SilkFlo||(SilkFlo={});SilkFlo.ViewModels||(SilkFlo.ViewModels={});SilkFlo.ViewModels.Workshop={Url:"",GetParent:function(){const n="WorkshopContent",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Workshop.GetParent: "}Element with id ${n} missing`),null;return t},GetContent:function(n){const r="SilkFlo.ViewModels.Workshop.GetContent: ";if(!n){console.log(r+"element parameter missing");return}const i=SilkFlo.ViewModels.Workshop.GetParent();if(i){const f=n.parentElement,u=f.children,e=u.length;for(let n=0;n<e;n++)u[n].classList.remove("active");n.classList.add("active");let t=n.getAttribute("url");if(!t){console.log(r+"url attribute missing");return}i.setAttribute("url",t);SilkFlo.ViewModels.Workshop.Url=t;const o=`/api/Workshop/StageGroup/id/${t}`;t=`/Workshop/StageGroup/${t}`;SilkFlo.DataAccess.UpdateElement(o,"",i,t,"GET",SilkFlo.ViewModels.Workshop.GetContent_Callback)}},GetContent_Callback:function(){const t=SilkFlo.ViewModels.Workshop.GetParent();if(t){if(SilkFlo.DataAccess.GetSubComponents(t),!SilkFlo.ViewModels.Workshop.Url){console.log("SilkFlo.ViewModels.Workshop.Url missing");return}const i="Business.Idea.Summary",n=document.getElementById(i);if(!n){console.log(`${"SilkFlo.ViewModels.Workshop.GetContent_Callback: "}Element with id ${i} missing`);return}n.setAttribute(SilkFlo.DataAccess.AttributeName.Url,`Business/Idea/GetSummary/GroupName/${SilkFlo.ViewModels.Workshop.Url}`);n.setAttribute(SilkFlo.DataAccess.AttributeName.GetManually,"")}},SelectIdea:function(n){const i="SilkFlo.ViewModels.Workshop.SelectIdea: ";if(!n){console.log(`${i}id parameter missing`);return}const t=document.getElementById(n);if(!t){console.log(`${i}Element with id ${n} missing`);return}const r=t.parentElement;r.insertBefore(t,r.firstChild);t.classList.add("transition");t.classList.add("pulse-background-green")},Search:function(n,t,i){const u="SilkFlo.ViewModels.Workshop.Search: ";if(!n){const t="Workshop.Pipeline.Deployed.Search",i=document.getElementById(t);if(!i){console.log(`${u}Element with id ${t} missing`);return}n=i.value}let f=!0;(t===undefined||t===null||t===""||t==="1")&&(f=!1);let e=!0;n||(e=!1);let r="/api/Workshop/Deployed/Table";if(e&&(r+=`/Search/${n}`),f){r+=`/page/${t}`;const n="Workshop.Pipeline.Deployed.SelectedPage",i=document.getElementById(n);if(!i){console.log(`${u}Element with id ${n} missing`);return}i.value=t}SilkFlo.DataAccess.UpdateElementById(r,null,i)},Build:{YearFilter:function(n){const r="SilkFlo.ViewModels.Workshop.Build.YearFilter: ";if(!n){console.log(`${r}element parameter missing`);return}const u=SilkFlo.ViewModels.Workshop.GetParent();if(u){const f="Chart.AutomationBuildPipeline",i=u.querySelector(`[name="${f}"]`);if(!i){console.log(`${r}Element with name ${f} missing`);return}let t=`Workshop/GetAutomationBuildPipeline/year/${n.value}`;i.setAttribute(SilkFlo.DataAccess.AttributeName.Url,t);t=`/api/${t}`;SilkFlo.DataAccess.UpdateElement(t,null,i)}}}};window.onload=function(){};$("#ShowUpdateDeleteModal").click(function(){$("#UpdateDeleteModal").modal("show")});$("#btnCloseFileModal").click(function(){$("#UploadPipelineModal").modal("hide");location.reload()});$("#btnCloseResultModal").click(function(){$("#ShowResultModal").modal("hide");location.reload()});$("#DownloadTemplate").on("click",function(){var i=window.location.origin,t="/IdeaTemplate/IdeasListTemplate.xlsx",r=i+t,t=r,n=document.createElement("a");n.href=t;n.download="IdeasListTemplate.xlsx";document.body.appendChild(n);n.click();document.body.removeChild(n)});$(document).on("click",".btnDeleteRow",function(){$(this).closest("tr").remove()});$("#performIdeaSearch").on("click",function(){var n=$("input[name='searchType']:checked").val(),t=$("#searchInput").val();$.ajax({url:"/api/ApisController/GetIdeaBySearch",type:"Get",data:{searchType:n,searchText:t},success:function(n){console.log(n)},error:function(n){console.error(n)}})});SilkFlo.Business===undefined&&(SilkFlo.Business={});SilkFlo.Business.Idea===undefined&&(SilkFlo.Business.Idea={});SilkFlo.Business.Idea.Summary={DeleteConfirmation:null,IdeaGUID:null,GetParent:function(){const n="Detail_BusinessIdea",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.Business.Idea.Summary.GetParent: "}Element with id "${n}" missing`),null;return t},ContextMenu:{Width:null,Height:null,Left:null,Top:null,GetMenu:function(){const n=document.getElementById("idea_summary_menu");return n?n:null},Show:function(n,t,i){SilkFlo.Business.Idea.Summary.IdeaGUID=t;SilkFlo.Business.Idea.Summary.RowButton.GetGeometry(n);SilkFlo.Business.Idea.Summary.ContextMenu.Get();const e=window.innerHeight,o=SilkFlo.Business.Idea.Summary.RowButton.Left+SilkFlo.Business.Idea.Summary.RowButton.Width-SilkFlo.Business.Idea.Summary.ContextMenu.Left+6;let u=(SilkFlo.Business.Idea.Summary.ContextMenu.Top-SilkFlo.Business.Idea.Summary.RowButton.Top)*-1;SilkFlo.Business.Idea.Summary.RowButton.Top+SilkFlo.Business.Idea.Summary.ContextMenu.Height>e-42&&(u-=SilkFlo.Business.Idea.Summary.ContextMenu.Height-SilkFlo.Business.Idea.Summary.RowButton.Height);const s=`matrix( 1, 0, 0, 1, ${o}, ${u})`,r=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();if(r){r.style.display="block";r.style.transform=s;const f=r.querySelector('[name="ManageStages"]');f&&(f.style.display=i?"none":"block")}},Hide:function(n){const t=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();t&&(window.removeEventListener("mouseup",SilkFlo.Business.Idea.Summary.ContextMenu.Hide),setTimeout(function(){n.target!==t&&n.target.parentNode!==t&&(t.style.display="none")},0))},HideDeleteConfirmation:function(){const t="DeleteConfirmation",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.Business.Idea.Summary.Delete: "}Element with id ${t} missing`);return}n.classList.remove("show");n.style.display="none"},Get:function(){const n=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();if(n){window.removeEventListener("mouseup",SilkFlo.Business.Idea.Summary.ContextMenu.Hide);window.addEventListener("mouseup",SilkFlo.Business.Idea.Summary.ContextMenu.Hide);n.style.transform="";n.style.display="block";const t=n.getBoundingClientRect();SilkFlo.Business.Idea.Summary.ContextMenu.Width===null&&(SilkFlo.Business.Idea.Summary.ContextMenu.Width=n.clientWidth);SilkFlo.Business.Idea.Summary.ContextMenu.Height===null&&(SilkFlo.Business.Idea.Summary.ContextMenu.Height=n.clientHeight);SilkFlo.Business.Idea.Summary.ContextMenu.Left=t.left;SilkFlo.Business.Idea.Summary.ContextMenu.Top=t.top}}},RowButton:{Width:null,Height:null,Left:null,Top:null,GetGeometry:function(n){const t=n.getBoundingClientRect();SilkFlo.Business.Idea.Summary.RowButton.Width===null&&(SilkFlo.Business.Idea.Summary.RowButton.Width=t.width);SilkFlo.Business.Idea.Summary.RowButton.Height===null&&(SilkFlo.Business.Idea.Summary.RowButton.Height=t.height);SilkFlo.Business.Idea.Summary.RowButton.Left=t.left;SilkFlo.Business.Idea.Summary.RowButton.Top=t.top}},ManageStageAndStatus:function(){Delaney.UI.ToolTip.Hide();SilkFlo.VieModels.Business.ManageStageAndStatus.Get(SilkFlo.Business.Idea.Summary.IdeaGUID,SilkFlo.Business.Idea.Summary.UpdateDashboard);const n=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();n&&(n.style.display="none")},UpdateDashboard:function(){const t=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();if(t){t.style.display="none";SilkFlo.DataAccess.UpdateElementFromAttribute(`StageCell_${SilkFlo.Business.Idea.Summary.IdeaGUID}`);SilkFlo.DataAccess.UpdateElementFromAttribute(`StatusCell_${SilkFlo.Business.Idea.Summary.IdeaGUID}`);SilkFlo.DataAccess.UpdateElementFromAttribute("totalIdeas");SilkFlo.DataAccess.UpdateElementFromAttribute("totalInBuild");SilkFlo.DataAccess.UpdateElementFromAttribute("totalDeployed");const n=document.getElementById("WorkshopContent");if(n){let t=n.getAttribute("url");if(!t){console.log("SilkFlo.Business.Idea.Summary.UpdateDashboard: url attribute missing");return}const i=`/api/Workshop/StageGroup/Id/${t}`;t=`/workshop/${t}`;SilkFlo.DataAccess.UpdateElement(i,"",n,t)}}},DetailById:function(n){if(!n){console.log(`${"SilkFlo.Business.Idea.Summary.DetailById: "}ideaGuid parameter missing`);return}SilkFlo.Business.Idea.Summary.IdeaGUID=n;SilkFlo.Business.Idea.Summary.Detail()},Detail:function(){const t=`/Idea/Detail/${SilkFlo.Business.Idea.Summary.IdeaGUID}`,n=document.getElementById("content");if(!n){console.log('SilkFlo.Business.Idea.Summary.Detail: element with id "content" missing');return}Delaney.UI.ToolTip.Hide();const i=`/api/Idea/Detail/${SilkFlo.Business.Idea.Summary.IdeaGUID}`;SilkFlo.DataAccess.UpdateElement(i,null,n,t,"GET",SilkFlo.Business.Idea.Summary.DetailLoaded)},DetailLoaded:function(){SilkFlo.SideBar.SetMenu();const n=SilkFlo.Business.Idea.Summary.GetParent();if(n){SilkFlo.SVGTools.AnimatePaths(n);const t=n.querySelector('[name="Business.Idea.Rating"]');t&&DelaneysSlider_Main(t)}},Edit:function(){const t=`/Idea/Edit/${SilkFlo.Business.Idea.Summary.IdeaGUID}`,n=document.getElementById("content");if(!n){console.log('SilkFlo.Business.Idea.Summary.Edit: element with id "content" missing');return}Delaney.UI.ToolTip.Hide();const i=`/api/Idea/Edit/${SilkFlo.Business.Idea.Summary.IdeaGUID}`;SilkFlo.DataAccess.UpdateElement(i,null,n,t,"GET",SilkFlo.SideBar.SetMenu)},Delete:function(){const t="DeleteConfirmation",n=document.getElementById(t);if(!n){console.log(`${"SilkFlo.Business.Idea.Summary.Delete: "}Element with id ${t} missing`);return}n.classList.add("show");n.style.display="block";const i=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();i&&(i.style.display="none")},Delete_No:function(){SilkFlo.Business.Idea.Summary.ContextMenu.HideDeleteConfirmation();const n=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();n&&(n.style.display="none")},Delete_Yes:function(){SilkFlo.Business.Idea.Summary.ContextMenu.HideDeleteConfirmation();const i="/api/business/Idea/Delete/"+SilkFlo.Business.Idea.Summary.IdeaGUID,n=new XMLHttpRequest;n.open("DELETE",i,!0);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.onreadystatechange=function(){return function(){if(n.readyState===XMLHttpRequest.DONE&&n.status===200){const n=document.getElementById(SilkFlo.Business.Idea.Summary.IdeaGUID);n.parentNode.removeChild(n);SilkFlo.DataAccess.UpdateElementFromAttribute("totalIdeas");SilkFlo.DataAccess.UpdateElementFromAttribute("totalInBuild");SilkFlo.DataAccess.UpdateElementFromAttribute("totalDeployed")}}}(this);n.send();const t=SilkFlo.Business.Idea.Summary.ContextMenu.GetMenu();t&&(t.style.display="none")},UpdateStageValue:function(n,t){const i="SilkFlo.Business.Idea.Summary.UpdateStageValue: ";if(!n){console.log(i+"target parameter missing");return}if(!t){console.log(i+"value parameter missing");return}n.innerHTML=t;t=t.toLowerCase();n.Value=t;n.setAttribute("value",t);n.ResizeColumnHeader()},UpdateStatusValue:function(n,t){const i="SilkFlo.Business.Idea.Summary.UpdateStatusValue: ";if(!n){console.log(i+"target parameter missing");return}if(!t){console.log(i+"value parameter missing");return}const r=JSON.parse(t);if(!r){console.log(i+"Not an obj");return}n.innerHTML=r.content;n.Value=t;n.setAttribute("value",t);n.ResizeColumnHeader()}};SilkFlo.Dashboard={GetParent:function(){const n="dashboard",t=document.getElementById(n);if(!t)return console.log(`${"SilkFlo.ViewModels.Workshop.GetParent: "}Element with id ${n} missing`),null;return t},Chart:{AutomationProgramPerformance:{FilterYear:function(n){const t="SilkFlo.Dashboard.Chart.AutomationProgramPerformance.FilterYear: ";if(!n){console.log(`${t}element parameter missing`);return}const i=SilkFlo.Dashboard.GetParent();if(i){const r="Chart.AutomationProgramPerformance",u=i.querySelector(`[name="${r}"]`);if(!u){console.log(`${t}Element with name ${r} missing`);return}const f=`/api/Dashboard/GetAutomationProgramPerformance/year/${n.value}`;console.log(f);SilkFlo.DataAccess.UpdateElement(f,null,u)}}}}};SilkFlo.Explore===undefined&&(SilkFlo.Explore={});SilkFlo.Explore.Ideas===undefined&&(SilkFlo.Explore.Ideas={});SilkFlo.Explore.Ideas={IsSavingFollow:!1,IsSavingVote:!1,Follow_Click:function(n){n.IsSaving!==undefined&&n.IsSaving||this.UpdateDatabase(n,"/api/Idea/PostFollow")},Vote_Click:function(n){n.IsSaving!==undefined&&n.IsSaving||this.UpdateDatabase(n,"/api/Idea/PostVote")},UpdateButton:function(n){const i=n.querySelectorAll("span")[0];let t=parseInt(i.innerHTML);const r=n.classList.contains("selected");return console.log(t),r?(n.classList.remove("selected"),t--):(n.classList.add("selected"),t++),i.innerHTML=t,!r},UpdateDatabase:function(n,t){const i=new XMLHttpRequest;i.open("POST",t,!0);i.setRequestHeader("Content-type","application/json");i.onreadystatechange=function(n){return function(){i.readyState===XMLHttpRequest.DONE&&i.status===200&&(n.IsSaving=!1)}}(n);const r=n.getAttribute("silkflo-ideaId"),u=this.UpdateButton(n);n.IsSaving=!0;const f='{ "ideaId": "'+r+'","isSelected": '+u+"}";i.send(f)}};SilkFlo.Pages===undefined&&(SilkFlo.Pages={});SilkFlo.Pages.Cards===undefined&&(SilkFlo.Pages.Cards={});SilkFlo.Pages.Cards.Business===undefined&&(SilkFlo.Pages.Cards.Business={});SilkFlo.Pages.Cards.Business.Department===undefined&&(SilkFlo.Pages.Cards.Business.Department={});SilkFlo.Pages.Cards.Business.Teams===undefined&&(SilkFlo.Pages.Cards.Business.Teams={});SilkFlo.Pages.Cards.Shared===undefined&&(SilkFlo.Pages.Cards.Shared={});SilkFlo.Pages.Cards.Shared.Stage===undefined&&(SilkFlo.Pages.Cards.Shared.Stage={});SilkFlo.Pages.Cards.FilterCriteria===undefined&&(SilkFlo.Pages.Cards.FilterCriteria={});SilkFlo.Pages.Cards.Business.Department={Collection:[],GetFilters:function(){const i="SilkFlo.Pages.Cards.Business.Department.GetFilters: ",t=SilkFlo.Pages.Cards.Business.Department;t.Collection=[];const r="filterDepartments",u=document.getElementById(r);if(!u)return console.log(`${i}Element with id ${r} missing`),t.Collection;const n=u.querySelectorAll('[name="filterDepartment"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.Departments=n,!n||n.length===0)return console.log(`${i}There are no filterDepartments elements`),t.Collection;const f=n.length;for(let i=0;i<f;i++)if(n[i].checked){const r={Id:n[i].id,Name:n[i].getAttribute("displayName")};t.Collection.push(r)}return t.Collection},GetFilterTeamElements:function(){const n=SilkFlo.Pages.Cards.Business.Department.GetFilters();SilkFlo.DataAccess.UpdateElementById("/api/Business/Department/GetFilterTeamElements",n,"filterTeams","","POST")}};SilkFlo.Pages.Cards.Business.Team={Collection:[],GetFilters:function(){this.Collection=[];const t="filterTeams",i=document.getElementById(t);if(!i)return console.log(`${"SilkFlo.Pages.Cards.Business.Team.GetFilters: "}Element with id ${t} missing`),this.Collection;const n=i.querySelectorAll('[name="filterTeam"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.Teams=n,!n||n.length===0)return this.Collection;const r=n.length;for(let t=0;t<r;t++)if(n[t].checked){const i={Id:n[t].id,Name:n[t].getAttribute("displayName")};this.Collection.push(i)}return this.Collection}};SilkFlo.Pages.Cards.Shared.SubmissionPath={Collection:[],GetFilters:function(){this.Collection=[];const t="filterSubmissionPaths",i=document.getElementById(t);if(!i)return console.log(`${"SilkFlo.Pages.Cards.Shared.SubmissionPath.GetFilters: "}Element with id ${t} missing`),this.Collection;const n=i.querySelectorAll('[name="filterSubmissionPath"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.SubmissionPaths=n,!n||n.length===0)return console.log("There are no filterSubmissionPath elements"),this.Collection;const r=n.length;for(let t=0;t<r;t++)if(n[t].checked){const i={Id:n[t].id,Name:n[t].getAttribute("displayName")};this.Collection.push(i)}return this.Collection}};SilkFlo.Pages.Cards.Shared.Version={Collection:[],GetFilters:function(){this.Collection=[];const t="filterVersions",i=document.getElementById(t);if(!i)return console.log(`${"SilkFlo.Pages.Cards.Shared.Version.GetFilters: "}Element with id ${t} missing`),this.Collection;const n=i.querySelectorAll('[name="filterVersion"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.Versions=n,!n||n.length===0)return console.log("There are no filterVersion elements"),this.Collection;const r=n.length;for(let t=0;t<r;t++)if(n[t].checked){const i={Id:n[t].id,Name:n[t].getAttribute("displayName")};this.Collection.push(i)}return this.Collection}};SilkFlo.Pages.Cards.Shared.Stage={Collection:[],GetCollection:function(){const t=SilkFlo.Pages.Cards.Shared.Stage;t.Collection=[];const i="filterStages",r=document.getElementById(i);if(!r)return console.log(`${"SilkFlo.Pages.Cards.Shared.Stage.GetCollection: "}Element with id ${i} missing`),t.Collection;const n=r.querySelectorAll('[name="filterStage"]');if(!n||n.length===0)return console.log("There are no filterStages elements"),t.Collection;const u=n.length;for(let i=0;i<u;i++)if(n[i].checked){const r={Id:n[i].id,Name:n[i].getAttribute("displayName")};t.Collection.push(r)}return t.Collection},GetFilters:function(){const t=SilkFlo.Pages.Cards.Shared.Stage;t.Collection=[];const i="filterStages",r=document.getElementById(i);if(!r)return console.log(`${"SilkFlo.Pages.Cards.Shared.Stage.GetFilters: "}Element with id ${i} missing`),t.Collection;const n=r.querySelectorAll('[name="filterStage"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.Stages=n,!n||n.length===0)return console.log("There are no filterStage elements"),t.Collection;const u=n.length;for(let i=0;i<u;i++)if(n[i].checked){const r={Id:n[i].id,Name:n[i].getAttribute("displayName")};t.Collection.push(r)}return t.Collection},GetStatuses:function(){const n=SilkFlo.Pages.Cards.Shared.Stage.GetCollection();SilkFlo.DataAccess.UpdateElementById("/api/Shared/Stage/GetStatuses",n,"filterStatuses","","POST")}};SilkFlo.Pages.Cards.Shared.Status={Collection:[],GetFilters:function(){this.Collection=[];const t="filterStatuses",i=document.getElementById(t);if(!i)return console.log(`${"SilkFlo.Pages.Cards.Shared.Status.GetFilters: "}Element with id ${t} missing`),this.Collection;const n=i.querySelectorAll('[name="filterStatus"]');if(SilkFlo.Pages.Cards.FilterCriteria.Elements.Statuses=n,!n||n.length===0)return this.Collection;const r=n.length;for(let t=0;t<r;t++)if(n[t].checked){const i={Id:n[t].id,Name:n[t].getAttribute("displayName")};this.Collection.push(i)}return this.Collection}};SilkFlo.Pages.Cards.FilterCriteria={Model:{IsDeployedOnly:!1,SortById:null,FilterSearch:"",Departments:[],Teams:[],SubmissionPaths:[],Versions:[],Stages:[],Statuses:[],Count:0,PageIndex:0,LastPage:0},Elements:{TxtFilterSearch:"",Departments:[],Teams:[],SubmissionPaths:[],Versions:[],Stages:[],Statuses:[]},GetModel:function(){const i=document.getElementById("IsDeployedOnly");this.Model.IsDeployedOnly=i.value;const r=document.getElementById("SortBy");this.Model.SortById=r.value;this.Elements.TxtFilterSearch=document.getElementById("filterSearch");this.Model.FilterSearch=this.Elements.TxtFilterSearch.value;this.Model.Departments=SilkFlo.Pages.Cards.Business.Department.GetFilters();this.Model.Teams=SilkFlo.Pages.Cards.Business.Team.GetFilters();this.Model.SubmissionPaths=SilkFlo.Pages.Cards.Shared.SubmissionPath.GetFilters();this.Model.Versions=SilkFlo.Pages.Cards.Shared.Version.GetFilters();this.Model.Stages=SilkFlo.Pages.Cards.Shared.Stage.GetFilters();this.Model.Statuses=SilkFlo.Pages.Cards.Shared.Status.GetFilters();const n=document.getElementById("pageIndex");n&&(this.Model.PageIndex=n.value);const t=document.getElementById("lastPage");t&&(this.Model.LastPage=t.value)},ToggleFilters:function(n,t,i=null){const u="SilkFlo.Pages.Cards.FilterCriteria.ToggleFilters: ";if(!n){console.log(`${u}event parameter missing`);return}if(!t){console.log(`${u}filterName parameter missing`);return}n.stopPropagation();const r=n.target,f=document.querySelectorAll('[name="'+t+'"]'),e=f.length;for(let n=0;n<e;n++)f[n].checked=r.checked;r.innerHtml=r.checked?"<i>Select None<\/i>":"<i>Select All<\/i>";i&&i()},UnSelectFilter:function(n,t){const i="SilkFlo.Pages.Cards.FilterCriteria.UnSelectFilter: ";if(!n){console.log(`${i}event parameter missing`);return}if(!t){console.log(`${i}name parameter missing`);return}n.stopPropagation();const r=document.getElementById(t);r.checked=!1},DeselectAll:function(){this.GetModel();this.Elements.TxtFilterSearch.value="";let n=SilkFlo.Pages.Cards.FilterCriteria.Elements.Departments,t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;n=SilkFlo.Pages.Cards.FilterCriteria.Elements.Teams;t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;n=SilkFlo.Pages.Cards.FilterCriteria.Elements.SubmissionPaths;t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;n=SilkFlo.Pages.Cards.FilterCriteria.Elements.Versions;t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;n=SilkFlo.Pages.Cards.FilterCriteria.Elements.Stages;t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;n=SilkFlo.Pages.Cards.FilterCriteria.Elements.Statuses;t=n.length;for(let i=0;i<t;i++)n[i].checked=!1;const u=document.getElementById("toggleFilterDepartment");u.checked=!1;const i=document.getElementById("toggleFilterTeam");i!==null&&(i.checked=!1);const f=document.getElementById("toggleFilterSubmissionPath");f.checked=!1;const e=document.getElementById("toggleFilterVersion");e.checked=!1;const o=document.getElementById("toggleFilterStage");o.checked=!1;const r=document.getElementById("toggleFilterStatus");r!==null&&(r.checked=!1);const s=document.getElementById("filterTeams");s.innerHTML="No Teams Present";const h=document.getElementById("filterStatuses");h.innerHTML="No Statuses Present"},Close:function(n){const i="SilkFlo.Pages.Cards.FilterCriteria.Close: ";console.log(i);const r="filter",t=document.getElementById(r);if(!t){console.log(`${i}Element with id ${r} missing`);return}if(!t.Card){console.log(`${i}Filter.Card missing`);return}n.target!==t.Card&&(t.Card.style.display="none")},Run:function(n){SilkFlo.Pages.Cards.FilterCriteria.GetModel();$.ajax({contentType:"application/json",type:"POST",url:"/api/Business/Idea/ValidateFiltered",data:JSON.stringify(this.Model),success:function(t){var i;if(console.log("Hello: ",t),t.isFilterByTextApplicable){console.log("this.Model",t.payload);SilkFlo.DataAccess.UpdateElementById("/api/Business/Idea/GetFiltered",t.payload,"ideaCards","","POST",()=>{});i=document.getElementById("filterSearch").value;document.getElementById("filterSearchInvalidFeedback").innerHTML="";SilkFlo.Pages.Cards.FilterCriteria.Close(n)}else i=document.getElementById("filterSearch").value,document.getElementById("filterSearchInvalidFeedback").innerHTML="'"+i+"' not found in text fields, you may try using the below filter options"},failure:function(){},error:function(){}})},Sort:function(n){const t=n.target,r=t.getAttribute("value"),u=document.getElementById("SortBy");u.value=r;const f=document.getElementById("SortByText");f.innerHTML=`Sorted By: ${t.innerHTML}`;const e=document.getElementById("sort-List"),i=e.querySelectorAll('[name="selector"]'),o=i.length;for(let n=0;n<o;n++)i[n].style.background="";t.style.background="var(--bs-gray-even-lightest)";SilkFlo.Pages.Cards.FilterCriteria.Run(n)},SelectPage:function(n,t){const i=document.getElementById("pageIndex");i.value=n;const r=document.getElementById("lastPage");r.value=t;this.Run()}};HotSpot={Card:null,CardPosition:null,AttributeName:{Name:"silkflo-hotspot"},Get:function(n){if(!n){console.log(`${"SilkFlo.DataAccess.GetHotSpots: "}parent parameter missing`);return}const t=n.querySelectorAll(`[${HotSpot.AttributeName.Name}]`);if(t.length!==0)for(let n=0;n<t.length;n++){const r=t[n],u=r.getAttribute(HotSpot.AttributeName.Name);if(u){const i=new XMLHttpRequest;i.open("GET",`/api/GetHotSpotContent/${u}`,!0);i.setRequestHeader("Content-type","application/x-www-form-urlencoded");i.onreadystatechange=function(){return function(){if(i.readyState===XMLHttpRequest.DONE&&i.status===200){const n=i.responseText;n&&HotSpot.Add(r,n)}}}(this);i.send()}}},Add:function(n,t){if(!n){console.log(`${"HotSpot.Add: "}element parameter missing`);return}if(!HotSpot.Card){const n=document.createElement("div");n.setAttribute("style","width: 20rem; display:none; position:absolute; ");n.setAttribute("class","card HotSpotCard");document.body.appendChild(n);const u=document.createElement("div");u.setAttribute("class","HotSpotHeader");n.appendChild(u);const i=document.createElement("button");i.setAttribute("aria-label","Cancel");i.setAttribute("type","button");i.setAttribute("class","btn-close");i.onclick=n=>{HotSpot.Card.Close(),n.preventDefault(),n.stopPropagation()};u.appendChild(i);const r=document.createElement("div");r.setAttribute("class","HotSpotContent");r.innerHTML=t;n.Content=r;n.appendChild(r);n.Close=function(){this.style.transform="";this.style.display="none"};HotSpot.Card=n}const u=HotSpot.IsBackgroundDark(n),r=document.createElement("img");r.setAttribute("src","/icons/Question.svg");u?r.setAttribute("class","QuestionIconLight"):r.setAttribute("class","QuestionIcon");const i=document.createElement("span");i.appendChild(r);i.Text=t;i.onclick=n=>{if(n.preventDefault(),n.stopPropagation(),HotSpot.Card.Content.innerHTML===i.Text&&HotSpot.Card.style.display===""){HotSpot.Card.Close();return}HotSpot.Card.style.display="";HotSpot.Position(n.target,i);HotSpot.Card.Content.innerHTML=i.Text};n.appendChild(i);SilkFlo.ReplaceImgWithSVG(i)},Position:function(n,t){const f="HotSpot.Position: ";if(!n){console.log(`${f}button parameter missing`);return}if(!t){console.log(`${f}container parameter missing`);return}const r=HotSpot.GetGeometry(n);HotSpot.CardPosition||(HotSpot.CardPosition=HotSpot.GetGeometry(HotSpot.Card));let i=r.left-HotSpot.CardPosition.left-window.scrollX;const u=window.innerWidth;HotSpot.CardPosition.width>u?i=0:i+HotSpot.CardPosition.width>u&&(i=u-HotSpot.CardPosition.width-50);let e=(HotSpot.CardPosition.top-r.top-r.height-HotSpot.CardPosition.y-window.scrollY)*-1;const o=`matrix( 1, 0, 0, 1, ${i}, ${e})`;HotSpot.Card.style.transform=o},GetGeometry:function(n){if(!n)return console.log(`${"HotSpot.GetGeometry: "}element parameter missing`),null;return n.getBoundingClientRect()},IsBackgroundDark:function(n){if(!n)return console.log(`${"HotSpot.IsBackgroundDark: "}element parameter missing`),!1;const f="rgba(0, 0, 0, 0)";let t=f,i=n;while(t===f)t=window.getComputedStyle(i,null).getPropertyValue("background-color"),i=i.parentElement;t=t.replace("rgba(","");t=t.replace("rgb(","");t=t.replace(")","");const e=t.split(", ");let r=0;const o=e.length;for(var u=0;u<o;u++){const n=parseInt(e[u]);r+=n}return o===3?r<382:r<510}};const arr=[];
/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function br(n,t,i){var r,e,u=(i=i||f).createElement("script");if(u.text=n,t)for(r in oe)(e=t[r]||t.getAttribute&&t.getAttribute(r))&&u.setAttribute(r,e);i.head.appendChild(u).parentNode.removeChild(u)}function ut(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ri[pr.call(n)]||"object":typeof n}function pi(n){var t=!!n&&"length"in n&&n.length,i=ut(n);return!u(n)&&!rt(n)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in n)}function c(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function bi(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return-1<ii.call(t,n)!==r}):i.filter(t,n,r)}function uu(n,t){while((n=n[t])&&1!==n.nodeType);return n}function et(n){return n}function fi(n){throw n;}function fu(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(void 0,[n].slice(r))}catch(n){i.apply(void 0,[n])}}function oi(){f.removeEventListener("DOMContentLoaded",oi);n.removeEventListener("load",oi);i.ready()}function ce(n,t){return t.toUpperCase()}function y(n){return n.replace(se,"ms-").replace(he,ce)}function bt(){this.expando=i.expando+bt.uid++}function ou(n,t,i){var u,r;if(void 0===i&&1===n.nodeType)if(u="data-"+t.replace(ae,"-$&").toLowerCase(),"string"==typeof(i=n.getAttribute(u))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:le.test(r)?JSON.parse(r):r)}catch(n){}o.set(n,t,i)}else i=void 0;return i}function hu(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||"px"!==e&&+o)&&kt.exec(i.css(n,t));if(f&&f[3]!==e){for(o/=2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f/=h;f*=2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function ht(n,t){for(var h,f,a,s,c,l,e,o=[],u=0,v=n.length;u<v;u++)(f=n[u]).style&&(h=f.style.display,t?("none"===h&&(o[u]=r.get(f,"display")||null,o[u]||(f.style.display="")),""===f.style.display&&dt(f)&&(o[u]=(e=c=s=void 0,c=(a=f).ownerDocument,l=a.nodeName,(e=ki[l])||(s=c.body.appendChild(c.createElement(l)),e=i.css(s,"display"),s.parentNode.removeChild(s),"none"===e&&(e="block"),ki[l]=e)))):"none"!==h&&(o[u]="none",r.set(f,"display",h)));for(u=0;u<v;u++)null!=o[u]&&(n[u].style.display=o[u]);return n}function s(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&c(n,t)?i.merge([n],r):r}function di(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function vu(n,t,r,u,f){for(var e,o,p,a,w,v,c=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if((e=n[l])||0===e)if("object"===ut(e))i.merge(y,e.nodeType?[e]:e);else if(au.test(e)){for(o=o||c.appendChild(t.createElement("div")),p=(cu.exec(e)||["",""])[1].toLowerCase(),a=h[p]||h._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);(o=c.firstChild).textContent=""}else y.push(t.createTextNode(e));for(c.textContent="",l=0;e=y[l++];)if(u&&-1<i.inArray(e,u))f&&f.push(e);else if(w=st(e),o=s(c.appendChild(e),"script"),w&&di(o),r)for(v=0;e=o[v++];)lu.test(e.type||"")&&r.push(e);return c}function ct(){return!0}function lt(){return!1}function we(n,t){return n===function(){try{return f.activeElement}catch(n){}}()==("focus"===t)}function gi(n,t,r,u,f,e){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(u=u||r,r=void 0),t)gi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),!1===f)f=lt;else if(!f)return n;return 1===e&&(o=f,(f=function(n){return i().off(n),o.apply(this,arguments)}).guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function hi(n,t,u){u?(r.set(n,t,!1),i.event.add(n,t,{namespace:!1,handler:function(n){var o,e,f=r.get(this,t);if(1&n.isTrigger&&this[t]){if(f.length)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(f=k.call(arguments),r.set(this,t,f),o=u(this,t),this[t](),f!==(e=r.get(this,t))||o?r.set(this,t,!1):e={},f!==e)return n.stopImmediatePropagation(),n.preventDefault(),e.value}else f.length&&(r.set(this,t,{value:i.event.trigger(i.extend(f[0],i.Event.prototype),f.slice(1),this)}),n.stopImmediatePropagation())}})):void 0===r.get(n,t)&&i.event.add(n,t,ct)}function pu(n,t){return c(n,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")&&i(n).children("tbody")[0]||n}function ge(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function no(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function wu(n,t){var u,s,f,h,c,e;if(1===t.nodeType){if(r.hasData(n)&&(e=r.get(n).events))for(f in r.remove(t,"handle events"),e)for(u=0,s=e[f].length;u<s;u++)i.event.add(t,f,e[f][u]);o.hasData(n)&&(h=o.access(n),c=i.extend({},h),o.set(t,c))}}function at(n,t,f,o){t=yr(t);var a,b,l,v,h,y,c=0,p=n.length,d=p-1,w=t[0],k=u(w);if(k||1<p&&"string"==typeof w&&!e.checkClone&&ke.test(w))return n.each(function(i){var r=n.eq(i);k&&(t[0]=w.call(this,i,r.html()));at(r,t,f,o)});if(p&&(b=(a=vu(t,n[0].ownerDocument,!1,n,o)).firstChild,1===a.childNodes.length&&(a=b),b||o)){for(v=(l=i.map(s(a,"script"),ge)).length;c<p;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(y=l[l.length-1].ownerDocument,i.map(l,no),c=0;c<v;c++)h=l[c],lu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(y,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?i._evalUrl&&!h.noModule&&i._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},y):br(h.textContent.replace(de,""),h,y))}return n}function bu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(s(u)),u.parentNode&&(r&&st(u)&&di(s(u,"script")),u.parentNode.removeChild(u));return n}function ni(n,t,r){var o,s,h,f,u=n.style;return(r=r||ci(n))&&(""!==(f=r.getPropertyValue(t)||r[t])||st(n)||(f=i.style(n,t)),!e.pixelBoxStyles()&&nr.test(f)&&to.test(t)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=r.width,u.width=o,u.minWidth=s,u.maxWidth=h)),void 0!==f?f+"":f}function du(n,t){return{get:function(){if(!n())return(this.get=t).apply(this,arguments);delete this.get}}}function tr(n){var t=i.cssProps[n]||tf[n];return t||(n in nf?n:tf[n]=function(n){for(var i=n[0].toUpperCase()+n.slice(1),t=gu.length;t--;)if((n=gu[t]+i)in nf)return n}(n)||n)}function ff(n,t,i){var r=kt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function ir(n,t,r,u,f,e){var o="width"===t?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=i.css(n,r+b[o],!0,f)),u?("content"===r&&(s-=i.css(n,"padding"+b[o],!0,f)),"margin"!==r&&(s-=i.css(n,"border"+b[o]+"Width",!0,f))):(s+=i.css(n,"padding"+b[o],!0,f),"padding"!==r?s+=i.css(n,"border"+b[o]+"Width",!0,f):h+=i.css(n,"border"+b[o]+"Width",!0,f));return!u&&0<=e&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s}function ef(n,t,r){var f=ci(n),o=(!e.boxSizingReliable()||r)&&"border-box"===i.css(n,"boxSizing",!1,f),s=o,u=ni(n,t,f),h="offset"+t[0].toUpperCase()+t.slice(1);if(nr.test(u)){if(!r)return u;u="auto"}return(!e.boxSizingReliable()&&o||!e.reliableTrDimensions()&&c(n,"tr")||"auto"===u||!parseFloat(u)&&"inline"===i.css(n,"display",!1,f))&&n.getClientRects().length&&(o="border-box"===i.css(n,"boxSizing",!1,f),(s=h in n)&&(u=n[h])),(u=parseFloat(u)||0)+ir(n,t,r||(o?"border":"content"),s,f,u)+"px"}function a(n,t,i,r,u){return new a.prototype.init(n,t,i,r,u)}function rr(){li&&(!1===f.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(rr):n.setTimeout(rr,i.fx.interval),i.fx.tick())}function cf(){return n.setTimeout(function(){vt=void 0}),vt=Date.now()}function ai(n,t){var u,r=0,i={height:n};for(t=t?1:0;r<4;r+=2-t)i["margin"+(u=b[r])]=i["padding"+u]=n;return t&&(i.opacity=i.width=n),i}function lf(n,t,i){for(var u,f=(v.tweeners[t]||[]).concat(v.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function v(n,t,r){var o,s,h=0,a=v.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=vt||cf(),t=Math.max(0,f.startTime+f.duration-o),i=1-(t/f.duration||0),r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return e.notifyWith(n,[f,i,t]),i<1&&u?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:vt||cf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(!function(n,t){var r,f,e,u,o;for(r in n)if(e=t[f=y(r)],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),(o=i.cssHooks[f])&&"expand"in o)for(r in u=o.expand(u),delete n[f],u)r in n||(n[r]=u[r],t[r]=e);else t[f]=e}(c,f.opts.specialEasing);h<a;h++)if(o=v.prefilters[h].call(f,n,c,f.opts))return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,lf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function tt(n){return(n.match(l)||[]).join(" ")}function it(n){return n.getAttribute&&n.getAttribute("class")||""}function ur(n){return Array.isArray(n)?n:"string"==typeof n&&n.match(l)||[]}function sr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||uo.test(n)?u(n,i):sr(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==ut(t))u(n,t);else for(f in t)sr(n+"["+f+"]",t[f],r,u)}function gf(n){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(l)||[];if(u(i))while(r=e[f++])"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function ne(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===hr;return e(t.dataTypes[0])||!f["*"]&&e("*")}function lr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}var p=[],vr=Object.getPrototypeOf,k=p.slice,yr=p.flat?function(n){return p.flat.call(n)}:function(n){return p.concat.apply([],n)},yi=p.push,ii=p.indexOf,ri={},pr=ri.toString,ui=ri.hasOwnProperty,wr=ui.toString,ee=wr.call(Object),e={},u=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},rt=function(n){return null!=n&&n===n.window},f=n.document,oe={type:!0,src:!0,nonce:!0,noModule:!0},kr="3.5.1",i=function(n,t){return new i.fn.init(n,t)},d,wi,nu,tu,iu,ru,l,eu,ei,ot,dt,ki,h,au,vt,li,yt,of,sf,hf,af,pt,vf,yf,pf,fr,er,te,wt,ie,ar,vi,re,ue,fe;i.fn=i.prototype={jquery:kr,constructor:i,length:0,toArray:function(){return k.call(this)},get:function(n){return null==n?k.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(n,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(n,t){return t%2}))},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(0<=t&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:yi,sort:p.sort,splice:p.splice};i.extend=i.fn.extend=function(){var s,f,e,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[r]||{},r++),"object"==typeof n||u(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if(null!=(s=arguments[r]))for(f in s)t=s[f],"__proto__"!==f&&n!==t&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(e=n[f],c=o&&!Array.isArray(e)?[]:o||i.isPlainObject(e)?e:{},o=!1,n[f]=i.extend(h,c,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(kr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==pr.call(n))&&(!(t=vr(n))||"function"==typeof(i=ui.call(t,"constructor")&&t.constructor)&&wr.call(i)===ee)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t,i){br(n,{nonce:t&&t.nonce},i)},each:function(n,t){var r,i=0;if(pi(n)){for(r=n.length;i<r;i++)if(!1===t.call(n[i],i,n[i]))break}else for(i in n)if(!1===t.call(n[i],i,n[i]))break;return n},makeArray:function(n,t){var r=t||[];return null!=n&&(pi(Object(n))?i.merge(r,"string"==typeof n?[n]:n):yi.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:ii.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u=[],r=0,f=n.length,e=!i;r<f;r++)!t(n[r],r)!==e&&u.push(n[r]);return u},map:function(n,t,i){var e,u,r=0,f=[];if(pi(n))for(e=n.length;r<e;r++)null!=(u=t(n[r],r,i))&&f.push(u);else for(r in n)null!=(u=t(n[r],r,i))&&f.push(u);return yr(f)},guid:1,support:e});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=p[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){ri["[object "+t+"]"]=t.toLowerCase()});d=function(n){function u(n,t,r,u){var s,y,c,l,p,w,d,v=t&&t.ownerDocument,a=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==a&&9!==a&&11!==a)return r;if(!u&&(b(t),t=t||i,h)){if(11!==a&&(p=ar.exec(n)))if(s=p[1]){if(9===a){if(!(c=t.getElementById(s)))return r;if(c.id===s)return r.push(c),r}else if(v&&(c=v.getElementById(s))&&et(t,c)&&c.id===s)return r.push(c),r}else{if(p[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=p[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))&&(1!==a||"object"!==t.nodeName.toLowerCase())){if(d=n,v=t,1===a&&(er.test(n)||yi.test(n))){for((v=ti.test(n)&&ri(t.parentNode)||t)===t&&f.scope||((l=t.getAttribute("id"))?l=l.replace(pi,wi):t.setAttribute("id",l=e)),y=(w=ft(n)).length;y--;)w[y]=(l?"#"+l:":scope")+" "+pt(w[y]);d=w.join(",")}try{return k.apply(r,v.querySelectorAll(d)),r}catch(t){lt(n,!0)}finally{l===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function yt(){var n=[];return function i(r,u){return n.push(r+" ")>t.cacheLength&&delete i[n.shift()],i[r+" "]=u}}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function ki(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function yr(n){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===n}}function pr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function di(n){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&vr(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function gi(){}function pt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function wt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&"parentNode"===f,s=nr++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(l=(a=t[e]||(t[e]={}))[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[f])&&c[0]===v&&c[1]===s)return y[2]=c[2];if((l[f]=y)[2]=n(t,i,h))return!0}return!1}}function ui(n){return 1<n.length?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,f,o){return r&&!r[e]&&(r=fi(r)),f&&!f[e]&&(f=fi(f,o)),l(function(e,o,s,h){var a,l,v,w=[],p=[],b=o.length,d=e||function(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}(t||"*",s.nodeType?[s]:s,[]),y=!n||!e&&t?d:bt(d,w,n,s,h),c=i?f||(e?n:b||r)?[]:o:y;if(i&&i(y,c,s,h),r)for(a=bt(c,p),r(a,[],s,h),l=a.length;l--;)(v=a[l])&&(c[p[l]]=!(y[p[l]]=v));if(e){if(f||n){if(f){for(a=[],l=c.length;l--;)(v=c[l])&&a.push(y[l]=v);f(null,c=[],a,h)}for(l=c.length;l--;)(v=c[l])&&-1<(a=f?nt(e,v):w[l])&&(e[a]=!(o[a]=v))}}else c=bt(c===o?c.splice(b,c.length):c),f?f(null,o,c,h):k.apply(o,c)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=wt(function(n){return n===o},c,!0),a=wt(function(n){return-1<nt(o,n)},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])f=[wt(ui(f),u)];else{if((u=t.filter[n[i].type].apply(null,n[i].matches))[e]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(1<i&&ui(f),1<i&&pt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&pt(n))}f.push(u)}return ui(f)}var rt,f,t,st,oi,ft,kt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,nr=0,hi=yt(),ci=yt(),li=yt(),lt=yt(),dt=function(n,t){return n===t&&(ut=!0),0},tr={}.hasOwnProperty,g=[],ir=g.pop,rr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",ni=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",ur=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),fr=new RegExp("^"+r+"*,"+r+"*"),yi=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),er=new RegExp(r+"|>"),or=new RegExp(ni),sr=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},hr=/HTML$/i,cr=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ti=/[+~]/,y=new RegExp("\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\([^\\r\\n\\f])","g"),p=function(n,t){var i="0x"+n.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},pi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wi=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},bi=function(){b()},vr=wt(function(n){return!0===n.disabled&&"fieldset"===n.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(rt){k={apply:g.length?function(n,t){rr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}for(rt in f=u.support={},oi=u.isXML=function(n){var i=n.namespaceURI,t=(n.ownerDocument||n).documentElement;return!hr.test(i||t&&t.nodeName||"HTML")},b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!=i&&9===l.nodeType&&l.documentElement&&(s=(i=l).documentElement,h=!oi(i),c!=i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",bi,!1):u.attachEvent&&u.attachEvent("onunload",bi)),f.scope=a(function(n){return s.appendChild(n).appendChild(i.createElement("div")),"undefined"!=typeof n.querySelectorAll&&!n.querySelectorAll(":scope fieldset div").length}),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var r,u,f,i=t.getElementById(n);if(i){if((r=i.getAttributeNode("id"))&&r.value===n)return[i];for(f=t.getElementsByName(n),u=0;i=f[u++];)if((r=i.getAttributeNode("id"))&&r.value===n)return[i]}return[]}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){var t;s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+gt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");(t=i.createElement("input")).setAttribute("name","");n.appendChild(t);n.querySelectorAll("[name='']").length||o.push("\\["+r+"*name"+r+"*="+r+"*(?:''|\"\")");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]");n.querySelectorAll("\\\f");o.push("[\\r\\n\\f]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",ni)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(n.ownerDocument||n)==(t.ownerDocument||t)?n.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(n)===r?n==i||n.ownerDocument==c&&et(c,n)?-1:t==i||t.ownerDocument==c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n==i?-1:t==i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return ki(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?ki(f[u],e[u]):f[u]==c?-1:e[u]==c?1:0}),i},u.matches=function(n,t){return u(n,null,null,t)},u.matchesSelector=function(n,t){if(b(n),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(n){lt(t,!0)}return 0<u(t,i,null,[n]).length},u.contains=function(n,t){return(n.ownerDocument||n)!=i&&b(n),et(n,t)},u.attr=function(n,r){(n.ownerDocument||n)!=i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&tr.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):void 0;return void 0!==u?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null},u.escape=function(n){return(n+"").replace(pi,wi)},u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);},u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(dt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n},st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i},(t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&or.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&-1<f.indexOf(i):"$="===t?i&&f.slice(-i.length)===i:"~="===t?-1<(" "+f.replace(ur," ")+" ").indexOf(i):"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,d,y,c,a,w,b=s!==o?"nextSibling":"previousSibling",k=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(k){if(s){while(b){for(c=t;c=c[b];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?k.firstChild:k.lastChild],o&&g){for(l=(a=(p=(d=(y=(c=k)[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1])&&p[2],c=a&&k.childNodes[a];c=++a&&c&&c[b]||(l=a=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){d[n]=[v,a,l];break}}else if(g&&(l=a=(p=(d=(y=(c=t)[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1]),!1===l)while(c=++a&&c&&c[b]||(l=a=0)||w.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&((d=(y=c[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]=[v,l]),c===t))break;return(l-=u)===r||l%r==0&&0<=l/r}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):1<r.length?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var e,u=r(n,i),f=u.length;f--;)n[e=nt(n,u[f])]=!(t[e]=u[f])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=kt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return 0<u(n,t).length}}),contains:l(function(n){return n=n.replace(y,p),function(t){return-1<(t.textContent||st(t)).indexOf(n)}}),lang:l(function(n){return sr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:di(!1),disabled:di(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return lr.test(n.nodeName)},input:function(n){return cr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:t<i?t:i;0<=--r;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=yr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=pr(rt);return gi.prototype=t.filters=t.pseudos,t.setFilters=new gi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){for(o in e&&!(f=fr.exec(r))||(f&&(r=r.slice(f[0].length)||r),h.push(s=[])),e=!1,(f=yi.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length)),t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},kt=u.compile=function(n,r){var s,c,a,o,y,p,w=[],d=[],f=li[n+" "];if(!f){for(r||(r=ft(n)),s=r.length;s--;)(f=ei(r[s]))[e]?w.push(f):d.push(f);(f=li(n,(c=d,o=0<(a=w).length,y=0<c.length,p=function(n,r,f,e,s){var l,nt,d,g=0,p="0",tt=n&&[],w=[],it=ht,rt=n||y&&t.find.TAG("*",s),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(s&&(ht=r==i||r||s);p!==ft&&null!=(l=rt[p]);p++){if(y&&l){for(nt=0,r||l.ownerDocument==i||(b(l),f=!h);d=c[nt++];)if(d(l,r||i,f)){e.push(l);break}s&&(v=ut)}o&&((l=!d&&l)&&g--,n&&tt.push(l))}if(g+=p,o&&p!==g){for(nt=0;d=a[nt++];)d(tt,w,r,f);if(n){if(0<g)while(p--)tt[p]||w[p]||(w[p]=ir.call(e));w=bt(w)}k.apply(e,w);s&&!n&&0<w.length&&1<g+a.length&&u.uniqueSort(e)}return s&&(v=ut,ht=it),tt},o?l(p):p))).selector=n}return f},si=u.select=function(n,i,r,u){var o,f,e,l,a,c="function"==typeof n&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],1===s.length){if(2<(f=s[0]=s[0].slice(0)).length&&"ID"===(e=f[0]).type&&9===i.nodeType&&h&&t.relative[f[1].type]){if(!(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0]))return r;c&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ti.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),!(n=u.length&&pt(f)))return k.apply(r,u),r;break}}}return(c||kt(n,s))(u,i,!h,r,!i||ti.test(n)&&ri(i.parentNode)||i),r},f.sortStable=e.split("").sort(dt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(gt,function(n,t,i){var r;if(!i)return!0===n[t]?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=d;i.expr=d.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=d.uniqueSort;i.text=d.getText;i.isXMLDoc=d.isXML;i.contains=d.contains;i.escapeSelector=d.escape;var ft=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},dr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},gr=i.expr.match.needsContext;wi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return 1<u?i.uniqueSort(r):r},filter:function(n){return this.pushStack(bi(this,n||[],!1))},not:function(n){return this.pushStack(bi(this,n||[],!0))},is:function(n){return!!bi(this,"string"==typeof n&&gr.test(n)?i(n):n||[],!1).length}});tu=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||nu,"string"==typeof n){if(!(e="<"===n[0]&&">"===n[n.length-1]&&3<=n.length?[null,n,null]:tu.exec(n))||!e[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),wi.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return(o=f.getElementById(e[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)}).prototype=i.fn;nu=i(f);iu=/^(?:parents|prev(?:Until|All))/;ru={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!gr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?-1<e.index(r):1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(1<u.length?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?ii.call(i(n),this[0]):ii.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return ft(n,"parentNode")},parentsUntil:function(n,t,i){return ft(n,"parentNode",i)},next:function(n){return uu(n,"nextSibling")},prev:function(n){return uu(n,"previousSibling")},nextAll:function(n){return ft(n,"nextSibling")},prevAll:function(n){return ft(n,"previousSibling")},nextUntil:function(n,t,i){return ft(n,"nextSibling",i)},prevUntil:function(n,t,i){return ft(n,"previousSibling",i)},siblings:function(n){return dr((n.parentNode||{}).firstChild,n)},children:function(n){return dr(n.firstChild)},contents:function(n){return null!=n.contentDocument&&vr(n.contentDocument)?n.contentDocument:(c(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),1<this.length&&(ru[n]||i.uniqueSort(f),iu.test(n)&&f.reverse()),this.pushStack(f)}});l=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){var a,h;n="string"==typeof n?(a=n,h={},i.each(a.match(l)||[],function(n,t){h[t]=!0}),h):i.extend({},n);var o,r,v,f,t=[],s=[],e=-1,y=function(){for(f=f||n.once,v=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)!1===t[e].apply(r[0],r[1])&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},c={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&c.has(r)||t.push(r):r&&r.length&&"string"!==ut(r)&&f(r)})}(arguments),r&&!o&&y()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;-1<(u=i.inArray(r,t,u));)t.splice(u,1),u<=e&&e--}),this},has:function(n){return n?-1<i.inArray(n,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=[n,(t=t||[]).slice?t.slice():t],s.push(t),o||y()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!v}};return c};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,l=function(){var n,i;if(!(t<o)){if((n=f.apply(h,c))===r.promise())throw new TypeError("Thenable self-resolution");i=n&&("object"==typeof n||"function"==typeof n)&&n.then;u(i)?e?i.call(n,s(o,r,et,e),s(o,r,fi,e)):(o++,i.call(n,s(o,r,et,e),s(o,r,fi,e),s(o,r,et,r.notifyWith))):(f!==et&&(h=void 0,c=[n]),(e||r.resolveWith)(h,c))}},a=e?l:function(){try{l()}catch(l){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(l,a.stackTrace);o<=t+1&&(f!==fi&&(h=void 0,c=[l]),r.rejectWith(h,c))}};t?a():(i.Deferred.getStackHook&&(a.stackTrace=i.Deferred.getStackHook()),n.setTimeout(a))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:et,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:et));f[2][3].add(s(0,n,u(r)?r:fi))}).promise()},promise:function(n){return null!=n?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=k.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=1<arguments.length?k.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(fu(n,r.done(s(t)).resolve,r.reject,!e),"pending"===r.state()||u(f[t]&&f[t].then)))return r.then();while(t--)fu(f[t],s(t),r.reject);return r.promise()}});eu=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&eu.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};ei=i.Deferred();i.fn.ready=function(n){return ei.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--i.readyWait:i.isReady)||(i.isReady=!0)!==n&&0<--i.readyWait||ei.resolveWith(f,[i])}});i.ready.then=ei.then;"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?n.setTimeout(i.ready):(f.addEventListener("DOMContentLoaded",oi),n.addEventListener("load",oi));var w=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=null==r;if("object"===ut(r))for(h in e=!0,r)w(n,t,h,r[h],!0,o,s);else if(void 0!==f&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},se=/^-ms-/,he=/-([a-z])/g;ot=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};bt.uid=1;bt.prototype={cache:function(n){var t=n[this.expando];return t||(t={},ot(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(u=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(l)||[]).length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new bt,o=new bt,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(void 0===n){if(this.length&&(e=o.get(i),1===i.nodeType&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&0===(u=s[f].name).indexOf("data-")&&(u=y(u.slice(5)),ou(i,u,e[u]));r.set(i,"hasDataAttrs",!0)}return e}return"object"==typeof n?this.each(function(){o.set(this,n)}):w(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=o.get(i,n))?r:void 0!==(r=ou(i,n))?r:void 0;this.each(function(){o.set(this,n,t)})},null,t,1<arguments.length,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t);"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,function(){i.dequeue(n,t)},f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)(u=r.get(f[s],n+"queueHooks"))&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var su=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=new RegExp("^(?:([+-])=|)("+su+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],g=f.documentElement,st=function(n){return i.contains(n.ownerDocument,n)},ve={composed:!0};g.getRootNode&&(st=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(ve)===n.ownerDocument});dt=function(n,t){return"none"===(n=t||n).style.display||""===n.style.display&&st(n)&&"none"===i.css(n,"display")};ki={};i.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){dt(this)?i(this).show():i(this).hide()})}});var nt,si,gt=/^(?:checkbox|radio)$/i,cu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lu=/^$|^module$|\/(?:java|ecma)script/i;nt=f.createDocumentFragment().appendChild(f.createElement("div"));(si=f.createElement("input")).setAttribute("type","radio");si.setAttribute("checked","checked");si.setAttribute("name","t");nt.appendChild(si);e.checkClone=nt.cloneNode(!0).cloneNode(!0).lastChild.checked;nt.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!nt.cloneNode(!0).lastChild.defaultValue;nt.innerHTML="<option><\/option>";e.option=!!nt.lastChild;h={thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;e.option||(h.optgroup=h.option=[1,"<select multiple='multiple'>","<\/select>"]);au=/<|&#?\w+;/;var ye=/^key/,pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var p,a,k,v,w,h,s,c,o,b,d,y=r.get(n);if(ot(n))for(u.handler&&(u=(p=u).handler,e=p.selector),e&&i.find.matchesSelector(g,e),u.guid||(u.guid=i.guid++),(v=y.events)||(v=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),w=(t=(t||"").match(l)||[""]).length;w--;)o=d=(k=yu.exec(t[w])||[])[1],b=(k[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},p),(c=v[o])||((c=v[o]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(n,f,b,a)||n.addEventListener&&n.addEventListener(o,a)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,c,v,p,s,h,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(p=(t=(t||"").match(l)||[""]).length;p--;)if(o=d=(c=yu.exec(t[p])||[])[1],b=(c[2]||"").split(".").sort(),o){for(h=i.event.special[o]||{},a=v[o=(f?h.delegateType:h.bindType)||o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,h.remove&&h.remove.call(n,s));k&&!a.length&&(h.teardown&&!1!==h.teardown.call(n,b,w.handle)||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var u,h,c,e,f,l,s=new Array(arguments.length),t=i.event.fix(n),a=(r.get(this,"events")||Object.create(null))[t.type]||[],o=i.event.special[t.type]||{};for(s[0]=t,u=1;u<arguments.length;u++)s[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,t)){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!1!==f.namespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,s))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,h,u,e,o,c=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&!("click"===n.type&&1<=n.button))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||!0!==r.disabled)){for(e=[],o={},f=0;f<s;f++)void 0===o[u=(h=t[f]).selector+" "]&&(o[u]=h.needsContext?-1<i(u,this).index(r):i.find(u,this,null,[r]).length),o[u]&&e.push(h);e.length&&c.push({elem:r,handlers:e})}return r=this,s<t.length&&c.push({elem:r,handlers:t.slice(s)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return gt.test(t.type)&&t.click&&c(t,"input")&&hi(t,"click",ct),!1},trigger:function(n){var t=this||n;return gt.test(t.type)&&t.click&&c(t,"input")&&hi(t,"click"),!0},_default:function(n){var t=n.target;return gt.test(t.type)&&t.click&&c(t,"input")&&r.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?ct:lt,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:lt,isPropagationStopped:lt,isImmediatePropagationStopped:lt,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ct;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ct;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ct;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&ye.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&pe.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},function(n,t){i.event.special[n]={setup:function(){return hi(this,n,we),!1},trigger:function(){return hi(this,n),!0},delegateType:t}});i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,r=n.relatedTarget,f=n.handleObj;return r&&(r===this||i.contains(this,r))||(n.type=f.origType,u=f.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return gi(this,n,t,i,r)},one:function(n,t,i,r){return gi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=lt),this.each(function(){i.event.remove(this,n,r,t)})}});var be=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n},clone:function(n,t,r){var u,c,o,f,l,a,v,h=n.cloneNode(!0),y=st(n);if(!(e.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=s(h),u=0,c=(o=s(n)).length;u<c;u++)l=o[u],a=f[u],void 0,"input"===(v=a.nodeName.toLowerCase())&&gt.test(l.type)?a.checked=l.checked:"input"!==v&&"textarea"!==v||(a.defaultValue=l.defaultValue);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)wu(o[u],f[u]);else wu(n,h);return 0<(f=s(h,"script")).length&&di(f,!y&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;void 0!==(t=n[e]);e++)if(ot(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[o.expando]&&(t[o.expando]=void 0)}}});i.fn.extend({detach:function(n){return bu(this,n,!0)},remove:function(n){return bu(this,n)},text:function(n){return w(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return at(this,arguments,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pu(this,n).appendChild(n)})},prepend:function(){return at(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return at(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return at(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return w(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!be.test(n)&&!h[(cu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)1===(t=this[r]||{}).nodeType&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(n){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return at(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),yi.apply(f,u.get());return this.pushStack(f)}});var nr=new RegExp("^("+su+")(?!px)[a-z%]+$","i"),ci=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},ku=function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];for(r in u=i.call(n),t)n.style[r]=f[r];return u},to=new RegExp(b.join("|"),"i");!function(){function r(){if(t){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";g.appendChild(s).appendChild(t);var i=n.getComputedStyle(t);h="1%"!==i.top;v=12===u(i.marginLeft);t.style.right="60%";a=36===u(i.right);c=36===u(i.width);t.style.position="absolute";l=12===u(t.offsetWidth/3);g.removeChild(s);t=null}}function u(n){return Math.round(parseFloat(n))}var h,c,l,a,o,v,s=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===t.style.backgroundClip,i.extend(e,{boxSizingReliable:function(){return r(),c},pixelBoxStyles:function(){return r(),a},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),v},scrollboxSize:function(){return r(),l},reliableTrDimensions:function(){var t,i,r,u;return null==o&&(t=f.createElement("table"),i=f.createElement("tr"),r=f.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",r.style.height="9px",g.appendChild(t).appendChild(i).appendChild(r),u=n.getComputedStyle(i),o=3<parseInt(u.height),g.removeChild(t)),o}}))}();var gu=["Webkit","Moz","ms"],nf=f.createElement("div").style,tf={};var io=/^(none|table(?!-c[ea]).+)/,rf=/^--/,ro={position:"absolute",visibility:"hidden",display:"block"},uf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=ni(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var f,h,o,c=y(t),l=rf.test(t),s=n.style;if(l||(t=tr(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r)return o&&"get"in o&&void 0!==(f=o.get(n,!1,u))?f:s[t];"string"==(h=typeof r)&&(f=kt.exec(r))&&f[1]&&(r=hu(n,t,f),h="number");null!=r&&r==r&&("number"!==h||l||(r+=f&&f[3]||(i.cssNumber[c]?"":"px")),e.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?s.setProperty(t,r):s[t]=r))}},css:function(n,t,r,u){var f,e,o,s=y(t);return rf.test(t)||(t=tr(s)),(o=i.cssHooks[t]||i.cssHooks[s])&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=ni(n,t,u)),"normal"===f&&t in uf&&(f=uf[t]),""===r||r?(e=parseFloat(f),!0===r||isFinite(e)?e||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!io.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?ef(n,t,u):ku(n,ro,function(){return ef(n,t,u)})},set:function(n,r,u){var s,f=ci(n),h=!e.scrollboxSize()&&"absolute"===f.position,c=(h||u)&&"border-box"===i.css(n,"boxSizing",!1,f),o=u?ir(n,t,u,c,f):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-ir(n,t,"border",!1,f)-.5)),o&&(s=kt.exec(r))&&"px"!==(s[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),ff(0,r,o)}}});i.cssHooks.marginLeft=du(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(ni(n,"marginLeft"))||n.getBoundingClientRect().left-ku(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};"margin"!==n&&(i.cssHooks[n+t].set=ff)});i.fn.extend({css:function(n,t){return w(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ci(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,1<arguments.length)}});((i.Tween=a).prototype={constructor:a,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=a.propHooks[this.prop];return n&&n.get?n.get(this):a.propHooks._default.get(this)},run:function(n){var t,r=a.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):a.propHooks._default.set(this),this}}).init.prototype=a.prototype;(a.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""))&&"auto"!==t?t:0},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||!i.cssHooks[n.prop]&&null==n.elem.style[tr(n.prop)]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}}).scrollTop=a.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=a.prototype.init;i.fx.step={};sf=/^(?:toggle|show|hide)$/;hf=/queueHooks$/;i.Animation=i.extend(v,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return hu(i.elem,n,kt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(l);for(var i,r=0,f=n.length;r<f;r++)i=n[r],v.tweeners[i]=v.tweeners[i]||[],v.tweeners[i].unshift(t)},prefilters:[function(n,t,u){var f,y,w,c,b,h,o,l,k="width"in t||"height"in t,v=this,p={},s=n.style,a=n.nodeType&&dt(n),e=r.get(n,"fxshow");for(f in u.queue||(null==(c=i._queueHooks(n,"fx")).unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})})),t)if(y=t[f],sf.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if((h=!i.isEmptyObject(t))||!i.isEmptyObject(p))for(f in k&&1===n.nodeType&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],null==(o=e&&e.display)&&(o=r.get(n,"display")),"none"===(l=i.css(n,"display"))&&(o?l=o:(ht([n],!0),o=n.style.display||o,l=i.css(n,"display"),ht([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(h||(v.done(function(){s.display=o}),null==o&&(l=s.display,o="none"===l?"":l)),s.display="inline-block")),u.overflow&&(s.overflow="hidden",v.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]})),h=!1,p)h||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&ht([n],!0),v.done(function(){for(f in a||ht([n]),r.remove(n,"fxshow"),p)i.style(n,f,p[f])})),h=lf(a?e[f]:0,f,v),f in e||(e[f]=h.start,a&&(h.end=h.start,h.start=0))}],prefilter:function(n,t){t?v.prefilters.unshift(n):v.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(dt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=v(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||!1===o.queue?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&hf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ai(t,!0),n,i,u)}});i.each({slideDown:ai("show"),slideUp:ai("hide"),slideToggle:ai("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(vt=Date.now();n<t.length;n++)(r=t[n])()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();vt=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){li||(li=!0,rr())};i.fx.stop=function(){li=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx&&i.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})};yt=f.createElement("input");of=f.createElement("select").appendChild(f.createElement("option"));yt.type="checkbox";e.checkOn=""!==yt.value;e.optSelected=of.selected;(yt=f.createElement("input")).value="t";yt.type="radio";e.radioValue="t"===yt.value;pt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return w(this,i.attr,n,t,1<arguments.length)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(u=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?af:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):u&&"get"in u&&null!==(f=u.get(n,t))?f:null==(f=i.find.attr(n,t))?void 0:f)},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&"radio"===t&&c(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(l);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});af={set:function(n,t,r){return!1===t?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=pt[t]||i.find.attr;pt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=pt[u],pt[u]=f,f=null!=r(n,t,i)?u:null,pt[u]=e),f}});vf=/^(?:input|select|textarea|button)$/i;yf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return w(this,i.prop,n,t,1<arguments.length)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):vf.test(n.nodeName)||yf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var o,t,r,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,it(this)))});if((o=ur(n)).length)while(t=this[c++])if(f=it(t),r=1===t.nodeType&&" "+tt(f)+" "){for(s=0;e=o[s++];)r.indexOf(" "+e+" ")<0&&(r+=e+" ");f!==(h=tt(r))&&t.setAttribute("class",h)}return this},removeClass:function(n){var o,r,t,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,it(this)))});if(!arguments.length)return this.attr("class","");if((o=ur(n)).length)while(r=this[c++])if(f=it(r),t=1===r.nodeType&&" "+tt(f)+" "){for(s=0;e=o[s++];)while(-1<t.indexOf(" "+e+" "))t=t.replace(" "+e+" "," ");f!==(h=tt(t))&&r.setAttribute("class",h)}return this},toggleClass:function(n,t){var f=typeof n,e="string"===f||Array.isArray(n);return"boolean"==typeof t&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,it(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ur(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==f||((t=it(this))&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===n?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+tt(it(t))+" ").indexOf(i))return!0;return!1}});pf=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;1===this.nodeType&&(null==(u=e?n.call(this,r,i(this).val()):n)?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(f,"value"))?r:"string"==typeof(r=f.value)?r.replace(pf,""):null==r?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:tt(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(((t=o[r]).selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!c(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var r,u,f=n.options,e=i.makeArray(t),o=f.length;o--;)((u=f[o]).selected=-1<i.inArray(i.valHooks.option.get(u),e))&&(r=!0);return r||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=-1<i.inArray(i(n).val(),t)}};e.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});e.focusin="onfocusin"in n;fr=/^(?:focusinfocus|focusoutblur)$/;er=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,p,w=[o||f],h=ui.call(t,"type")?t.type:t,b=ui.call(t,"namespace")?t.namespace.split("."):[];if(c=p=l=o=o||f,3!==o.nodeType&&8!==o.nodeType&&!fr.test(h+i.event.triggered)&&(-1<h.indexOf(".")&&(h=(b=h.split(".")).shift(),b.sort()),v=h.indexOf(":")<0&&"on"+h,(t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||!1!==a.trigger.apply(o,e))){if(!s&&!a.noBubble&&!rt(o)){for(d=a.delegateType||h,fr.test(d+h)||(c=c.parentNode);c;c=c.parentNode)w.push(c),l=c;l===(o.ownerDocument||f)&&w.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=w[k++])&&!t.isPropagationStopped();)p=c,t.type=1<k?d:a.bindType||h,(y=(r.get(c,"events")||Object.create(null))[t.type]&&r.get(c,"handle"))&&y.apply(c,e),(y=v&&c[v])&&y.apply&&ot(c)&&(t.result=y.apply(c,e),!1===t.result&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||a._default&&!1!==a._default.apply(w.pop(),e)||!ot(o)||v&&u(o[h])&&!rt(o)&&((l=o[v])&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,er),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,er),i.event.triggered=void 0,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var ti=n.location,wf={guid:Date.now()},or=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var uo=/\[\]$/,bf=/\r?\n/g,fo=/^(?:submit|button|image|reset|file)$/i,eo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==i?"":i)};if(null==n)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)sr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&eo.test(this.nodeName)&&!fo.test(n)&&(this.checked||!gt.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bf,"\r\n")}}):{name:t.name,value:r.replace(bf,"\r\n")}}).get()}});var oo=/%20/g,so=/#.*$/,ho=/([?&])_=[^&]*/,co=/^(.*?):[ \t]*([^\r\n]*)$/gm,lo=/^(?:GET|HEAD)$/,ao=/^\/\//,kf={},hr={},df="*/".concat("*"),cr=f.createElement("a");return cr.href=ti.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ti.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":df,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?lr(lr(n,i.ajaxSettings),t):lr(i.ajaxSettings,n)},ajaxPrefilter:gf(kf),ajaxTransport:gf(hr),ajax:function(t,r){function b(t,r,f,c){var v,rt,b,p,g,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=c||"",e.readyState=0<t?4:0,v=200<=t&&t<300||304===t,f&&(p=function(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}(u,e,f)),!v&&-1<i.inArray("script",u.dataTypes)&&(u.converters["text script"]=function(){}),p=function(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(!(f=o[e+" "+u]||o["* "+u]))for(h in o)if((s=h.split(" "))[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){!0===f?f=o[h]:!0!==o[h]&&(u=s[0],c.unshift(s[1]));break}if(!0!==f)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(n){return{state:"parsererror",error:f?n:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}(u,p,e,v),v?(u.ifModified&&((g=e.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=g),(g=e.getResponseHeader("etag"))&&(i.etag[o]=g)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,v=!(b=p.error))):(b=l,!t&&l||(l="error",t<0&&(t=0))),e.status=t,e.statusText=(r||l)+"",v?tt.resolveWith(h,[rt,l,e]):tt.rejectWith(h,[e,l,b]),e.statusCode(w),w=void 0,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:b]),it.fireWith(h,[e,l]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,v,d,c,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=co.exec(k);)v[t[1].toLowerCase()+" "]=(v[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=v[n.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||ti.href)+"").replace(ao,ti.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(l)||[""],null==u.crossDomain){c=f.createElement("a");try{c.href=u.url;c.href=c.href;u.crossDomain=cr.protocol+"//"+cr.host!=c.protocol+"//"+c.host}catch(t){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),ne(kf,u,r,e),s)return e;for(g in(y=i.event&&u.global)&&0==i.active++&&i.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!lo.test(u.type),o=u.url.replace(so,""),u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(oo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||"string"==typeof u.data)&&(o+=(or.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(o=o.replace(ho,"$1"),p=(or.test(o)?"&":"?")+"_="+wf.guid+++p),u.url=o+p),u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType),e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+df+"; q=0.01":""):u.accepts["*"]),u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(!1===u.beforeSend.call(h,e,u)||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),a=ne(hr,u,r,e)){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&0<u.timeout&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;a.send(rt,b)}catch(t){if(s)throw t;b(-1,t)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(n){for(var t in n.headers)"content-type"===t.toLowerCase()&&(n.contentType=n.headers[t]||"")}),i._evalUrl=function(n,t,r){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t,r)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},te={0:200,1223:204},wt=i.ajaxSettings.xhr(),e.cors=!!wt&&"withCredentials"in wt,e.ajax=wt=!!wt,i.ajaxTransport(function(t){var i,r;if(e.cors||wt&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];for(o in t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType),t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest"),u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(te[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(u){if(i)throw u;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){var r,t;if(n.crossDomain||n.scriptAttrs)return{send:function(u,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}),ar=[],vi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=ar.pop()||i.expando+"_"+wf.guid++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=!1!==t.jsonp&&(vi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&vi.test(t.data)&&"data");if(h||"jsonp"===t.dataTypes[0])return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(vi,"$1"+e):!1!==t.jsonp&&(t.url+=(or.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){void 0===o?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,ar.push(e));s&&u(o)&&o(s[0]);s=o=void 0}),"script"}),e.createHTMLDocument=((ie=f.implementation.createHTMLDocument("").body).innerHTML="<form><\/form><form><\/form>",2===ie.childNodes.length),i.parseHTML=function(n,t,r){return"string"!=typeof n?[]:("boolean"==typeof t&&(r=t,t=!1),t||(e.createHTMLDocument?((s=(t=f.implementation.createHTMLDocument("")).createElement("base")).href=f.location.href,t.head.appendChild(s)):t=f),u=!r&&[],(o=wi.exec(n))?[t.createElement(o[1])]:(o=vu([n],t,u),u&&u.length&&i(u).remove(),i.merge([],o.childNodes)));var s,o,u},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return-1<o&&(f=tt(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),0<e.length&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var v,o,s,h,e,c,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");e=a.offset();s=i.css(n,"top");c=i.css(n,"left");("absolute"===l||"fixed"===l)&&-1<(s+c).indexOf("auto")?(h=(v=a.position()).top,o=v.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);u(t)&&(t=t.call(n,r,i.extend({},e)));null!=t.top&&(f.top=t.top-e.top+h);null!=t.left&&(f.left=t.left-e.left+o);"using"in t?t.using.call(n,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),a.css(f))}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,u,t=this[0],f={top:0,left:0};if("fixed"===i.css(t,"position"))r=t.getBoundingClientRect();else{for(r=this.offset(),u=t.ownerDocument,n=t.offsetParent||u.documentElement;n&&(n===u.body||n===u.documentElement)&&"static"===i.css(n,"position");)n=n.parentNode;n&&n!==t&&1===n.nodeType&&((f=i(n).offset()).top+=i.css(n,"borderTopWidth",!0),f.left+=i.css(n,"borderLeftWidth",!0))}return{top:r.top-f.top-i.css(t,"marginTop",!0),left:r.left-f.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||g})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return w(this,function(n,i,u){var f;if(rt(n)?f=n:9===n.nodeType&&(f=n.defaultView),void 0===u)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=du(e.pixelPosition,function(n,r){if(r)return r=ni(n,t),nr.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(!0===f||!0===e?"margin":"border");return w(this,function(t,r,f){var e;return rt(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return 0<arguments.length?this.on(t,null,n,i):this.trigger(t)}}),re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i.proxy=function(n,t){var r,f,e;if("string"==typeof t&&(r=n[t],t=n,n=r),u(n))return f=k.call(arguments,2),(e=function(){return n.apply(t||this,f.concat(k.call(arguments)))}).guid=n.guid=n.guid||i.guid++,e},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=c,i.isFunction=u,i.isWindow=rt,i.camelCase=y,i.type=ut,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},i.trim=function(n){return null==n?"":(n+"").replace(re,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),ue=n.jQuery,fe=n.$,i.noConflict=function(t){return n.$===i&&(n.$=fe),t&&n.jQuery===i&&(n.jQuery=ue),i},"undefined"==typeof t&&(n.jQuery=n.$=i),i});